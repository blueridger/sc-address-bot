exports.sourcecred=function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=247)}([function(t,e){t.exports=function t(e){return Object.freeze(e),Object.getOwnPropertyNames(e).forEach((function(r){!e.hasOwnProperty(r)||null===e[r]||"object"!=typeof e[r]&&"function"!=typeof e[r]||Object.isFrozen(e[r])||t(e[r])})),e}},function(t,e){t.exports=require("path")},function(t,e,r){var n="undefined"!=typeof JSON?JSON:r(102);t.exports=function(t,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var r=e.space||"";"number"==typeof r&&(r=Array(r+1).join(" "));var s,a="boolean"==typeof e.cycles&&e.cycles,c=e.replacer||function(t,e){return e},u=e.cmp&&(s=e.cmp,function(t){return function(e,r){var n={key:e,value:t[e]},i={key:r,value:t[r]};return s(n,i)}}),l=[];return function t(e,s,h,d){var f=r?"\n"+new Array(d+1).join(r):"",p=r?": ":":";if(h&&h.toJSON&&"function"==typeof h.toJSON&&(h=h.toJSON()),void 0!==(h=c.call(e,s,h))){if("object"!=typeof h||null===h)return n.stringify(h);if(i(h)){for(var m=[],g=0;g<h.length;g++){var y=t(h,g,h[g],d+1)||n.stringify(null);m.push(f+r+y)}return"["+m.join(",")+f+"]"}if(-1!==l.indexOf(h)){if(a)return n.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}l.push(h);var _=o(h).sort(u&&u(h));for(m=[],g=0;g<_.length;g++){var v=t(h,s=_[g],h[s],d+1);if(v){var b=n.stringify(s)+p+v;m.push(f+r+b)}}return l.splice(l.indexOf(h),1),"{"+m.join(",")+f+"}"}}({"":t},"",t,0)};var i=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},o=Object.keys||function(t){var e=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var n in t)e.call(t,n)&&r.push(n);return r}},function(t,e,r){(function(t){var n,i=function(t){"use strict";var e=1e7,r=9007199254740992,n=h(r),o="function"==typeof BigInt;function s(t,e,r,n){return void 0===t?s[0]:void 0!==e&&(10!=+e||r)?U(t,e,r,n):W(t)}function a(t,e){this.value=t,this.sign=e,this.isSmall=!1}function c(t){this.value=t,this.sign=t<0,this.isSmall=!0}function u(t){this.value=t}function l(t){return-r<t&&t<r}function h(t){return t<1e7?[t]:t<1e14?[t%1e7,Math.floor(t/1e7)]:[t%1e7,Math.floor(t/1e7)%1e7,Math.floor(t/1e14)]}function d(t){f(t);var r=t.length;if(r<4&&k(t,n)<0)switch(r){case 0:return 0;case 1:return t[0];case 2:return t[0]+t[1]*e;default:return t[0]+(t[1]+t[2]*e)*e}return t}function f(t){for(var e=t.length;0===t[--e];);t.length=e+1}function p(t){for(var e=new Array(t),r=-1;++r<t;)e[r]=0;return e}function m(t){return t>0?Math.floor(t):Math.ceil(t)}function g(t,r){var n,i,o=t.length,s=r.length,a=new Array(o),c=0,u=e;for(i=0;i<s;i++)c=(n=t[i]+r[i]+c)>=u?1:0,a[i]=n-c*u;for(;i<o;)c=(n=t[i]+c)===u?1:0,a[i++]=n-c*u;return c>0&&a.push(c),a}function y(t,e){return t.length>=e.length?g(t,e):g(e,t)}function _(t,r){var n,i,o=t.length,s=new Array(o),a=e;for(i=0;i<o;i++)n=t[i]-a+r,r=Math.floor(n/a),s[i]=n-r*a,r+=1;for(;r>0;)s[i++]=r%a,r=Math.floor(r/a);return s}function v(t,e){var r,n,i=t.length,o=e.length,s=new Array(i),a=0;for(r=0;r<o;r++)(n=t[r]-a-e[r])<0?(n+=1e7,a=1):a=0,s[r]=n;for(r=o;r<i;r++){if(!((n=t[r]-a)<0)){s[r++]=n;break}n+=1e7,s[r]=n}for(;r<i;r++)s[r]=t[r];return f(s),s}function b(t,e,r){var n,i,o=t.length,s=new Array(o),u=-e;for(n=0;n<o;n++)i=t[n]+u,u=Math.floor(i/1e7),i%=1e7,s[n]=i<0?i+1e7:i;return"number"==typeof(s=d(s))?(r&&(s=-s),new c(s)):new a(s,r)}function w(t,e){var r,n,i,o,s=t.length,a=e.length,c=p(s+a);for(i=0;i<s;++i){o=t[i];for(var u=0;u<a;++u)r=o*e[u]+c[i+u],n=Math.floor(r/1e7),c[i+u]=r-1e7*n,c[i+u+1]+=n}return f(c),c}function E(t,r){var n,i,o=t.length,s=new Array(o),a=e,c=0;for(i=0;i<o;i++)n=t[i]*r+c,c=Math.floor(n/a),s[i]=n-c*a;for(;c>0;)s[i++]=c%a,c=Math.floor(c/a);return s}function S(t,e){for(var r=[];e-- >0;)r.push(0);return r.concat(t)}function T(t,r,n){return new a(t<e?E(r,t):w(r,h(t)),n)}function A(t){var e,r,n,i,o=t.length,s=p(o+o);for(n=0;n<o;n++){r=0-(i=t[n])*i;for(var a=n;a<o;a++)e=i*t[a]*2+s[n+a]+r,r=Math.floor(e/1e7),s[n+a]=e-1e7*r;s[n+o]=r}return f(s),s}function O(t,e){var r,n,i,o,s=t.length,a=p(s);for(i=0,r=s-1;r>=0;--r)i=(o=1e7*i+t[r])-(n=m(o/e))*e,a[r]=0|n;return[a,0|i]}function M(t,r){var n,i=W(r);if(o)return[new u(t.value/i.value),new u(t.value%i.value)];var l,g=t.value,y=i.value;if(0===y)throw new Error("Cannot divide by zero");if(t.isSmall)return i.isSmall?[new c(m(g/y)),new c(g%y)]:[s[0],t];if(i.isSmall){if(1===y)return[t,s[0]];if(-1==y)return[t.negate(),s[0]];var _=Math.abs(y);if(_<e){l=d((n=O(g,_))[0]);var b=n[1];return t.sign&&(b=-b),"number"==typeof l?(t.sign!==i.sign&&(l=-l),[new c(l),new c(b)]):[new a(l,t.sign!==i.sign),new c(b)]}y=h(_)}var w=k(g,y);if(-1===w)return[s[0],t];if(0===w)return[s[t.sign===i.sign?1:-1],s[0]];l=(n=g.length+y.length<=200?function(t,r){var n,i,o,s,a,c,u,l=t.length,h=r.length,f=e,m=p(r.length),g=r[h-1],y=Math.ceil(f/(2*g)),_=E(t,y),v=E(r,y);for(_.length<=l&&_.push(0),v.push(0),g=v[h-1],i=l-h;i>=0;i--){for(n=f-1,_[i+h]!==g&&(n=Math.floor((_[i+h]*f+_[i+h-1])/g)),o=0,s=0,c=v.length,a=0;a<c;a++)o+=n*v[a],u=Math.floor(o/f),s+=_[i+a]-(o-u*f),o=u,s<0?(_[i+a]=s+f,s=-1):(_[i+a]=s,s=0);for(;0!==s;){for(n-=1,o=0,a=0;a<c;a++)(o+=_[i+a]-f+v[a])<0?(_[i+a]=o+f,o=0):(_[i+a]=o,o=1);s+=o}m[i]=n}return _=O(_,y)[0],[d(m),d(_)]}(g,y):function(t,e){for(var r,n,i,o,s,a=t.length,c=e.length,u=[],l=[];a;)if(l.unshift(t[--a]),f(l),k(l,e)<0)u.push(0);else{i=1e7*l[(n=l.length)-1]+l[n-2],o=1e7*e[c-1]+e[c-2],n>c&&(i=1e7*(i+1)),r=Math.ceil(i/o);do{if(k(s=E(e,r),l)<=0)break;r--}while(r);u.push(r),l=v(l,s)}return u.reverse(),[d(u),d(l)]}(g,y))[0];var S=t.sign!==i.sign,T=n[1],A=t.sign;return"number"==typeof l?(S&&(l=-l),l=new c(l)):l=new a(l,S),"number"==typeof T?(A&&(T=-T),T=new c(T)):T=new a(T,A),[l,T]}function k(t,e){if(t.length!==e.length)return t.length>e.length?1:-1;for(var r=t.length-1;r>=0;r--)if(t[r]!==e[r])return t[r]>e[r]?1:-1;return 0}function x(t){var e=t.abs();return!e.isUnit()&&(!!(e.equals(2)||e.equals(3)||e.equals(5))||!(e.isEven()||e.isDivisibleBy(3)||e.isDivisibleBy(5))&&(!!e.lesser(49)||void 0))}function N(t,e){for(var r,n,o,s=t.prev(),a=s,c=0;a.isEven();)a=a.divide(2),c++;t:for(n=0;n<e.length;n++)if(!t.lesser(e[n])&&!(o=i(e[n]).modPow(a,t)).isUnit()&&!o.equals(s)){for(r=c-1;0!=r;r--){if((o=o.square().mod(t)).isUnit())return!1;if(o.equals(s))continue t}return!1}return!0}a.prototype=Object.create(s.prototype),c.prototype=Object.create(s.prototype),u.prototype=Object.create(s.prototype),a.prototype.add=function(t){var e=W(t);if(this.sign!==e.sign)return this.subtract(e.negate());var r=this.value,n=e.value;return e.isSmall?new a(_(r,Math.abs(n)),this.sign):new a(y(r,n),this.sign)},a.prototype.plus=a.prototype.add,c.prototype.add=function(t){var e=W(t),r=this.value;if(r<0!==e.sign)return this.subtract(e.negate());var n=e.value;if(e.isSmall){if(l(r+n))return new c(r+n);n=h(Math.abs(n))}return new a(_(n,Math.abs(r)),r<0)},c.prototype.plus=c.prototype.add,u.prototype.add=function(t){return new u(this.value+W(t).value)},u.prototype.plus=u.prototype.add,a.prototype.subtract=function(t){var e=W(t);if(this.sign!==e.sign)return this.add(e.negate());var r=this.value,n=e.value;return e.isSmall?b(r,Math.abs(n),this.sign):function(t,e,r){var n;return k(t,e)>=0?n=v(t,e):(n=v(e,t),r=!r),"number"==typeof(n=d(n))?(r&&(n=-n),new c(n)):new a(n,r)}(r,n,this.sign)},a.prototype.minus=a.prototype.subtract,c.prototype.subtract=function(t){var e=W(t),r=this.value;if(r<0!==e.sign)return this.add(e.negate());var n=e.value;return e.isSmall?new c(r-n):b(n,Math.abs(r),r>=0)},c.prototype.minus=c.prototype.subtract,u.prototype.subtract=function(t){return new u(this.value-W(t).value)},u.prototype.minus=u.prototype.subtract,a.prototype.negate=function(){return new a(this.value,!this.sign)},c.prototype.negate=function(){var t=this.sign,e=new c(-this.value);return e.sign=!t,e},u.prototype.negate=function(){return new u(-this.value)},a.prototype.abs=function(){return new a(this.value,!1)},c.prototype.abs=function(){return new c(Math.abs(this.value))},u.prototype.abs=function(){return new u(this.value>=0?this.value:-this.value)},a.prototype.multiply=function(t){var r,n,i,o=W(t),c=this.value,u=o.value,l=this.sign!==o.sign;if(o.isSmall){if(0===u)return s[0];if(1===u)return this;if(-1===u)return this.negate();if((r=Math.abs(u))<e)return new a(E(c,r),l);u=h(r)}return n=c.length,i=u.length,new a(-.012*n-.012*i+15e-6*n*i>0?function t(e,r){var n=Math.max(e.length,r.length);if(n<=30)return w(e,r);n=Math.ceil(n/2);var i=e.slice(n),o=e.slice(0,n),s=r.slice(n),a=r.slice(0,n),c=t(o,a),u=t(i,s),l=t(y(o,i),y(a,s)),h=y(y(c,S(v(v(l,c),u),n)),S(u,2*n));return f(h),h}(c,u):w(c,u),l)},a.prototype.times=a.prototype.multiply,c.prototype._multiplyBySmall=function(t){return l(t.value*this.value)?new c(t.value*this.value):T(Math.abs(t.value),h(Math.abs(this.value)),this.sign!==t.sign)},a.prototype._multiplyBySmall=function(t){return 0===t.value?s[0]:1===t.value?this:-1===t.value?this.negate():T(Math.abs(t.value),this.value,this.sign!==t.sign)},c.prototype.multiply=function(t){return W(t)._multiplyBySmall(this)},c.prototype.times=c.prototype.multiply,u.prototype.multiply=function(t){return new u(this.value*W(t).value)},u.prototype.times=u.prototype.multiply,a.prototype.square=function(){return new a(A(this.value),!1)},c.prototype.square=function(){var t=this.value*this.value;return l(t)?new c(t):new a(A(h(Math.abs(this.value))),!1)},u.prototype.square=function(t){return new u(this.value*this.value)},a.prototype.divmod=function(t){var e=M(this,t);return{quotient:e[0],remainder:e[1]}},u.prototype.divmod=c.prototype.divmod=a.prototype.divmod,a.prototype.divide=function(t){return M(this,t)[0]},u.prototype.over=u.prototype.divide=function(t){return new u(this.value/W(t).value)},c.prototype.over=c.prototype.divide=a.prototype.over=a.prototype.divide,a.prototype.mod=function(t){return M(this,t)[1]},u.prototype.mod=u.prototype.remainder=function(t){return new u(this.value%W(t).value)},c.prototype.remainder=c.prototype.mod=a.prototype.remainder=a.prototype.mod,a.prototype.pow=function(t){var e,r,n,i=W(t),o=this.value,a=i.value;if(0===a)return s[1];if(0===o)return s[0];if(1===o)return s[1];if(-1===o)return i.isEven()?s[1]:s[-1];if(i.sign)return s[0];if(!i.isSmall)throw new Error("The exponent "+i.toString()+" is too large.");if(this.isSmall&&l(e=Math.pow(o,a)))return new c(m(e));for(r=this,n=s[1];!0&a&&(n=n.times(r),--a),0!==a;)a/=2,r=r.square();return n},c.prototype.pow=a.prototype.pow,u.prototype.pow=function(t){var e=W(t),r=this.value,n=e.value,i=BigInt(0),o=BigInt(1),a=BigInt(2);if(n===i)return s[1];if(r===i)return s[0];if(r===o)return s[1];if(r===BigInt(-1))return e.isEven()?s[1]:s[-1];if(e.isNegative())return new u(i);for(var c=this,l=s[1];(n&o)===o&&(l=l.times(c),--n),n!==i;)n/=a,c=c.square();return l},a.prototype.modPow=function(t,e){if(t=W(t),(e=W(e)).isZero())throw new Error("Cannot take modPow with modulus 0");var r=s[1],n=this.mod(e);for(t.isNegative()&&(t=t.multiply(s[-1]),n=n.modInv(e));t.isPositive();){if(n.isZero())return s[0];t.isOdd()&&(r=r.multiply(n).mod(e)),t=t.divide(2),n=n.square().mod(e)}return r},u.prototype.modPow=c.prototype.modPow=a.prototype.modPow,a.prototype.compareAbs=function(t){var e=W(t),r=this.value,n=e.value;return e.isSmall?1:k(r,n)},c.prototype.compareAbs=function(t){var e=W(t),r=Math.abs(this.value),n=e.value;return e.isSmall?r===(n=Math.abs(n))?0:r>n?1:-1:-1},u.prototype.compareAbs=function(t){var e=this.value,r=W(t).value;return(e=e>=0?e:-e)===(r=r>=0?r:-r)?0:e>r?1:-1},a.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=W(t),r=this.value,n=e.value;return this.sign!==e.sign?e.sign?1:-1:e.isSmall?this.sign?-1:1:k(r,n)*(this.sign?-1:1)},a.prototype.compareTo=a.prototype.compare,c.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=W(t),r=this.value,n=e.value;return e.isSmall?r==n?0:r>n?1:-1:r<0!==e.sign?r<0?-1:1:r<0?1:-1},c.prototype.compareTo=c.prototype.compare,u.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=this.value,r=W(t).value;return e===r?0:e>r?1:-1},u.prototype.compareTo=u.prototype.compare,a.prototype.equals=function(t){return 0===this.compare(t)},u.prototype.eq=u.prototype.equals=c.prototype.eq=c.prototype.equals=a.prototype.eq=a.prototype.equals,a.prototype.notEquals=function(t){return 0!==this.compare(t)},u.prototype.neq=u.prototype.notEquals=c.prototype.neq=c.prototype.notEquals=a.prototype.neq=a.prototype.notEquals,a.prototype.greater=function(t){return this.compare(t)>0},u.prototype.gt=u.prototype.greater=c.prototype.gt=c.prototype.greater=a.prototype.gt=a.prototype.greater,a.prototype.lesser=function(t){return this.compare(t)<0},u.prototype.lt=u.prototype.lesser=c.prototype.lt=c.prototype.lesser=a.prototype.lt=a.prototype.lesser,a.prototype.greaterOrEquals=function(t){return this.compare(t)>=0},u.prototype.geq=u.prototype.greaterOrEquals=c.prototype.geq=c.prototype.greaterOrEquals=a.prototype.geq=a.prototype.greaterOrEquals,a.prototype.lesserOrEquals=function(t){return this.compare(t)<=0},u.prototype.leq=u.prototype.lesserOrEquals=c.prototype.leq=c.prototype.lesserOrEquals=a.prototype.leq=a.prototype.lesserOrEquals,a.prototype.isEven=function(){return 0==(1&this.value[0])},c.prototype.isEven=function(){return 0==(1&this.value)},u.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},a.prototype.isOdd=function(){return 1==(1&this.value[0])},c.prototype.isOdd=function(){return 1==(1&this.value)},u.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},a.prototype.isPositive=function(){return!this.sign},c.prototype.isPositive=function(){return this.value>0},u.prototype.isPositive=c.prototype.isPositive,a.prototype.isNegative=function(){return this.sign},c.prototype.isNegative=function(){return this.value<0},u.prototype.isNegative=c.prototype.isNegative,a.prototype.isUnit=function(){return!1},c.prototype.isUnit=function(){return 1===Math.abs(this.value)},u.prototype.isUnit=function(){return this.abs().value===BigInt(1)},a.prototype.isZero=function(){return!1},c.prototype.isZero=function(){return 0===this.value},u.prototype.isZero=function(){return this.value===BigInt(0)},a.prototype.isDivisibleBy=function(t){var e=W(t);return!e.isZero()&&(!!e.isUnit()||(0===e.compareAbs(2)?this.isEven():this.mod(e).isZero()))},u.prototype.isDivisibleBy=c.prototype.isDivisibleBy=a.prototype.isDivisibleBy,a.prototype.isPrime=function(t){var e=x(this);if(void 0!==e)return e;var r=this.abs(),n=r.bitLength();if(n<=64)return N(r,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var o=Math.log(2)*n.toJSNumber(),s=Math.ceil(!0===t?2*Math.pow(o,2):o),a=[],c=0;c<s;c++)a.push(i(c+2));return N(r,a)},u.prototype.isPrime=c.prototype.isPrime=a.prototype.isPrime,a.prototype.isProbablePrime=function(t,e){var r=x(this);if(void 0!==r)return r;for(var n=this.abs(),o=void 0===t?5:t,s=[],a=0;a<o;a++)s.push(i.randBetween(2,n.minus(2),e));return N(n,s)},u.prototype.isProbablePrime=c.prototype.isProbablePrime=a.prototype.isProbablePrime,a.prototype.modInv=function(t){for(var e,r,n,o=i.zero,s=i.one,a=W(t),c=this.abs();!c.isZero();)e=a.divide(c),r=o,n=a,o=s,a=c,s=r.subtract(e.multiply(s)),c=n.subtract(e.multiply(c));if(!a.isUnit())throw new Error(this.toString()+" and "+t.toString()+" are not co-prime");return-1===o.compare(0)&&(o=o.add(t)),this.isNegative()?o.negate():o},u.prototype.modInv=c.prototype.modInv=a.prototype.modInv,a.prototype.next=function(){var t=this.value;return this.sign?b(t,1,this.sign):new a(_(t,1),this.sign)},c.prototype.next=function(){var t=this.value;return t+1<r?new c(t+1):new a(n,!1)},u.prototype.next=function(){return new u(this.value+BigInt(1))},a.prototype.prev=function(){var t=this.value;return this.sign?new a(_(t,1),!0):b(t,1,this.sign)},c.prototype.prev=function(){var t=this.value;return t-1>-r?new c(t-1):new a(n,!0)},u.prototype.prev=function(){return new u(this.value-BigInt(1))};for(var R=[1];2*R[R.length-1]<=e;)R.push(2*R[R.length-1]);var I=R.length,C=R[I-1];function j(t){return Math.abs(t)<=e}function L(t,e,r){e=W(e);for(var n=t.isNegative(),o=e.isNegative(),s=n?t.not():t,a=o?e.not():e,c=0,u=0,l=null,h=null,d=[];!s.isZero()||!a.isZero();)c=(l=M(s,C))[1].toJSNumber(),n&&(c=C-1-c),u=(h=M(a,C))[1].toJSNumber(),o&&(u=C-1-u),s=l[0],a=h[0],d.push(r(c,u));for(var f=0!==r(n?1:0,o?1:0)?i(-1):i(0),p=d.length-1;p>=0;p-=1)f=f.multiply(C).add(i(d[p]));return f}a.prototype.shiftLeft=function(t){var e=W(t).toJSNumber();if(!j(e))throw new Error(String(e)+" is too large for shifting.");if(e<0)return this.shiftRight(-e);var r=this;if(r.isZero())return r;for(;e>=I;)r=r.multiply(C),e-=I-1;return r.multiply(R[e])},u.prototype.shiftLeft=c.prototype.shiftLeft=a.prototype.shiftLeft,a.prototype.shiftRight=function(t){var e,r=W(t).toJSNumber();if(!j(r))throw new Error(String(r)+" is too large for shifting.");if(r<0)return this.shiftLeft(-r);for(var n=this;r>=I;){if(n.isZero()||n.isNegative()&&n.isUnit())return n;n=(e=M(n,C))[1].isNegative()?e[0].prev():e[0],r-=I-1}return(e=M(n,R[r]))[1].isNegative()?e[0].prev():e[0]},u.prototype.shiftRight=c.prototype.shiftRight=a.prototype.shiftRight,a.prototype.not=function(){return this.negate().prev()},u.prototype.not=c.prototype.not=a.prototype.not,a.prototype.and=function(t){return L(this,t,(function(t,e){return t&e}))},u.prototype.and=c.prototype.and=a.prototype.and,a.prototype.or=function(t){return L(this,t,(function(t,e){return t|e}))},u.prototype.or=c.prototype.or=a.prototype.or,a.prototype.xor=function(t){return L(this,t,(function(t,e){return t^e}))},u.prototype.xor=c.prototype.xor=a.prototype.xor;function P(t){var r=t.value,n="number"==typeof r?r|1<<30:"bigint"==typeof r?r|BigInt(1<<30):r[0]+r[1]*e|1073758208;return n&-n}function D(t,e){return t=W(t),e=W(e),t.greater(e)?t:e}function F(t,e){return t=W(t),e=W(e),t.lesser(e)?t:e}function B(t,e){if(t=W(t).abs(),e=W(e).abs(),t.equals(e))return t;if(t.isZero())return e;if(e.isZero())return t;for(var r,n,i=s[1];t.isEven()&&e.isEven();)r=F(P(t),P(e)),t=t.divide(r),e=e.divide(r),i=i.multiply(r);for(;t.isEven();)t=t.divide(P(t));do{for(;e.isEven();)e=e.divide(P(e));t.greater(e)&&(n=e,e=t,t=n),e=e.subtract(t)}while(!e.isZero());return i.isUnit()?t:t.multiply(i)}a.prototype.bitLength=function(){var t=this;return t.compareTo(i(0))<0&&(t=t.negate().subtract(i(1))),0===t.compareTo(i(0))?i(0):i(function t(e,r){if(r.compareTo(e)<=0){var n=t(e,r.square(r)),o=n.p,s=n.e,a=o.multiply(r);return a.compareTo(e)<=0?{p:a,e:2*s+1}:{p:o,e:2*s}}return{p:i(1),e:0}}(t,i(2)).e).add(i(1))},u.prototype.bitLength=c.prototype.bitLength=a.prototype.bitLength;var U=function(t,e,r,n){r=r||"0123456789abcdefghijklmnopqrstuvwxyz",t=String(t),n||(t=t.toLowerCase(),r=r.toLowerCase());var i,o=t.length,s=Math.abs(e),a={};for(i=0;i<r.length;i++)a[r[i]]=i;for(i=0;i<o;i++){if("-"!==(l=t[i])&&(l in a&&a[l]>=s)){if("1"===l&&1===s)continue;throw new Error(l+" is not a valid digit in base "+e+".")}}e=W(e);var c=[],u="-"===t[0];for(i=u?1:0;i<t.length;i++){var l;if((l=t[i])in a)c.push(W(a[l]));else{if("<"!==l)throw new Error(l+" is not a valid character");var h=i;do{i++}while(">"!==t[i]&&i<t.length);c.push(W(t.slice(h+1,i)))}}return q(c,e,u)};function q(t,e,r){var n,i=s[0],o=s[1];for(n=t.length-1;n>=0;n--)i=i.add(t[n].times(o)),o=o.times(e);return r?i.negate():i}function H(t,e){if((e=i(e)).isZero()){if(t.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(e.equals(-1)){if(t.isZero())return{value:[0],isNegative:!1};if(t.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-t.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var r=Array.apply(null,Array(t.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return r.unshift([1]),{value:[].concat.apply([],r),isNegative:!1}}var n=!1;if(t.isNegative()&&e.isPositive()&&(n=!0,t=t.abs()),e.isUnit())return t.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(t.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:n};for(var o,s=[],a=t;a.isNegative()||a.compareAbs(e)>=0;){o=a.divmod(e),a=o.quotient;var c=o.remainder;c.isNegative()&&(c=e.minus(c).abs(),a=a.next()),s.push(c.toJSNumber())}return s.push(a.toJSNumber()),{value:s.reverse(),isNegative:n}}function G(t,e,r){var n=H(t,e);return(n.isNegative?"-":"")+n.value.map((function(t){return function(t,e){return t<(e=e||"0123456789abcdefghijklmnopqrstuvwxyz").length?e[t]:"<"+t+">"}(t,r)})).join("")}function z(t){if(l(+t)){var e=+t;if(e===m(e))return o?new u(BigInt(e)):new c(e);throw new Error("Invalid integer: "+t)}var r="-"===t[0];r&&(t=t.slice(1));var n=t.split(/e/i);if(n.length>2)throw new Error("Invalid integer: "+n.join("e"));if(2===n.length){var i=n[1];if("+"===i[0]&&(i=i.slice(1)),(i=+i)!==m(i)||!l(i))throw new Error("Invalid integer: "+i+" is not a valid exponent.");var s=n[0],h=s.indexOf(".");if(h>=0&&(i-=s.length-h-1,s=s.slice(0,h)+s.slice(h+1)),i<0)throw new Error("Cannot include negative exponent part for integers");t=s+=new Array(i+1).join("0")}if(!/^([0-9][0-9]*)$/.test(t))throw new Error("Invalid integer: "+t);if(o)return new u(BigInt(r?"-"+t:t));for(var d=[],p=t.length,g=p-7;p>0;)d.push(+t.slice(g,p)),(g-=7)<0&&(g=0),p-=7;return f(d),new a(d,r)}function W(t){return"number"==typeof t?function(t){if(o)return new u(BigInt(t));if(l(t)){if(t!==m(t))throw new Error(t+" is not an integer.");return new c(t)}return z(t.toString())}(t):"string"==typeof t?z(t):"bigint"==typeof t?new u(t):t}a.prototype.toArray=function(t){return H(this,t)},c.prototype.toArray=function(t){return H(this,t)},u.prototype.toArray=function(t){return H(this,t)},a.prototype.toString=function(t,e){if(void 0===t&&(t=10),10!==t)return G(this,t,e);for(var r,n=this.value,i=n.length,o=String(n[--i]);--i>=0;)r=String(n[i]),o+="0000000".slice(r.length)+r;return(this.sign?"-":"")+o},c.prototype.toString=function(t,e){return void 0===t&&(t=10),10!=t?G(this,t,e):String(this.value)},u.prototype.toString=c.prototype.toString,u.prototype.toJSON=a.prototype.toJSON=c.prototype.toJSON=function(){return this.toString()},a.prototype.valueOf=function(){return parseInt(this.toString(),10)},a.prototype.toJSNumber=a.prototype.valueOf,c.prototype.valueOf=function(){return this.value},c.prototype.toJSNumber=c.prototype.valueOf,u.prototype.valueOf=u.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var $=0;$<1e3;$++)s[$]=W($),$>0&&(s[-$]=W(-$));return s.one=s[1],s.zero=s[0],s.minusOne=s[-1],s.max=D,s.min=F,s.gcd=B,s.lcm=function(t,e){return t=W(t).abs(),e=W(e).abs(),t.divide(B(t,e)).multiply(e)},s.isInstance=function(t){return t instanceof a||t instanceof c||t instanceof u},s.randBetween=function(t,r,n){t=W(t),r=W(r);var i=n||Math.random,o=F(t,r),a=D(t,r).subtract(o).add(1);if(a.isSmall)return o.add(Math.floor(i()*a));for(var c=H(a,e).value,u=[],l=!0,h=0;h<c.length;h++){var d=l?c[h]:e,f=m(i()*d);u.push(f),f<d&&(l=!1)}return o.add(s.fromArray(u,e,!1))},s.fromArray=function(t,e,r){return q(t.map(W),W(e||10),r)},s}();t.hasOwnProperty("exports")&&(t.exports=i),void 0===(n=function(){return i}.call(e,r,e,t))||(t.exports=n)}).call(this,r(8)(t))},function(t,e){t.exports=require("stream")},function(t,e,r){var n,i,o=r(15),s=r(132),a=r(134),c=r(135),u=r(11);function l(t,e){Object.defineProperty(t,n,{get:function(){return e}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(n=Symbol.for("graceful-fs.queue"),i=Symbol.for("graceful-fs.previous")):(n="___graceful-fs.queue",i="___graceful-fs.previous");var h=function(){};if(u.debuglog?h=u.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(h=function(){var t=u.format.apply(u,arguments);t="GFS4: "+t.split(/\n/).join("\nGFS4: "),console.error(t)}),!o[n]){var d=global[n]||[];l(o,d),o.close=function(t){function e(e,r){return t.call(o,e,(function(t){t||m(),"function"==typeof r&&r.apply(this,arguments)}))}return Object.defineProperty(e,i,{value:t}),e}(o.close),o.closeSync=function(t){function e(e){t.apply(o,arguments),m()}return Object.defineProperty(e,i,{value:t}),e}(o.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){h(o[n]),r(67).equal(o[n].length,0)}))}function f(t){s(t),t.gracefulify=f,t.createReadStream=function(e,r){return new t.ReadStream(e,r)},t.createWriteStream=function(e,r){return new t.WriteStream(e,r)};var e=t.readFile;t.readFile=function(t,r,n){"function"==typeof r&&(n=r,r=null);return function t(r,n,i){return e(r,n,(function(e){!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"==typeof i&&i.apply(this,arguments),m()):p([t,[r,n,i]])}))}(t,r,n)};var r=t.writeFile;t.writeFile=function(t,e,n,i){"function"==typeof n&&(i=n,n=null);return function t(e,n,i,o){return r(e,n,i,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?("function"==typeof o&&o.apply(this,arguments),m()):p([t,[e,n,i,o]])}))}(t,e,n,i)};var n=t.appendFile;n&&(t.appendFile=function(t,e,r,i){"function"==typeof r&&(i=r,r=null);return function t(e,r,i,o){return n(e,r,i,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?("function"==typeof o&&o.apply(this,arguments),m()):p([t,[e,r,i,o]])}))}(t,e,r,i)});var i=t.copyFile;i&&(t.copyFile=function(t,e,r,n){"function"==typeof r&&(n=r,r=0);return i(t,e,r,(function(o){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?("function"==typeof n&&n.apply(this,arguments),m()):p([i,[t,e,r,n]])}))});var o=t.readdir;function c(e){return o.apply(t,e)}if(t.readdir=function(t,e,r){var n=[t];"function"!=typeof e?n.push(e):r=e;return n.push((function(t,e){e&&e.sort&&e.sort();!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"==typeof r&&r.apply(this,arguments),m()):p([c,[n]])})),c(n)},"v0.8"===process.version.substr(0,4)){var u=a(t);y=u.ReadStream,_=u.WriteStream}var l=t.ReadStream;l&&(y.prototype=Object.create(l.prototype),y.prototype.open=function(){var t=this;b(t.path,t.flags,t.mode,(function(e,r){e?(t.autoClose&&t.destroy(),t.emit("error",e)):(t.fd=r,t.emit("open",r),t.read())}))});var h=t.WriteStream;h&&(_.prototype=Object.create(h.prototype),_.prototype.open=function(){var t=this;b(t.path,t.flags,t.mode,(function(e,r){e?(t.destroy(),t.emit("error",e)):(t.fd=r,t.emit("open",r))}))}),Object.defineProperty(t,"ReadStream",{get:function(){return y},set:function(t){y=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return _},set:function(t){_=t},enumerable:!0,configurable:!0});var d=y;Object.defineProperty(t,"FileReadStream",{get:function(){return d},set:function(t){d=t},enumerable:!0,configurable:!0});var g=_;function y(t,e){return this instanceof y?(l.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}function _(t,e){return this instanceof _?(h.apply(this,arguments),this):_.apply(Object.create(_.prototype),arguments)}Object.defineProperty(t,"FileWriteStream",{get:function(){return g},set:function(t){g=t},enumerable:!0,configurable:!0});var v=t.open;function b(t,e,r,n){return"function"==typeof r&&(n=r,r=null),function t(e,r,n,i){return v(e,r,n,(function(o,s){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?("function"==typeof i&&i.apply(this,arguments),m()):p([t,[e,r,n,i]])}))}(t,e,r,n)}return t.open=b,t}function p(t){h("ENQUEUE",t[0].name,t[1]),o[n].push(t)}function m(){var t=o[n].shift();t&&(h("RETRY",t[0].name,t[1]),t[0].apply(null,t[1]))}global[n]||l(global,o[n]),t.exports=f(c(o)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!o.__patched&&(t.exports=f(o),o.__patched=!0)},function(t,e,r){"use strict";e.fromCallback=function(t){return Object.defineProperty((function(...e){if("function"!=typeof e[e.length-1])return new Promise((r,n)=>{t.call(this,...e,(t,e)=>null!=t?n(t):r(e))});t.apply(this,e)}),"name",{value:t.name})},e.fromPromise=function(t){return Object.defineProperty((function(...e){const r=e[e.length-1];if("function"!=typeof r)return t.apply(this,e);t.apply(this,e.slice(0,-1)).then(t=>r(null,t),r)}),"name",{value:t.name})}},function(t,e,r){const n=r(64),i=n.default||n,o=function(t,e){return/^\/\//.test(t)&&(t="https:"+t),i.call(this,t,e)};o.ponyfill=!0,t.exports=e=o,e.fetch=o,e.Headers=n.Headers,e.Request=n.Request,e.Response=n.Response,e.default=o},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";const n=r(6).fromPromise,{makeDir:i,makeDirSync:o}=r(137),s=n(i);t.exports={mkdirs:s,mkdirsSync:o,mkdirp:s,mkdirpSync:o,ensureDir:s,ensureDirSync:o}},function(t,e,r){(function(t){var r="[object Arguments]",n="[object Map]",i="[object Object]",o="[object Set]",s=/^\[object .+?Constructor\]$/,a=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[r]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c[n]=c["[object Number]"]=c[i]=c["[object RegExp]"]=c[o]=c["[object String]"]=c["[object WeakMap]"]=!1;var u="object"==typeof global&&global&&global.Object===Object&&global,l="object"==typeof self&&self&&self.Object===Object&&self,h=u||l||Function("return this")(),d=e&&!e.nodeType&&e,f=d&&"object"==typeof t&&t&&!t.nodeType&&t,p=f&&f.exports===d,m=p&&u.process,g=function(){try{return m&&m.binding&&m.binding("util")}catch(t){}}(),y=g&&g.isTypedArray;function _(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function v(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function b(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var w,E,S,T=Array.prototype,A=Function.prototype,O=Object.prototype,M=h["__core-js_shared__"],k=A.toString,x=O.hasOwnProperty,N=(w=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"",R=O.toString,I=RegExp("^"+k.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),C=p?h.Buffer:void 0,j=h.Symbol,L=h.Uint8Array,P=O.propertyIsEnumerable,D=T.splice,F=j?j.toStringTag:void 0,B=Object.getOwnPropertySymbols,U=C?C.isBuffer:void 0,q=(E=Object.keys,S=Object,function(t){return E(S(t))}),H=gt(h,"DataView"),G=gt(h,"Map"),z=gt(h,"Promise"),W=gt(h,"Set"),$=gt(h,"WeakMap"),V=gt(Object,"create"),Y=bt(H),K=bt(G),J=bt(z),Z=bt(W),X=bt($),Q=j?j.prototype:void 0,tt=Q?Q.valueOf:void 0;function et(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function rt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function nt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function it(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new nt;++e<r;)this.add(t[e])}function ot(t){var e=this.__data__=new rt(t);this.size=e.size}function st(t,e){var r=St(t),n=!r&&Et(t),i=!r&&!n&&Tt(t),o=!r&&!n&&!i&&xt(t),s=r||n||i||o,a=s?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],c=a.length;for(var u in t)!e&&!x.call(t,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||vt(u,c))||a.push(u);return a}function at(t,e){for(var r=t.length;r--;)if(wt(t[r][0],e))return r;return-1}function ct(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":F&&F in Object(t)?function(t){var e=x.call(t,F),r=t[F];try{t[F]=void 0;var n=!0}catch(t){}var i=R.call(t);n&&(e?t[F]=r:delete t[F]);return i}(t):function(t){return R.call(t)}(t)}function ut(t){return kt(t)&&ct(t)==r}function lt(t,e,s,a,c){return t===e||(null==t||null==e||!kt(t)&&!kt(e)?t!=t&&e!=e:function(t,e,s,a,c,u){var l=St(t),h=St(e),d=l?"[object Array]":_t(t),f=h?"[object Array]":_t(e),p=(d=d==r?i:d)==i,m=(f=f==r?i:f)==i,g=d==f;if(g&&Tt(t)){if(!Tt(e))return!1;l=!0,p=!1}if(g&&!p)return u||(u=new ot),l||xt(t)?ft(t,e,s,a,c,u):function(t,e,r,i,s,a,c){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!a(new L(t),new L(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return wt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case n:var u=v;case o:var l=1&i;if(u||(u=b),t.size!=e.size&&!l)return!1;var h=c.get(t);if(h)return h==e;i|=2,c.set(t,e);var d=ft(u(t),u(e),i,s,a,c);return c.delete(t),d;case"[object Symbol]":if(tt)return tt.call(t)==tt.call(e)}return!1}(t,e,d,s,a,c,u);if(!(1&s)){var y=p&&x.call(t,"__wrapped__"),_=m&&x.call(e,"__wrapped__");if(y||_){var w=y?t.value():t,E=_?e.value():e;return u||(u=new ot),c(w,E,s,a,u)}}if(!g)return!1;return u||(u=new ot),function(t,e,r,n,i,o){var s=1&r,a=pt(t),c=a.length,u=pt(e).length;if(c!=u&&!s)return!1;var l=c;for(;l--;){var h=a[l];if(!(s?h in e:x.call(e,h)))return!1}var d=o.get(t);if(d&&o.get(e))return d==e;var f=!0;o.set(t,e),o.set(e,t);var p=s;for(;++l<c;){h=a[l];var m=t[h],g=e[h];if(n)var y=s?n(g,m,h,e,t,o):n(m,g,h,t,e,o);if(!(void 0===y?m===g||i(m,g,r,n,o):y)){f=!1;break}p||(p="constructor"==h)}if(f&&!p){var _=t.constructor,v=e.constructor;_==v||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof v&&v instanceof v||(f=!1)}return o.delete(t),o.delete(e),f}(t,e,s,a,c,u)}(t,e,s,a,lt,c))}function ht(t){return!(!Mt(t)||function(t){return!!N&&N in t}(t))&&(At(t)?I:s).test(bt(t))}function dt(t){if(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||O,e!==n)return q(t);var e,r,n,i=[];for(var o in Object(t))x.call(t,o)&&"constructor"!=o&&i.push(o);return i}function ft(t,e,r,n,i,o){var s=1&r,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var l=-1,h=!0,d=2&r?new it:void 0;for(o.set(t,e),o.set(e,t);++l<a;){var f=t[l],p=e[l];if(n)var m=s?n(p,f,l,e,t,o):n(f,p,l,t,e,o);if(void 0!==m){if(m)continue;h=!1;break}if(d){if(!_(e,(function(t,e){if(s=e,!d.has(s)&&(f===t||i(f,t,r,n,o)))return d.push(e);var s}))){h=!1;break}}else if(f!==p&&!i(f,p,r,n,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function pt(t){return function(t,e,r){var n=e(t);return St(t)?n:function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}(n,r(t))}(t,Nt,yt)}function mt(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function gt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return ht(r)?r:void 0}et.prototype.clear=function(){this.__data__=V?V(null):{},this.size=0},et.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},et.prototype.get=function(t){var e=this.__data__;if(V){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return x.call(e,t)?e[t]:void 0},et.prototype.has=function(t){var e=this.__data__;return V?void 0!==e[t]:x.call(e,t)},et.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=V&&void 0===e?"__lodash_hash_undefined__":e,this},rt.prototype.clear=function(){this.__data__=[],this.size=0},rt.prototype.delete=function(t){var e=this.__data__,r=at(e,t);return!(r<0)&&(r==e.length-1?e.pop():D.call(e,r,1),--this.size,!0)},rt.prototype.get=function(t){var e=this.__data__,r=at(e,t);return r<0?void 0:e[r][1]},rt.prototype.has=function(t){return at(this.__data__,t)>-1},rt.prototype.set=function(t,e){var r=this.__data__,n=at(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},nt.prototype.clear=function(){this.size=0,this.__data__={hash:new et,map:new(G||rt),string:new et}},nt.prototype.delete=function(t){var e=mt(this,t).delete(t);return this.size-=e?1:0,e},nt.prototype.get=function(t){return mt(this,t).get(t)},nt.prototype.has=function(t){return mt(this,t).has(t)},nt.prototype.set=function(t,e){var r=mt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},it.prototype.add=it.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},it.prototype.has=function(t){return this.__data__.has(t)},ot.prototype.clear=function(){this.__data__=new rt,this.size=0},ot.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},ot.prototype.get=function(t){return this.__data__.get(t)},ot.prototype.has=function(t){return this.__data__.has(t)},ot.prototype.set=function(t,e){var r=this.__data__;if(r instanceof rt){var n=r.__data__;if(!G||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new nt(n)}return r.set(t,e),this.size=r.size,this};var yt=B?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}(B(t),(function(e){return P.call(t,e)})))}:function(){return[]},_t=ct;function vt(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||a.test(t))&&t>-1&&t%1==0&&t<e}function bt(t){if(null!=t){try{return k.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function wt(t,e){return t===e||t!=t&&e!=e}(H&&"[object DataView]"!=_t(new H(new ArrayBuffer(1)))||G&&_t(new G)!=n||z&&"[object Promise]"!=_t(z.resolve())||W&&_t(new W)!=o||$&&"[object WeakMap]"!=_t(new $))&&(_t=function(t){var e=ct(t),r=e==i?t.constructor:void 0,s=r?bt(r):"";if(s)switch(s){case Y:return"[object DataView]";case K:return n;case J:return"[object Promise]";case Z:return o;case X:return"[object WeakMap]"}return e});var Et=ut(function(){return arguments}())?ut:function(t){return kt(t)&&x.call(t,"callee")&&!P.call(t,"callee")},St=Array.isArray;var Tt=U||function(){return!1};function At(t){if(!Mt(t))return!1;var e=ct(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ot(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Mt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function kt(t){return null!=t&&"object"==typeof t}var xt=y?function(t){return function(e){return t(e)}}(y):function(t){return kt(t)&&Ot(t.length)&&!!c[ct(t)]};function Nt(t){return null!=(e=t)&&Ot(e.length)&&!At(e)?st(t):dt(t);var e}t.exports=function(t,e){return lt(t,e)}}).call(this,r(8)(t))},function(t,e){t.exports=require("util")},function(t,e,r){"use strict";var n=r(158),i=r(71).decodeHTML,o="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",s="<[A-Za-z][A-Za-z0-9-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*/?>",a="</[A-Za-z][A-Za-z0-9-]*\\s*[>]",c=new RegExp("^(?:<[A-Za-z][A-Za-z0-9-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*/?>|</[A-Za-z][A-Za-z0-9-]*\\s*[>]|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|[<][?].*?[?][>]|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)","i"),u=/[\\&]/,l="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",h=new RegExp("\\\\"+l+"|"+o,"gi"),d=new RegExp('[&<>"]',"g"),f=function(t){return 92===t.charCodeAt(0)?t.charAt(1):i(t)},p=function(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return t}};t.exports={unescapeString:function(t){return u.test(t)?t.replace(h,f):t},normalizeURI:function(t){try{return n(t)}catch(e){return t}},escapeXml:function(t){return d.test(t)?t.replace(d,p):t},reHtmlTag:c,OPENTAG:s,CLOSETAG:a,ENTITY:o,ESCAPABLE:l}},function(t,e,r){"use strict";t.exports={...r(22),...r(68),...r(70),...r(140),...r(142),...r(148),...r(9),...r(153),...r(155),...r(44),...r(20),...r(32)}},function(t,e){},function(t,e){t.exports=require("fs")},function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var o=r(33),s=r(76);i(r(76),e);var a=/\s+/g,c={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1},u=function(){function t(t,e,r){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof e&&(r=e,e=c),"object"==typeof t&&(e=t,t=void 0),this.callback=null!=t?t:null,this.options=null!=e?e:c,this.elementCB=null!=r?r:null}return t.prototype.onparserinit=function(t){this.parser=t},t.prototype.onreset=function(){var t;this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null!==(t=this.parser)&&void 0!==t?t:null},t.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},t.prototype.onerror=function(t){this.handleCallback(t)},t.prototype.onclosetag=function(){this.lastNode=null;var t=this.tagStack.pop();this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(t)},t.prototype.onopentag=function(t,e){var r=this.options.xmlMode?o.ElementType.Tag:void 0,n=new s.Element(t,e,void 0,r);this.addNode(n),this.tagStack.push(n)},t.prototype.ontext=function(t){var e=this.options.normalizeWhitespace,r=this.lastNode;if(r&&r.type===o.ElementType.Text)e?r.data=(r.data+t).replace(a," "):r.data+=t;else{e&&(t=t.replace(a," "));var n=new s.Text(t);this.addNode(n),this.lastNode=n}},t.prototype.oncomment=function(t){if(this.lastNode&&this.lastNode.type===o.ElementType.Comment)this.lastNode.data+=t;else{var e=new s.Comment(t);this.addNode(e),this.lastNode=e}},t.prototype.oncommentend=function(){this.lastNode=null},t.prototype.oncdatastart=function(){var t=new s.Text(""),e=new s.NodeWithChildren(o.ElementType.CDATA,[t]);this.addNode(e),t.parent=e,this.lastNode=t},t.prototype.oncdataend=function(){this.lastNode=null},t.prototype.onprocessinginstruction=function(t,e){var r=new s.ProcessingInstruction(t,e);this.addNode(r)},t.prototype.handleCallback=function(t){if("function"==typeof this.callback)this.callback(t,this.dom);else if(t)throw t},t.prototype.addNode=function(t){var e=this.tagStack[this.tagStack.length-1],r=e.children[e.children.length-1];this.options.withStartIndices&&(t.startIndex=this.parser.startIndex),this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),e.children.push(t),r&&(t.prev=r,r.next=t),t.parent=e,this.lastNode=null},t}();e.DomHandler=u,e.default=u},function(t,e,r){"use strict";e.load=function(t,e,r={}){var n,i,o;for(n in e)o=e[n],r[n]=null!=(i=t[n])?i:o;return r},e.overwrite=function(t,e,r={}){var n,i;for(n in t)i=t[n],void 0!==e[n]&&(r[n]=i);return r}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.string=e.stream=e.pattern=e.path=e.fs=e.errno=e.array=void 0;const n=r(190);e.array=n;const i=r(191);e.errno=i;const o=r(192);e.fs=o;const s=r(193);e.path=s;const a=r(194);e.pattern=a;const c=r(209);e.stream=c;const u=r(210);e.string=u},function(t,e){t.exports=require("zlib")},function(t,e,r){"use strict";const n=r(6).fromPromise,i=r(22);t.exports={pathExists:n((function(t){return i.access(t).then(()=>!0).catch(()=>!1)})),pathExistsSync:i.existsSync}},function(t,e){t.exports=require("better-sqlite3")},function(t,e,r){"use strict";const n=r(6).fromCallback,i=r(5),o=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(t=>"function"==typeof i[t]);Object.assign(e,i),o.forEach(t=>{e[t]=n(i[t])}),e.realpath.native=n(i.realpath.native),e.exists=function(t,e){return"function"==typeof e?i.exists(t,e):new Promise(e=>i.exists(t,e))},e.read=function(t,e,r,n,o,s){return"function"==typeof s?i.read(t,e,r,n,o,s):new Promise((s,a)=>{i.read(t,e,r,n,o,(t,e,r)=>{if(t)return a(t);s({bytesRead:e,buffer:r})})})},e.write=function(t,e,...r){return"function"==typeof r[r.length-1]?i.write(t,e,...r):new Promise((n,o)=>{i.write(t,e,...r,(t,e,r)=>{if(t)return o(t);n({bytesWritten:e,buffer:r})})})},"function"==typeof i.writev&&(e.writev=function(t,e,...r){return"function"==typeof r[r.length-1]?i.writev(t,e,...r):new Promise((n,o)=>{i.writev(t,e,...r,(t,e,r)=>{if(t)return o(t);n({bytesWritten:e,buffers:r})})})})},function(t,e,r){"use strict";const n=r(22),i=r(1),o=r(11);function s(t,e,r){const i=r.dereference?t=>n.stat(t,{bigint:!0}):t=>n.lstat(t,{bigint:!0});return Promise.all([i(t),i(e).catch(t=>{if("ENOENT"===t.code)return null;throw t})]).then(([t,e])=>({srcStat:t,destStat:e}))}function a(t,e){return e.ino&&e.dev&&e.ino===t.ino&&e.dev===t.dev}function c(t,e){const r=i.resolve(t).split(i.sep).filter(t=>t),n=i.resolve(e).split(i.sep).filter(t=>t);return r.reduce((t,e,r)=>t&&n[r]===e,!0)}function u(t,e,r){return`Cannot ${r} '${t}' to a subdirectory of itself, '${e}'.`}t.exports={checkPaths:function(t,e,r,n,l){o.callbackify(s)(t,e,n,(n,o)=>{if(n)return l(n);const{srcStat:s,destStat:h}=o;if(h){if(a(s,h)){const n=i.basename(t),o=i.basename(e);return"move"===r&&n!==o&&n.toLowerCase()===o.toLowerCase()?l(null,{srcStat:s,destStat:h,isChangingCase:!0}):l(new Error("Source and destination must not be the same."))}if(s.isDirectory()&&!h.isDirectory())return l(new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`));if(!s.isDirectory()&&h.isDirectory())return l(new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`))}return s.isDirectory()&&c(t,e)?l(new Error(u(t,e,r))):l(null,{srcStat:s,destStat:h})})},checkPathsSync:function(t,e,r,o){const{srcStat:s,destStat:l}=function(t,e,r){let i;const o=r.dereference?t=>n.statSync(t,{bigint:!0}):t=>n.lstatSync(t,{bigint:!0}),s=o(t);try{i=o(e)}catch(t){if("ENOENT"===t.code)return{srcStat:s,destStat:null};throw t}return{srcStat:s,destStat:i}}(t,e,o);if(l){if(a(s,l)){const n=i.basename(t),o=i.basename(e);if("move"===r&&n!==o&&n.toLowerCase()===o.toLowerCase())return{srcStat:s,destStat:l,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(s.isDirectory()&&!l.isDirectory())throw new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`);if(!s.isDirectory()&&l.isDirectory())throw new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`)}if(s.isDirectory()&&c(t,e))throw new Error(u(t,e,r));return{srcStat:s,destStat:l}},checkParentPaths:function t(e,r,o,s,c){const l=i.resolve(i.dirname(e)),h=i.resolve(i.dirname(o));if(h===l||h===i.parse(h).root)return c();n.stat(h,{bigint:!0},(n,i)=>n?"ENOENT"===n.code?c():c(n):a(r,i)?c(new Error(u(e,o,s))):t(e,r,h,s,c))},checkParentPathsSync:function t(e,r,o,s){const c=i.resolve(i.dirname(e)),l=i.resolve(i.dirname(o));if(l===c||l===i.parse(l).root)return;let h;try{h=n.statSync(l,{bigint:!0})}catch(t){if("ENOENT"===t.code)return;throw t}if(a(r,h))throw new Error(u(e,o,s));return t(e,r,l,s)},isSrcSubdir:c,areIdentical:a}},function(t,e,r){"use strict";function n(t,e,r,n,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,i)}function i(t){return function(){var e=this,r=arguments;return new Promise((function(i,o){var s=t.apply(e,r);function a(t){n(s,i,o,a,c,"next",t)}function c(t){n(s,i,o,a,c,"throw",t)}a(void 0)}))}}var o;o=class{constructor(t){if(this.instance=t,this._events={},null!=this.instance.on||null!=this.instance.once||null!=this.instance.removeAllListeners)throw new Error("An Emitter already exists for this object");this.instance.on=(t,e)=>this._addListener(t,"many",e),this.instance.once=(t,e)=>this._addListener(t,"once",e),this.instance.removeAllListeners=(t=null)=>null!=t?delete this._events[t]:this._events={}}_addListener(t,e,r){var n;return null==(n=this._events)[t]&&(n[t]=[]),this._events[t].push({cb:r,status:e}),this.instance}listenerCount(t){return null!=this._events[t]?this._events[t].length:0}trigger(t,...e){var r=this;return i((function*(){var n,o;try{if("debug"!==t&&r.trigger("debug","Event triggered: "+t,e),null==r._events[t])return;return r._events[t]=r._events[t].filter((function(t){return"none"!==t.status})),o=r._events[t].map(function(){var t=i((function*(t){var n,i;if("none"!==t.status){"once"===t.status&&(t.status="none");try{return"function"==typeof(null!=(i="function"==typeof t.cb?t.cb(...e):void 0)?i.then:void 0)?yield i:i}catch(t){return n=t,r.trigger("error",n),null}}}));return function(e){return t.apply(this,arguments)}}()),(yield Promise.all(o)).find((function(t){return null!=t}))}catch(t){return n=t,r.trigger("error",n),null}}))()}},t.exports=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.statSync=e.stat=e.Settings=void 0;const n=r(212),i=r(213),o=r(214);function s(t={}){return t instanceof o.default?t:new o.default(t)}e.Settings=o.default,e.stat=function(t,e,r){if("function"==typeof e)return n.read(t,s(),e);n.read(t,s(e),r)},e.statSync=function(t,e){const r=s(e);return i.read(t,r)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXMLStrict=e.decodeHTML5Strict=e.decodeHTML4Strict=e.decodeHTML5=e.decodeHTML4=e.decodeHTMLStrict=e.decodeHTML=e.decodeXML=e.encodeHTML5=e.encodeHTML4=e.escapeUTF8=e.escape=e.encodeNonAsciiHTML=e.encodeHTML=e.encodeXML=e.encode=e.decodeStrict=e.decode=void 0;var n=r(58),i=r(61);e.decode=function(t,e){return(!e||e<=0?n.decodeXML:n.decodeHTML)(t)},e.decodeStrict=function(t,e){return(!e||e<=0?n.decodeXML:n.decodeHTMLStrict)(t)},e.encode=function(t,e){return(!e||e<=0?i.encodeXML:i.encodeHTML)(t)};var o=r(61);Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return o.encodeXML}}),Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(e,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return o.encodeNonAsciiHTML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return o.escape}}),Object.defineProperty(e,"escapeUTF8",{enumerable:!0,get:function(){return o.escapeUTF8}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return o.encodeHTML}});var s=r(58);Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return s.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return s.decodeXML}})},function(t,e,r){"use strict";var n=r(64);t.exports=function(t,e){return/^\/\//.test(t)&&(t="https:"+t),n.call(this,t,e)},global.fetch||(global.fetch=t.exports,global.Response=n.Response,global.Headers=n.Headers,global.Request=n.Request)},function(t,e,r){(function(t){var n;/*! https://mths.be/base64 v1.0.0 by @mathias | MIT license */!function(i){var o=e,s=(t&&t.exports,"object"==typeof global&&global);s.global!==s&&s.window;var a=function(t){this.message=t};(a.prototype=new Error).name="InvalidCharacterError";var c=function(t){throw new a(t)},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=/[\t\n\f\r ]/g,h={encode:function(t){t=String(t),/[^\0-\xFF]/.test(t)&&c("The string to be encoded contains characters outside of the Latin1 range.");for(var e,r,n,i,o=t.length%3,s="",a=-1,l=t.length-o;++a<l;)e=t.charCodeAt(a)<<16,r=t.charCodeAt(++a)<<8,n=t.charCodeAt(++a),s+=u.charAt((i=e+r+n)>>18&63)+u.charAt(i>>12&63)+u.charAt(i>>6&63)+u.charAt(63&i);return 2==o?(e=t.charCodeAt(a)<<8,r=t.charCodeAt(++a),s+=u.charAt((i=e+r)>>10)+u.charAt(i>>4&63)+u.charAt(i<<2&63)+"="):1==o&&(i=t.charCodeAt(a),s+=u.charAt(i>>2)+u.charAt(i<<4&63)+"=="),s},decode:function(t){var e=(t=String(t).replace(l,"")).length;e%4==0&&(e=(t=t.replace(/==?$/,"")).length),(e%4==1||/[^+a-zA-Z0-9/]/.test(t))&&c("Invalid character: the string to be decoded is not correctly encoded.");for(var r,n,i=0,o="",s=-1;++s<e;)n=u.indexOf(t.charAt(s)),r=i%4?64*r+n:n,i++%4&&(o+=String.fromCharCode(255&r>>(-2*i&6)));return o},version:"1.0.0"};void 0===(n=function(){return h}.call(e,r,e,t))||(t.exports=n)}()}).call(this,r(8)(t))},,function(t,e,r){"use strict";var n;n=class extends Error{},t.exports=n},function(t,e){t.exports=require("os")},function(t,e,r){"use strict";const n=r(5),i=r(6).fromCallback,o=r(141);t.exports={remove:i((function(t,e){if(n.rm)return n.rm(t,{recursive:!0,force:!0},e);o(t,e)})),removeSync:function(t){if(n.rmSync)return n.rmSync(t,{recursive:!0,force:!0});o.sync(t)}}},function(t,e,r){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0,function(t){t.Root="root",t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"}(n=e.ElementType||(e.ElementType={})),e.isTag=function(t){return t.type===n.Tag||t.type===n.Script||t.type===n.Style},e.Root=n.Root,e.Text=n.Text,e.Directive=n.Directive,e.Comment=n.Comment,e.Script=n.Script,e.Style=n.Style,e.Tag=n.Tag,e.CDATA=n.CDATA,e.Doctype=n.Doctype},function(t,e,r){"use strict";const n=r(1),i="win32"===process.platform,{REGEX_BACKSLASH:o,REGEX_REMOVE_BACKSLASH:s,REGEX_SPECIAL_CHARS:a,REGEX_SPECIAL_CHARS_GLOBAL:c}=r(35);e.isObject=t=>null!==t&&"object"==typeof t&&!Array.isArray(t),e.hasRegexChars=t=>a.test(t),e.isRegexChar=t=>1===t.length&&e.hasRegexChars(t),e.escapeRegex=t=>t.replace(c,"\\$1"),e.toPosixSlashes=t=>t.replace(o,"/"),e.removeBackslashes=t=>t.replace(s,t=>"\\"===t?"":t),e.supportsLookbehinds=()=>{const t=process.version.slice(1).split(".").map(Number);return 3===t.length&&t[0]>=9||8===t[0]&&t[1]>=10},e.isWindows=t=>t&&"boolean"==typeof t.windows?t.windows:!0===i||"\\"===n.sep,e.escapeLast=(t,r,n)=>{const i=t.lastIndexOf(r,n);return-1===i?t:"\\"===t[i-1]?e.escapeLast(t,r,i-1):`${t.slice(0,i)}\\${t.slice(i)}`},e.removePrefix=(t,e={})=>{let r=t;return r.startsWith("./")&&(r=r.slice(2),e.prefix="./"),r},e.wrapOutput=(t,e={},r={})=>{let n=`${r.contains?"":"^"}(?:${t})${r.contains?"":"$"}`;return!0===e.negated&&(n=`(?:^(?!${n}).*$)`),n}},function(t,e,r){"use strict";const n=r(1),i={DOT_LITERAL:"\\.",PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:"\\/",ONE_CHAR:"(?=.)",QMARK:"[^/]",END_ANCHOR:"(?:\\/|$)",DOTS_SLASH:"\\.{1,2}(?:\\/|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|\\/)\\.{1,2}(?:\\/|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:\\/|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:\\/|$))",QMARK_NO_DOT:"[^.\\/]",STAR:"[^/]*?",START_ANCHOR:"(?:^|\\/)"},o={...i,SLASH_LITERAL:"[\\\\/]",QMARK:"[^\\\\/]",STAR:"[^\\\\/]*?",DOTS_SLASH:"\\.{1,2}(?:[\\\\/]|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|[\\\\/])\\.{1,2}(?:[\\\\/]|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:[\\\\/]|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:[\\\\/]|$))",QMARK_NO_DOT:"[^.\\\\/]",START_ANCHOR:"(?:^|[\\\\/])",END_ANCHOR:"(?:[\\\\/]|$)"};t.exports={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:n.sep,extglobChars:t=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:t=>!0===t?o:i}},function(t,e,r){(function(t){var r="[object Arguments]",n="[object Map]",i="[object Object]",o="[object Set]",s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,c=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/^\s+|\s+$/g,h=/\\(\\)?/g,d=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,p=/^\[object .+?Constructor\]$/,m=/^0o[0-7]+$/i,g=/^(?:0|[1-9]\d*)$/,y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y[r]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object Boolean]"]=y["[object DataView]"]=y["[object Date]"]=y["[object Error]"]=y["[object Function]"]=y[n]=y["[object Number]"]=y[i]=y["[object RegExp]"]=y[o]=y["[object String]"]=y["[object WeakMap]"]=!1;var _=parseInt,v="object"==typeof global&&global&&global.Object===Object&&global,b="object"==typeof self&&self&&self.Object===Object&&self,w=v||b||Function("return this")(),E=e&&!e.nodeType&&e,S=E&&"object"==typeof t&&t&&!t.nodeType&&t,T=S&&S.exports===E&&v.process,A=function(){try{return T&&T.binding("util")}catch(t){}}(),O=A&&A.isTypedArray;function M(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function k(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function x(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function N(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var R,I,C,j=Array.prototype,L=Function.prototype,P=Object.prototype,D=w["__core-js_shared__"],F=(R=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+R:"",B=L.toString,U=P.hasOwnProperty,q=P.toString,H=RegExp("^"+B.call(U).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),G=w.Symbol,z=w.Uint8Array,W=P.propertyIsEnumerable,$=j.splice,V=(I=Object.keys,C=Object,function(t){return I(C(t))}),Y=Math.max,K=Math.min,J=Ot(w,"DataView"),Z=Ot(w,"Map"),X=Ot(w,"Promise"),Q=Ot(w,"Set"),tt=Ot(w,"WeakMap"),et=Ot(Object,"create"),rt=jt(J),nt=jt(Z),it=jt(X),ot=jt(Q),st=jt(tt),at=G?G.prototype:void 0,ct=at?at.valueOf:void 0,ut=at?at.toString:void 0;function lt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ht(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function dt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ft(t){var e=-1,r=t?t.length:0;for(this.__data__=new dt;++e<r;)this.add(t[e])}function pt(t){this.__data__=new ht(t)}function mt(t,e){var r=Ut(t)||Bt(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,i=!!n;for(var o in t)!e&&!U.call(t,o)||i&&("length"==o||kt(o,n))||r.push(o);return r}function gt(t,e){for(var r=t.length;r--;)if(Ft(t[r][0],e))return r;return-1}function yt(t,e){for(var r=0,n=(e=xt(e,t)?[e]:St(e)).length;null!=t&&r<n;)t=t[Ct(e[r++])];return r&&r==n?t:void 0}function _t(t,e){return null!=t&&e in Object(t)}function vt(t,e,s,a,c){return t===e||(null==t||null==e||!zt(t)&&!Wt(e)?t!=t&&e!=e:function(t,e,s,a,c,u){var l=Ut(t),h=Ut(e),d="[object Array]",f="[object Array]";l||(d=(d=Mt(t))==r?i:d);h||(f=(f=Mt(e))==r?i:f);var p=d==i&&!k(t),m=f==i&&!k(e),g=d==f;if(g&&!p)return u||(u=new pt),l||Vt(t)?Tt(t,e,s,a,c,u):function(t,e,r,i,s,a,c){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new z(t),new z(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ft(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case n:var u=x;case o:var l=2&a;if(u||(u=N),t.size!=e.size&&!l)return!1;var h=c.get(t);if(h)return h==e;a|=1,c.set(t,e);var d=Tt(u(t),u(e),i,s,a,c);return c.delete(t),d;case"[object Symbol]":if(ct)return ct.call(t)==ct.call(e)}return!1}(t,e,d,s,a,c,u);if(!(2&c)){var y=p&&U.call(t,"__wrapped__"),_=m&&U.call(e,"__wrapped__");if(y||_){var v=y?t.value():t,b=_?e.value():e;return u||(u=new pt),s(v,b,a,c,u)}}if(!g)return!1;return u||(u=new pt),function(t,e,r,n,i,o){var s=2&i,a=Yt(t),c=a.length,u=Yt(e).length;if(c!=u&&!s)return!1;var l=c;for(;l--;){var h=a[l];if(!(s?h in e:U.call(e,h)))return!1}var d=o.get(t);if(d&&o.get(e))return d==e;var f=!0;o.set(t,e),o.set(e,t);var p=s;for(;++l<c;){h=a[l];var m=t[h],g=e[h];if(n)var y=s?n(g,m,h,e,t,o):n(m,g,h,t,e,o);if(!(void 0===y?m===g||r(m,g,n,i,o):y)){f=!1;break}p||(p="constructor"==h)}if(f&&!p){var _=t.constructor,v=e.constructor;_==v||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof v&&v instanceof v||(f=!1)}return o.delete(t),o.delete(e),f}(t,e,s,a,c,u)}(t,e,vt,s,a,c))}function bt(t){return!(!zt(t)||function(t){return!!F&&F in t}(t))&&(Ht(t)||k(t)?H:p).test(jt(t))}function wt(t){return"function"==typeof t?t:null==t?Kt:"object"==typeof t?Ut(t)?function(t,e){if(xt(t)&&Nt(e))return Rt(Ct(t),e);return function(r){var n=function(t,e,r){var n=null==t?void 0:yt(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,r){e=xt(e,t)?[e]:St(e);var n,i=-1,o=e.length;for(;++i<o;){var s=Ct(e[i]);if(!(n=null!=t&&r(t,s)))break;t=t[s]}if(n)return n;return!!(o=t?t.length:0)&&Gt(o)&&kt(s,o)&&(Ut(t)||Bt(t))}(t,e,_t)}(r,t):vt(e,n,void 0,3)}}(t[0],t[1]):function(t){var e=function(t){var e=Yt(t),r=e.length;for(;r--;){var n=e[r],i=t[n];e[r]=[n,i,Nt(i)]}return e}(t);if(1==e.length&&e[0][2])return Rt(e[0][0],e[0][1]);return function(r){return r===t||function(t,e,r,n){var i=r.length,o=i,s=!n;if(null==t)return!o;for(t=Object(t);i--;){var a=r[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){var c=(a=r[i])[0],u=t[c],l=a[1];if(s&&a[2]){if(void 0===u&&!(c in t))return!1}else{var h=new pt;if(n)var d=n(u,l,c,t,e,h);if(!(void 0===d?vt(l,u,n,3,h):d))return!1}}return!0}(r,t,e)}}(t):xt(e=t)?(r=Ct(e),function(t){return null==t?void 0:t[r]}):function(t){return function(e){return yt(e,t)}}(e);var e,r}function Et(t){if(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||P,e!==n)return V(t);var e,r,n,i=[];for(var o in Object(t))U.call(t,o)&&"constructor"!=o&&i.push(o);return i}function St(t){return Ut(t)?t:It(t)}function Tt(t,e,r,n,i,o){var s=2&i,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var l=-1,h=!0,d=1&i?new ft:void 0;for(o.set(t,e),o.set(e,t);++l<a;){var f=t[l],p=e[l];if(n)var m=s?n(p,f,l,e,t,o):n(f,p,l,t,e,o);if(void 0!==m){if(m)continue;h=!1;break}if(d){if(!M(e,(function(t,e){if(!d.has(e)&&(f===t||r(f,t,n,i,o)))return d.add(e)}))){h=!1;break}}else if(f!==p&&!r(f,p,n,i,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function At(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Ot(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return bt(r)?r:void 0}lt.prototype.clear=function(){this.__data__=et?et(null):{}},lt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},lt.prototype.get=function(t){var e=this.__data__;if(et){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return U.call(e,t)?e[t]:void 0},lt.prototype.has=function(t){var e=this.__data__;return et?void 0!==e[t]:U.call(e,t)},lt.prototype.set=function(t,e){return this.__data__[t]=et&&void 0===e?"__lodash_hash_undefined__":e,this},ht.prototype.clear=function(){this.__data__=[]},ht.prototype.delete=function(t){var e=this.__data__,r=gt(e,t);return!(r<0)&&(r==e.length-1?e.pop():$.call(e,r,1),!0)},ht.prototype.get=function(t){var e=this.__data__,r=gt(e,t);return r<0?void 0:e[r][1]},ht.prototype.has=function(t){return gt(this.__data__,t)>-1},ht.prototype.set=function(t,e){var r=this.__data__,n=gt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},dt.prototype.clear=function(){this.__data__={hash:new lt,map:new(Z||ht),string:new lt}},dt.prototype.delete=function(t){return At(this,t).delete(t)},dt.prototype.get=function(t){return At(this,t).get(t)},dt.prototype.has=function(t){return At(this,t).has(t)},dt.prototype.set=function(t,e){return At(this,t).set(t,e),this},ft.prototype.add=ft.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},ft.prototype.has=function(t){return this.__data__.has(t)},pt.prototype.clear=function(){this.__data__=new ht},pt.prototype.delete=function(t){return this.__data__.delete(t)},pt.prototype.get=function(t){return this.__data__.get(t)},pt.prototype.has=function(t){return this.__data__.has(t)},pt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof ht){var n=r.__data__;if(!Z||n.length<199)return n.push([t,e]),this;r=this.__data__=new dt(n)}return r.set(t,e),this};var Mt=function(t){return q.call(t)};function kt(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||g.test(t))&&t>-1&&t%1==0&&t<e}function xt(t,e){if(Ut(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!$t(t))||(a.test(t)||!s.test(t)||null!=e&&t in Object(e))}function Nt(t){return t==t&&!zt(t)}function Rt(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}(J&&"[object DataView]"!=Mt(new J(new ArrayBuffer(1)))||Z&&Mt(new Z)!=n||X&&"[object Promise]"!=Mt(X.resolve())||Q&&Mt(new Q)!=o||tt&&"[object WeakMap]"!=Mt(new tt))&&(Mt=function(t){var e=q.call(t),r=e==i?t.constructor:void 0,s=r?jt(r):void 0;if(s)switch(s){case rt:return"[object DataView]";case nt:return n;case it:return"[object Promise]";case ot:return o;case st:return"[object WeakMap]"}return e});var It=Dt((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if($t(t))return ut?ut.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var r=[];return c.test(t)&&r.push(""),t.replace(u,(function(t,e,n,i){r.push(n?i.replace(h,"$1"):e||t)})),r}));function Ct(t){if("string"==typeof t||$t(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function jt(t){if(null!=t){try{return B.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var Lt,Pt=(Lt=function(t,e,r){var n=t?t.length:0;if(!n)return-1;var i,o,s=n-1;return void 0!==r&&(i=function(t){return t?(t=function(t){if("number"==typeof t)return t;if($t(t))return NaN;if(zt(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=zt(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(l,"");var r=f.test(t);return r||m.test(t)?_(t.slice(2),r?2:8):d.test(t)?NaN:+t}(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}(r),o=i%1,s=i==i?o?i-o:i:0,s=r<0?Y(n+s,0):K(s,n-1)),function(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,wt(e),s,!0)},function(t,e,r){var n=Object(t);if(!qt(t)){var i=wt(e);t=Yt(t),e=function(t){return i(n[t],t,n)}}var o=Lt(t,e,r);return o>-1?n[i?t[o]:o]:void 0});function Dt(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s),s};return r.cache=new(Dt.Cache||dt),r}function Ft(t,e){return t===e||t!=t&&e!=e}function Bt(t){return function(t){return Wt(t)&&qt(t)}(t)&&U.call(t,"callee")&&(!W.call(t,"callee")||q.call(t)==r)}Dt.Cache=dt;var Ut=Array.isArray;function qt(t){return null!=t&&Gt(t.length)&&!Ht(t)}function Ht(t){var e=zt(t)?q.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}function Gt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function zt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Wt(t){return!!t&&"object"==typeof t}function $t(t){return"symbol"==typeof t||Wt(t)&&"[object Symbol]"==q.call(t)}var Vt=O?function(t){return function(e){return t(e)}}(O):function(t){return Wt(t)&&Gt(t.length)&&!!y[q.call(t)]};function Yt(t){return qt(t)?mt(t):Et(t)}function Kt(t){return t}t.exports=Pt}).call(this,r(8)(t))},function(t,e){t.exports=require("url")},function(t){t.exports=JSON.parse('{"Aacute":"","aacute":"","Abreve":"","abreve":"","ac":"","acd":"","acE":"","Acirc":"","acirc":"","acute":"","Acy":"","acy":"","AElig":"","aelig":"","af":"","Afr":"","afr":"","Agrave":"","agrave":"","alefsym":"","aleph":"","Alpha":"","alpha":"","Amacr":"","amacr":"","amalg":"","amp":"&","AMP":"&","andand":"","And":"","and":"","andd":"","andslope":"","andv":"","ang":"","ange":"","angle":"","angmsdaa":"","angmsdab":"","angmsdac":"","angmsdad":"","angmsdae":"","angmsdaf":"","angmsdag":"","angmsdah":"","angmsd":"","angrt":"","angrtvb":"","angrtvbd":"","angsph":"","angst":"","angzarr":"","Aogon":"","aogon":"","Aopf":"","aopf":"","apacir":"","ap":"","apE":"","ape":"","apid":"","apos":"\'","ApplyFunction":"","approx":"","approxeq":"","Aring":"","aring":"","Ascr":"","ascr":"","Assign":"","ast":"*","asymp":"","asympeq":"","Atilde":"","atilde":"","Auml":"","auml":"","awconint":"","awint":"","backcong":"","backepsilon":"","backprime":"","backsim":"","backsimeq":"","Backslash":"","Barv":"","barvee":"","barwed":"","Barwed":"","barwedge":"","bbrk":"","bbrktbrk":"","bcong":"","Bcy":"","bcy":"","bdquo":"","becaus":"","because":"","Because":"","bemptyv":"","bepsi":"","bernou":"","Bernoullis":"","Beta":"","beta":"","beth":"","between":"","Bfr":"","bfr":"","bigcap":"","bigcirc":"","bigcup":"","bigodot":"","bigoplus":"","bigotimes":"","bigsqcup":"","bigstar":"","bigtriangledown":"","bigtriangleup":"","biguplus":"","bigvee":"","bigwedge":"","bkarow":"","blacklozenge":"","blacksquare":"","blacktriangle":"","blacktriangledown":"","blacktriangleleft":"","blacktriangleright":"","blank":"","blk12":"","blk14":"","blk34":"","block":"","bne":"=","bnequiv":"","bNot":"","bnot":"","Bopf":"","bopf":"","bot":"","bottom":"","bowtie":"","boxbox":"","boxdl":"","boxdL":"","boxDl":"","boxDL":"","boxdr":"","boxdR":"","boxDr":"","boxDR":"","boxh":"","boxH":"","boxhd":"","boxHd":"","boxhD":"","boxHD":"","boxhu":"","boxHu":"","boxhU":"","boxHU":"","boxminus":"","boxplus":"","boxtimes":"","boxul":"","boxuL":"","boxUl":"","boxUL":"","boxur":"","boxuR":"","boxUr":"","boxUR":"","boxv":"","boxV":"","boxvh":"","boxvH":"","boxVh":"","boxVH":"","boxvl":"","boxvL":"","boxVl":"","boxVL":"","boxvr":"","boxvR":"","boxVr":"","boxVR":"","bprime":"","breve":"","Breve":"","brvbar":"","bscr":"","Bscr":"","bsemi":"","bsim":"","bsime":"","bsolb":"","bsol":"\\\\","bsolhsub":"","bull":"","bullet":"","bump":"","bumpE":"","bumpe":"","Bumpeq":"","bumpeq":"","Cacute":"","cacute":"","capand":"","capbrcup":"","capcap":"","cap":"","Cap":"","capcup":"","capdot":"","CapitalDifferentialD":"","caps":"","caret":"","caron":"","Cayleys":"","ccaps":"","Ccaron":"","ccaron":"","Ccedil":"","ccedil":"","Ccirc":"","ccirc":"","Cconint":"","ccups":"","ccupssm":"","Cdot":"","cdot":"","cedil":"","Cedilla":"","cemptyv":"","cent":"","centerdot":"","CenterDot":"","cfr":"","Cfr":"","CHcy":"","chcy":"","check":"","checkmark":"","Chi":"","chi":"","circ":"","circeq":"","circlearrowleft":"","circlearrowright":"","circledast":"","circledcirc":"","circleddash":"","CircleDot":"","circledR":"","circledS":"","CircleMinus":"","CirclePlus":"","CircleTimes":"","cir":"","cirE":"","cire":"","cirfnint":"","cirmid":"","cirscir":"","ClockwiseContourIntegral":"","CloseCurlyDoubleQuote":"","CloseCurlyQuote":"","clubs":"","clubsuit":"","colon":":","Colon":"","Colone":"","colone":"","coloneq":"","comma":",","commat":"@","comp":"","compfn":"","complement":"","complexes":"","cong":"","congdot":"","Congruent":"","conint":"","Conint":"","ContourIntegral":"","copf":"","Copf":"","coprod":"","Coproduct":"","copy":"","COPY":"","copysr":"","CounterClockwiseContourIntegral":"","crarr":"","cross":"","Cross":"","Cscr":"","cscr":"","csub":"","csube":"","csup":"","csupe":"","ctdot":"","cudarrl":"","cudarrr":"","cuepr":"","cuesc":"","cularr":"","cularrp":"","cupbrcap":"","cupcap":"","CupCap":"","cup":"","Cup":"","cupcup":"","cupdot":"","cupor":"","cups":"","curarr":"","curarrm":"","curlyeqprec":"","curlyeqsucc":"","curlyvee":"","curlywedge":"","curren":"","curvearrowleft":"","curvearrowright":"","cuvee":"","cuwed":"","cwconint":"","cwint":"","cylcty":"","dagger":"","Dagger":"","daleth":"","darr":"","Darr":"","dArr":"","dash":"","Dashv":"","dashv":"","dbkarow":"","dblac":"","Dcaron":"","dcaron":"","Dcy":"","dcy":"","ddagger":"","ddarr":"","DD":"","dd":"","DDotrahd":"","ddotseq":"","deg":"","Del":"","Delta":"","delta":"","demptyv":"","dfisht":"","Dfr":"","dfr":"","dHar":"","dharl":"","dharr":"","DiacriticalAcute":"","DiacriticalDot":"","DiacriticalDoubleAcute":"","DiacriticalGrave":"`","DiacriticalTilde":"","diam":"","diamond":"","Diamond":"","diamondsuit":"","diams":"","die":"","DifferentialD":"","digamma":"","disin":"","div":"","divide":"","divideontimes":"","divonx":"","DJcy":"","djcy":"","dlcorn":"","dlcrop":"","dollar":"$","Dopf":"","dopf":"","Dot":"","dot":"","DotDot":"","doteq":"","doteqdot":"","DotEqual":"","dotminus":"","dotplus":"","dotsquare":"","doublebarwedge":"","DoubleContourIntegral":"","DoubleDot":"","DoubleDownArrow":"","DoubleLeftArrow":"","DoubleLeftRightArrow":"","DoubleLeftTee":"","DoubleLongLeftArrow":"","DoubleLongLeftRightArrow":"","DoubleLongRightArrow":"","DoubleRightArrow":"","DoubleRightTee":"","DoubleUpArrow":"","DoubleUpDownArrow":"","DoubleVerticalBar":"","DownArrowBar":"","downarrow":"","DownArrow":"","Downarrow":"","DownArrowUpArrow":"","DownBreve":"","downdownarrows":"","downharpoonleft":"","downharpoonright":"","DownLeftRightVector":"","DownLeftTeeVector":"","DownLeftVectorBar":"","DownLeftVector":"","DownRightTeeVector":"","DownRightVectorBar":"","DownRightVector":"","DownTeeArrow":"","DownTee":"","drbkarow":"","drcorn":"","drcrop":"","Dscr":"","dscr":"","DScy":"","dscy":"","dsol":"","Dstrok":"","dstrok":"","dtdot":"","dtri":"","dtrif":"","duarr":"","duhar":"","dwangle":"","DZcy":"","dzcy":"","dzigrarr":"","Eacute":"","eacute":"","easter":"","Ecaron":"","ecaron":"","Ecirc":"","ecirc":"","ecir":"","ecolon":"","Ecy":"","ecy":"","eDDot":"","Edot":"","edot":"","eDot":"","ee":"","efDot":"","Efr":"","efr":"","eg":"","Egrave":"","egrave":"","egs":"","egsdot":"","el":"","Element":"","elinters":"","ell":"","els":"","elsdot":"","Emacr":"","emacr":"","empty":"","emptyset":"","EmptySmallSquare":"","emptyv":"","EmptyVerySmallSquare":"","emsp13":"","emsp14":"","emsp":"","ENG":"","eng":"","ensp":"","Eogon":"","eogon":"","Eopf":"","eopf":"","epar":"","eparsl":"","eplus":"","epsi":"","Epsilon":"","epsilon":"","epsiv":"","eqcirc":"","eqcolon":"","eqsim":"","eqslantgtr":"","eqslantless":"","Equal":"","equals":"=","EqualTilde":"","equest":"","Equilibrium":"","equiv":"","equivDD":"","eqvparsl":"","erarr":"","erDot":"","escr":"","Escr":"","esdot":"","Esim":"","esim":"","Eta":"","eta":"","ETH":"","eth":"","Euml":"","euml":"","euro":"","excl":"!","exist":"","Exists":"","expectation":"","exponentiale":"","ExponentialE":"","fallingdotseq":"","Fcy":"","fcy":"","female":"","ffilig":"","fflig":"","ffllig":"","Ffr":"","ffr":"","filig":"","FilledSmallSquare":"","FilledVerySmallSquare":"","fjlig":"fj","flat":"","fllig":"","fltns":"","fnof":"","Fopf":"","fopf":"","forall":"","ForAll":"","fork":"","forkv":"","Fouriertrf":"","fpartint":"","frac12":"","frac13":"","frac14":"","frac15":"","frac16":"","frac18":"","frac23":"","frac25":"","frac34":"","frac35":"","frac38":"","frac45":"","frac56":"","frac58":"","frac78":"","frasl":"","frown":"","fscr":"","Fscr":"","gacute":"","Gamma":"","gamma":"","Gammad":"","gammad":"","gap":"","Gbreve":"","gbreve":"","Gcedil":"","Gcirc":"","gcirc":"","Gcy":"","gcy":"","Gdot":"","gdot":"","ge":"","gE":"","gEl":"","gel":"","geq":"","geqq":"","geqslant":"","gescc":"","ges":"","gesdot":"","gesdoto":"","gesdotol":"","gesl":"","gesles":"","Gfr":"","gfr":"","gg":"","Gg":"","ggg":"","gimel":"","GJcy":"","gjcy":"","gla":"","gl":"","glE":"","glj":"","gnap":"","gnapprox":"","gne":"","gnE":"","gneq":"","gneqq":"","gnsim":"","Gopf":"","gopf":"","grave":"`","GreaterEqual":"","GreaterEqualLess":"","GreaterFullEqual":"","GreaterGreater":"","GreaterLess":"","GreaterSlantEqual":"","GreaterTilde":"","Gscr":"","gscr":"","gsim":"","gsime":"","gsiml":"","gtcc":"","gtcir":"","gt":">","GT":">","Gt":"","gtdot":"","gtlPar":"","gtquest":"","gtrapprox":"","gtrarr":"","gtrdot":"","gtreqless":"","gtreqqless":"","gtrless":"","gtrsim":"","gvertneqq":"","gvnE":"","Hacek":"","hairsp":"","half":"","hamilt":"","HARDcy":"","hardcy":"","harrcir":"","harr":"","hArr":"","harrw":"","Hat":"^","hbar":"","Hcirc":"","hcirc":"","hearts":"","heartsuit":"","hellip":"","hercon":"","hfr":"","Hfr":"","HilbertSpace":"","hksearow":"","hkswarow":"","hoarr":"","homtht":"","hookleftarrow":"","hookrightarrow":"","hopf":"","Hopf":"","horbar":"","HorizontalLine":"","hscr":"","Hscr":"","hslash":"","Hstrok":"","hstrok":"","HumpDownHump":"","HumpEqual":"","hybull":"","hyphen":"","Iacute":"","iacute":"","ic":"","Icirc":"","icirc":"","Icy":"","icy":"","Idot":"","IEcy":"","iecy":"","iexcl":"","iff":"","ifr":"","Ifr":"","Igrave":"","igrave":"","ii":"","iiiint":"","iiint":"","iinfin":"","iiota":"","IJlig":"","ijlig":"","Imacr":"","imacr":"","image":"","ImaginaryI":"","imagline":"","imagpart":"","imath":"","Im":"","imof":"","imped":"","Implies":"","incare":"","in":"","infin":"","infintie":"","inodot":"","intcal":"","int":"","Int":"","integers":"","Integral":"","intercal":"","Intersection":"","intlarhk":"","intprod":"","InvisibleComma":"","InvisibleTimes":"","IOcy":"","iocy":"","Iogon":"","iogon":"","Iopf":"","iopf":"","Iota":"","iota":"","iprod":"","iquest":"","iscr":"","Iscr":"","isin":"","isindot":"","isinE":"","isins":"","isinsv":"","isinv":"","it":"","Itilde":"","itilde":"","Iukcy":"","iukcy":"","Iuml":"","iuml":"","Jcirc":"","jcirc":"","Jcy":"","jcy":"","Jfr":"","jfr":"","jmath":"","Jopf":"","jopf":"","Jscr":"","jscr":"","Jsercy":"","jsercy":"","Jukcy":"","jukcy":"","Kappa":"","kappa":"","kappav":"","Kcedil":"","kcedil":"","Kcy":"","kcy":"","Kfr":"","kfr":"","kgreen":"","KHcy":"","khcy":"","KJcy":"","kjcy":"","Kopf":"","kopf":"","Kscr":"","kscr":"","lAarr":"","Lacute":"","lacute":"","laemptyv":"","lagran":"","Lambda":"","lambda":"","lang":"","Lang":"","langd":"","langle":"","lap":"","Laplacetrf":"","laquo":"","larrb":"","larrbfs":"","larr":"","Larr":"","lArr":"","larrfs":"","larrhk":"","larrlp":"","larrpl":"","larrsim":"","larrtl":"","latail":"","lAtail":"","lat":"","late":"","lates":"","lbarr":"","lBarr":"","lbbrk":"","lbrace":"{","lbrack":"[","lbrke":"","lbrksld":"","lbrkslu":"","Lcaron":"","lcaron":"","Lcedil":"","lcedil":"","lceil":"","lcub":"{","Lcy":"","lcy":"","ldca":"","ldquo":"","ldquor":"","ldrdhar":"","ldrushar":"","ldsh":"","le":"","lE":"","LeftAngleBracket":"","LeftArrowBar":"","leftarrow":"","LeftArrow":"","Leftarrow":"","LeftArrowRightArrow":"","leftarrowtail":"","LeftCeiling":"","LeftDoubleBracket":"","LeftDownTeeVector":"","LeftDownVectorBar":"","LeftDownVector":"","LeftFloor":"","leftharpoondown":"","leftharpoonup":"","leftleftarrows":"","leftrightarrow":"","LeftRightArrow":"","Leftrightarrow":"","leftrightarrows":"","leftrightharpoons":"","leftrightsquigarrow":"","LeftRightVector":"","LeftTeeArrow":"","LeftTee":"","LeftTeeVector":"","leftthreetimes":"","LeftTriangleBar":"","LeftTriangle":"","LeftTriangleEqual":"","LeftUpDownVector":"","LeftUpTeeVector":"","LeftUpVectorBar":"","LeftUpVector":"","LeftVectorBar":"","LeftVector":"","lEg":"","leg":"","leq":"","leqq":"","leqslant":"","lescc":"","les":"","lesdot":"","lesdoto":"","lesdotor":"","lesg":"","lesges":"","lessapprox":"","lessdot":"","lesseqgtr":"","lesseqqgtr":"","LessEqualGreater":"","LessFullEqual":"","LessGreater":"","lessgtr":"","LessLess":"","lesssim":"","LessSlantEqual":"","LessTilde":"","lfisht":"","lfloor":"","Lfr":"","lfr":"","lg":"","lgE":"","lHar":"","lhard":"","lharu":"","lharul":"","lhblk":"","LJcy":"","ljcy":"","llarr":"","ll":"","Ll":"","llcorner":"","Lleftarrow":"","llhard":"","lltri":"","Lmidot":"","lmidot":"","lmoustache":"","lmoust":"","lnap":"","lnapprox":"","lne":"","lnE":"","lneq":"","lneqq":"","lnsim":"","loang":"","loarr":"","lobrk":"","longleftarrow":"","LongLeftArrow":"","Longleftarrow":"","longleftrightarrow":"","LongLeftRightArrow":"","Longleftrightarrow":"","longmapsto":"","longrightarrow":"","LongRightArrow":"","Longrightarrow":"","looparrowleft":"","looparrowright":"","lopar":"","Lopf":"","lopf":"","loplus":"","lotimes":"","lowast":"","lowbar":"_","LowerLeftArrow":"","LowerRightArrow":"","loz":"","lozenge":"","lozf":"","lpar":"(","lparlt":"","lrarr":"","lrcorner":"","lrhar":"","lrhard":"","lrm":"","lrtri":"","lsaquo":"","lscr":"","Lscr":"","lsh":"","Lsh":"","lsim":"","lsime":"","lsimg":"","lsqb":"[","lsquo":"","lsquor":"","Lstrok":"","lstrok":"","ltcc":"","ltcir":"","lt":"<","LT":"<","Lt":"","ltdot":"","lthree":"","ltimes":"","ltlarr":"","ltquest":"","ltri":"","ltrie":"","ltrif":"","ltrPar":"","lurdshar":"","luruhar":"","lvertneqq":"","lvnE":"","macr":"","male":"","malt":"","maltese":"","Map":"","map":"","mapsto":"","mapstodown":"","mapstoleft":"","mapstoup":"","marker":"","mcomma":"","Mcy":"","mcy":"","mdash":"","mDDot":"","measuredangle":"","MediumSpace":"","Mellintrf":"","Mfr":"","mfr":"","mho":"","micro":"","midast":"*","midcir":"","mid":"","middot":"","minusb":"","minus":"","minusd":"","minusdu":"","MinusPlus":"","mlcp":"","mldr":"","mnplus":"","models":"","Mopf":"","mopf":"","mp":"","mscr":"","Mscr":"","mstpos":"","Mu":"","mu":"","multimap":"","mumap":"","nabla":"","Nacute":"","nacute":"","nang":"","nap":"","napE":"","napid":"","napos":"","napprox":"","natural":"","naturals":"","natur":"","nbsp":"","nbump":"","nbumpe":"","ncap":"","Ncaron":"","ncaron":"","Ncedil":"","ncedil":"","ncong":"","ncongdot":"","ncup":"","Ncy":"","ncy":"","ndash":"","nearhk":"","nearr":"","neArr":"","nearrow":"","ne":"","nedot":"","NegativeMediumSpace":"","NegativeThickSpace":"","NegativeThinSpace":"","NegativeVeryThinSpace":"","nequiv":"","nesear":"","nesim":"","NestedGreaterGreater":"","NestedLessLess":"","NewLine":"\\n","nexist":"","nexists":"","Nfr":"","nfr":"","ngE":"","nge":"","ngeq":"","ngeqq":"","ngeqslant":"","nges":"","nGg":"","ngsim":"","nGt":"","ngt":"","ngtr":"","nGtv":"","nharr":"","nhArr":"","nhpar":"","ni":"","nis":"","nisd":"","niv":"","NJcy":"","njcy":"","nlarr":"","nlArr":"","nldr":"","nlE":"","nle":"","nleftarrow":"","nLeftarrow":"","nleftrightarrow":"","nLeftrightarrow":"","nleq":"","nleqq":"","nleqslant":"","nles":"","nless":"","nLl":"","nlsim":"","nLt":"","nlt":"","nltri":"","nltrie":"","nLtv":"","nmid":"","NoBreak":"","NonBreakingSpace":"","nopf":"","Nopf":"","Not":"","not":"","NotCongruent":"","NotCupCap":"","NotDoubleVerticalBar":"","NotElement":"","NotEqual":"","NotEqualTilde":"","NotExists":"","NotGreater":"","NotGreaterEqual":"","NotGreaterFullEqual":"","NotGreaterGreater":"","NotGreaterLess":"","NotGreaterSlantEqual":"","NotGreaterTilde":"","NotHumpDownHump":"","NotHumpEqual":"","notin":"","notindot":"","notinE":"","notinva":"","notinvb":"","notinvc":"","NotLeftTriangleBar":"","NotLeftTriangle":"","NotLeftTriangleEqual":"","NotLess":"","NotLessEqual":"","NotLessGreater":"","NotLessLess":"","NotLessSlantEqual":"","NotLessTilde":"","NotNestedGreaterGreater":"","NotNestedLessLess":"","notni":"","notniva":"","notnivb":"","notnivc":"","NotPrecedes":"","NotPrecedesEqual":"","NotPrecedesSlantEqual":"","NotReverseElement":"","NotRightTriangleBar":"","NotRightTriangle":"","NotRightTriangleEqual":"","NotSquareSubset":"","NotSquareSubsetEqual":"","NotSquareSuperset":"","NotSquareSupersetEqual":"","NotSubset":"","NotSubsetEqual":"","NotSucceeds":"","NotSucceedsEqual":"","NotSucceedsSlantEqual":"","NotSucceedsTilde":"","NotSuperset":"","NotSupersetEqual":"","NotTilde":"","NotTildeEqual":"","NotTildeFullEqual":"","NotTildeTilde":"","NotVerticalBar":"","nparallel":"","npar":"","nparsl":"","npart":"","npolint":"","npr":"","nprcue":"","nprec":"","npreceq":"","npre":"","nrarrc":"","nrarr":"","nrArr":"","nrarrw":"","nrightarrow":"","nRightarrow":"","nrtri":"","nrtrie":"","nsc":"","nsccue":"","nsce":"","Nscr":"","nscr":"","nshortmid":"","nshortparallel":"","nsim":"","nsime":"","nsimeq":"","nsmid":"","nspar":"","nsqsube":"","nsqsupe":"","nsub":"","nsubE":"","nsube":"","nsubset":"","nsubseteq":"","nsubseteqq":"","nsucc":"","nsucceq":"","nsup":"","nsupE":"","nsupe":"","nsupset":"","nsupseteq":"","nsupseteqq":"","ntgl":"","Ntilde":"","ntilde":"","ntlg":"","ntriangleleft":"","ntrianglelefteq":"","ntriangleright":"","ntrianglerighteq":"","Nu":"","nu":"","num":"#","numero":"","numsp":"","nvap":"","nvdash":"","nvDash":"","nVdash":"","nVDash":"","nvge":"","nvgt":">","nvHarr":"","nvinfin":"","nvlArr":"","nvle":"","nvlt":"<","nvltrie":"","nvrArr":"","nvrtrie":"","nvsim":"","nwarhk":"","nwarr":"","nwArr":"","nwarrow":"","nwnear":"","Oacute":"","oacute":"","oast":"","Ocirc":"","ocirc":"","ocir":"","Ocy":"","ocy":"","odash":"","Odblac":"","odblac":"","odiv":"","odot":"","odsold":"","OElig":"","oelig":"","ofcir":"","Ofr":"","ofr":"","ogon":"","Ograve":"","ograve":"","ogt":"","ohbar":"","ohm":"","oint":"","olarr":"","olcir":"","olcross":"","oline":"","olt":"","Omacr":"","omacr":"","Omega":"","omega":"","Omicron":"","omicron":"","omid":"","ominus":"","Oopf":"","oopf":"","opar":"","OpenCurlyDoubleQuote":"","OpenCurlyQuote":"","operp":"","oplus":"","orarr":"","Or":"","or":"","ord":"","order":"","orderof":"","ordf":"","ordm":"","origof":"","oror":"","orslope":"","orv":"","oS":"","Oscr":"","oscr":"","Oslash":"","oslash":"","osol":"","Otilde":"","otilde":"","otimesas":"","Otimes":"","otimes":"","Ouml":"","ouml":"","ovbar":"","OverBar":"","OverBrace":"","OverBracket":"","OverParenthesis":"","para":"","parallel":"","par":"","parsim":"","parsl":"","part":"","PartialD":"","Pcy":"","pcy":"","percnt":"%","period":".","permil":"","perp":"","pertenk":"","Pfr":"","pfr":"","Phi":"","phi":"","phiv":"","phmmat":"","phone":"","Pi":"","pi":"","pitchfork":"","piv":"","planck":"","planckh":"","plankv":"","plusacir":"","plusb":"","pluscir":"","plus":"+","plusdo":"","plusdu":"","pluse":"","PlusMinus":"","plusmn":"","plussim":"","plustwo":"","pm":"","Poincareplane":"","pointint":"","popf":"","Popf":"","pound":"","prap":"","Pr":"","pr":"","prcue":"","precapprox":"","prec":"","preccurlyeq":"","Precedes":"","PrecedesEqual":"","PrecedesSlantEqual":"","PrecedesTilde":"","preceq":"","precnapprox":"","precneqq":"","precnsim":"","pre":"","prE":"","precsim":"","prime":"","Prime":"","primes":"","prnap":"","prnE":"","prnsim":"","prod":"","Product":"","profalar":"","profline":"","profsurf":"","prop":"","Proportional":"","Proportion":"","propto":"","prsim":"","prurel":"","Pscr":"","pscr":"","Psi":"","psi":"","puncsp":"","Qfr":"","qfr":"","qint":"","qopf":"","Qopf":"","qprime":"","Qscr":"","qscr":"","quaternions":"","quatint":"","quest":"?","questeq":"","quot":"\\"","QUOT":"\\"","rAarr":"","race":"","Racute":"","racute":"","radic":"","raemptyv":"","rang":"","Rang":"","rangd":"","range":"","rangle":"","raquo":"","rarrap":"","rarrb":"","rarrbfs":"","rarrc":"","rarr":"","Rarr":"","rArr":"","rarrfs":"","rarrhk":"","rarrlp":"","rarrpl":"","rarrsim":"","Rarrtl":"","rarrtl":"","rarrw":"","ratail":"","rAtail":"","ratio":"","rationals":"","rbarr":"","rBarr":"","RBarr":"","rbbrk":"","rbrace":"}","rbrack":"]","rbrke":"","rbrksld":"","rbrkslu":"","Rcaron":"","rcaron":"","Rcedil":"","rcedil":"","rceil":"","rcub":"}","Rcy":"","rcy":"","rdca":"","rdldhar":"","rdquo":"","rdquor":"","rdsh":"","real":"","realine":"","realpart":"","reals":"","Re":"","rect":"","reg":"","REG":"","ReverseElement":"","ReverseEquilibrium":"","ReverseUpEquilibrium":"","rfisht":"","rfloor":"","rfr":"","Rfr":"","rHar":"","rhard":"","rharu":"","rharul":"","Rho":"","rho":"","rhov":"","RightAngleBracket":"","RightArrowBar":"","rightarrow":"","RightArrow":"","Rightarrow":"","RightArrowLeftArrow":"","rightarrowtail":"","RightCeiling":"","RightDoubleBracket":"","RightDownTeeVector":"","RightDownVectorBar":"","RightDownVector":"","RightFloor":"","rightharpoondown":"","rightharpoonup":"","rightleftarrows":"","rightleftharpoons":"","rightrightarrows":"","rightsquigarrow":"","RightTeeArrow":"","RightTee":"","RightTeeVector":"","rightthreetimes":"","RightTriangleBar":"","RightTriangle":"","RightTriangleEqual":"","RightUpDownVector":"","RightUpTeeVector":"","RightUpVectorBar":"","RightUpVector":"","RightVectorBar":"","RightVector":"","ring":"","risingdotseq":"","rlarr":"","rlhar":"","rlm":"","rmoustache":"","rmoust":"","rnmid":"","roang":"","roarr":"","robrk":"","ropar":"","ropf":"","Ropf":"","roplus":"","rotimes":"","RoundImplies":"","rpar":")","rpargt":"","rppolint":"","rrarr":"","Rrightarrow":"","rsaquo":"","rscr":"","Rscr":"","rsh":"","Rsh":"","rsqb":"]","rsquo":"","rsquor":"","rthree":"","rtimes":"","rtri":"","rtrie":"","rtrif":"","rtriltri":"","RuleDelayed":"","ruluhar":"","rx":"","Sacute":"","sacute":"","sbquo":"","scap":"","Scaron":"","scaron":"","Sc":"","sc":"","sccue":"","sce":"","scE":"","Scedil":"","scedil":"","Scirc":"","scirc":"","scnap":"","scnE":"","scnsim":"","scpolint":"","scsim":"","Scy":"","scy":"","sdotb":"","sdot":"","sdote":"","searhk":"","searr":"","seArr":"","searrow":"","sect":"","semi":";","seswar":"","setminus":"","setmn":"","sext":"","Sfr":"","sfr":"","sfrown":"","sharp":"","SHCHcy":"","shchcy":"","SHcy":"","shcy":"","ShortDownArrow":"","ShortLeftArrow":"","shortmid":"","shortparallel":"","ShortRightArrow":"","ShortUpArrow":"","shy":"","Sigma":"","sigma":"","sigmaf":"","sigmav":"","sim":"","simdot":"","sime":"","simeq":"","simg":"","simgE":"","siml":"","simlE":"","simne":"","simplus":"","simrarr":"","slarr":"","SmallCircle":"","smallsetminus":"","smashp":"","smeparsl":"","smid":"","smile":"","smt":"","smte":"","smtes":"","SOFTcy":"","softcy":"","solbar":"","solb":"","sol":"/","Sopf":"","sopf":"","spades":"","spadesuit":"","spar":"","sqcap":"","sqcaps":"","sqcup":"","sqcups":"","Sqrt":"","sqsub":"","sqsube":"","sqsubset":"","sqsubseteq":"","sqsup":"","sqsupe":"","sqsupset":"","sqsupseteq":"","square":"","Square":"","SquareIntersection":"","SquareSubset":"","SquareSubsetEqual":"","SquareSuperset":"","SquareSupersetEqual":"","SquareUnion":"","squarf":"","squ":"","squf":"","srarr":"","Sscr":"","sscr":"","ssetmn":"","ssmile":"","sstarf":"","Star":"","star":"","starf":"","straightepsilon":"","straightphi":"","strns":"","sub":"","Sub":"","subdot":"","subE":"","sube":"","subedot":"","submult":"","subnE":"","subne":"","subplus":"","subrarr":"","subset":"","Subset":"","subseteq":"","subseteqq":"","SubsetEqual":"","subsetneq":"","subsetneqq":"","subsim":"","subsub":"","subsup":"","succapprox":"","succ":"","succcurlyeq":"","Succeeds":"","SucceedsEqual":"","SucceedsSlantEqual":"","SucceedsTilde":"","succeq":"","succnapprox":"","succneqq":"","succnsim":"","succsim":"","SuchThat":"","sum":"","Sum":"","sung":"","sup1":"","sup2":"","sup3":"","sup":"","Sup":"","supdot":"","supdsub":"","supE":"","supe":"","supedot":"","Superset":"","SupersetEqual":"","suphsol":"","suphsub":"","suplarr":"","supmult":"","supnE":"","supne":"","supplus":"","supset":"","Supset":"","supseteq":"","supseteqq":"","supsetneq":"","supsetneqq":"","supsim":"","supsub":"","supsup":"","swarhk":"","swarr":"","swArr":"","swarrow":"","swnwar":"","szlig":"","Tab":"\\t","target":"","Tau":"","tau":"","tbrk":"","Tcaron":"","tcaron":"","Tcedil":"","tcedil":"","Tcy":"","tcy":"","tdot":"","telrec":"","Tfr":"","tfr":"","there4":"","therefore":"","Therefore":"","Theta":"","theta":"","thetasym":"","thetav":"","thickapprox":"","thicksim":"","ThickSpace":"","ThinSpace":"","thinsp":"","thkap":"","thksim":"","THORN":"","thorn":"","tilde":"","Tilde":"","TildeEqual":"","TildeFullEqual":"","TildeTilde":"","timesbar":"","timesb":"","times":"","timesd":"","tint":"","toea":"","topbot":"","topcir":"","top":"","Topf":"","topf":"","topfork":"","tosa":"","tprime":"","trade":"","TRADE":"","triangle":"","triangledown":"","triangleleft":"","trianglelefteq":"","triangleq":"","triangleright":"","trianglerighteq":"","tridot":"","trie":"","triminus":"","TripleDot":"","triplus":"","trisb":"","tritime":"","trpezium":"","Tscr":"","tscr":"","TScy":"","tscy":"","TSHcy":"","tshcy":"","Tstrok":"","tstrok":"","twixt":"","twoheadleftarrow":"","twoheadrightarrow":"","Uacute":"","uacute":"","uarr":"","Uarr":"","uArr":"","Uarrocir":"","Ubrcy":"","ubrcy":"","Ubreve":"","ubreve":"","Ucirc":"","ucirc":"","Ucy":"","ucy":"","udarr":"","Udblac":"","udblac":"","udhar":"","ufisht":"","Ufr":"","ufr":"","Ugrave":"","ugrave":"","uHar":"","uharl":"","uharr":"","uhblk":"","ulcorn":"","ulcorner":"","ulcrop":"","ultri":"","Umacr":"","umacr":"","uml":"","UnderBar":"_","UnderBrace":"","UnderBracket":"","UnderParenthesis":"","Union":"","UnionPlus":"","Uogon":"","uogon":"","Uopf":"","uopf":"","UpArrowBar":"","uparrow":"","UpArrow":"","Uparrow":"","UpArrowDownArrow":"","updownarrow":"","UpDownArrow":"","Updownarrow":"","UpEquilibrium":"","upharpoonleft":"","upharpoonright":"","uplus":"","UpperLeftArrow":"","UpperRightArrow":"","upsi":"","Upsi":"","upsih":"","Upsilon":"","upsilon":"","UpTeeArrow":"","UpTee":"","upuparrows":"","urcorn":"","urcorner":"","urcrop":"","Uring":"","uring":"","urtri":"","Uscr":"","uscr":"","utdot":"","Utilde":"","utilde":"","utri":"","utrif":"","uuarr":"","Uuml":"","uuml":"","uwangle":"","vangrt":"","varepsilon":"","varkappa":"","varnothing":"","varphi":"","varpi":"","varpropto":"","varr":"","vArr":"","varrho":"","varsigma":"","varsubsetneq":"","varsubsetneqq":"","varsupsetneq":"","varsupsetneqq":"","vartheta":"","vartriangleleft":"","vartriangleright":"","vBar":"","Vbar":"","vBarv":"","Vcy":"","vcy":"","vdash":"","vDash":"","Vdash":"","VDash":"","Vdashl":"","veebar":"","vee":"","Vee":"","veeeq":"","vellip":"","verbar":"|","Verbar":"","vert":"|","Vert":"","VerticalBar":"","VerticalLine":"|","VerticalSeparator":"","VerticalTilde":"","VeryThinSpace":"","Vfr":"","vfr":"","vltri":"","vnsub":"","vnsup":"","Vopf":"","vopf":"","vprop":"","vrtri":"","Vscr":"","vscr":"","vsubnE":"","vsubne":"","vsupnE":"","vsupne":"","Vvdash":"","vzigzag":"","Wcirc":"","wcirc":"","wedbar":"","wedge":"","Wedge":"","wedgeq":"","weierp":"","Wfr":"","wfr":"","Wopf":"","wopf":"","wp":"","wr":"","wreath":"","Wscr":"","wscr":"","xcap":"","xcirc":"","xcup":"","xdtri":"","Xfr":"","xfr":"","xharr":"","xhArr":"","Xi":"","xi":"","xlarr":"","xlArr":"","xmap":"","xnis":"","xodot":"","Xopf":"","xopf":"","xoplus":"","xotime":"","xrarr":"","xrArr":"","Xscr":"","xscr":"","xsqcup":"","xuplus":"","xutri":"","xvee":"","xwedge":"","Yacute":"","yacute":"","YAcy":"","yacy":"","Ycirc":"","ycirc":"","Ycy":"","ycy":"","yen":"","Yfr":"","yfr":"","YIcy":"","yicy":"","Yopf":"","yopf":"","Yscr":"","yscr":"","YUcy":"","yucy":"","yuml":"","Yuml":"","Zacute":"","zacute":"","Zcaron":"","zcaron":"","Zcy":"","zcy":"","Zdot":"","zdot":"","zeetrf":"","ZeroWidthSpace":"","Zeta":"","zeta":"","zfr":"","Zfr":"","ZHcy":"","zhcy":"","zigrarr":"","zopf":"","Zopf":"","Zscr":"","zscr":"","zwj":"","zwnj":""}')},function(t){t.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},function(t,e,r){(function(t){var r;!function(){var n="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this||{},i=n._,o=Array.prototype,s=Object.prototype,a="undefined"!=typeof Symbol?Symbol.prototype:null,c=o.push,u=o.slice,l=s.toString,h=s.hasOwnProperty,d=Array.isArray,f=Object.keys,p=Object.create,m=function(){},g=function(t){return t instanceof g?t:this instanceof g?void(this._wrapped=t):new g(t)};e.nodeType?n._=g:(!t.nodeType&&t.exports&&(e=t.exports=g),e._=g),g.VERSION="1.9.1";var y,_=function(t,e,r){if(void 0===e)return t;switch(null==r?3:r){case 1:return function(r){return t.call(e,r)};case 3:return function(r,n,i){return t.call(e,r,n,i)};case 4:return function(r,n,i,o){return t.call(e,r,n,i,o)}}return function(){return t.apply(e,arguments)}},v=function(t,e,r){return g.iteratee!==y?g.iteratee(t,e):null==t?g.identity:g.isFunction(t)?_(t,e,r):g.isObject(t)&&!g.isArray(t)?g.matcher(t):g.property(t)};g.iteratee=y=function(t,e){return v(t,e,1/0)};var b=function(t,e){return e=null==e?t.length-1:+e,function(){for(var r=Math.max(arguments.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=arguments[i+e];switch(e){case 0:return t.call(this,n);case 1:return t.call(this,arguments[0],n);case 2:return t.call(this,arguments[0],arguments[1],n)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=n,t.apply(this,o)}},w=function(t){if(!g.isObject(t))return{};if(p)return p(t);m.prototype=t;var e=new m;return m.prototype=null,e},E=function(t){return function(e){return null==e?void 0:e[t]}},S=function(t,e){return null!=t&&h.call(t,e)},T=function(t,e){for(var r=e.length,n=0;n<r;n++){if(null==t)return;t=t[e[n]]}return r?t:void 0},A=Math.pow(2,53)-1,O=E("length"),M=function(t){var e=O(t);return"number"==typeof e&&e>=0&&e<=A};g.each=g.forEach=function(t,e,r){var n,i;if(e=_(e,r),M(t))for(n=0,i=t.length;n<i;n++)e(t[n],n,t);else{var o=g.keys(t);for(n=0,i=o.length;n<i;n++)e(t[o[n]],o[n],t)}return t},g.map=g.collect=function(t,e,r){e=v(e,r);for(var n=!M(t)&&g.keys(t),i=(n||t).length,o=Array(i),s=0;s<i;s++){var a=n?n[s]:s;o[s]=e(t[a],a,t)}return o};var k=function(t){var e=function(e,r,n,i){var o=!M(e)&&g.keys(e),s=(o||e).length,a=t>0?0:s-1;for(i||(n=e[o?o[a]:a],a+=t);a>=0&&a<s;a+=t){var c=o?o[a]:a;n=r(n,e[c],c,e)}return n};return function(t,r,n,i){var o=arguments.length>=3;return e(t,_(r,i,4),n,o)}};g.reduce=g.foldl=g.inject=k(1),g.reduceRight=g.foldr=k(-1),g.find=g.detect=function(t,e,r){var n=(M(t)?g.findIndex:g.findKey)(t,e,r);if(void 0!==n&&-1!==n)return t[n]},g.filter=g.select=function(t,e,r){var n=[];return e=v(e,r),g.each(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n},g.reject=function(t,e,r){return g.filter(t,g.negate(v(e)),r)},g.every=g.all=function(t,e,r){e=v(e,r);for(var n=!M(t)&&g.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(!e(t[s],s,t))return!1}return!0},g.some=g.any=function(t,e,r){e=v(e,r);for(var n=!M(t)&&g.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(e(t[s],s,t))return!0}return!1},g.contains=g.includes=g.include=function(t,e,r,n){return M(t)||(t=g.values(t)),("number"!=typeof r||n)&&(r=0),g.indexOf(t,e,r)>=0},g.invoke=b((function(t,e,r){var n,i;return g.isFunction(e)?i=e:g.isArray(e)&&(n=e.slice(0,-1),e=e[e.length-1]),g.map(t,(function(t){var o=i;if(!o){if(n&&n.length&&(t=T(t,n)),null==t)return;o=t[e]}return null==o?o:o.apply(t,r)}))})),g.pluck=function(t,e){return g.map(t,g.property(e))},g.where=function(t,e){return g.filter(t,g.matcher(e))},g.findWhere=function(t,e){return g.find(t,g.matcher(e))},g.max=function(t,e,r){var n,i,o=-1/0,s=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,c=(t=M(t)?t:g.values(t)).length;a<c;a++)null!=(n=t[a])&&n>o&&(o=n);else e=v(e,r),g.each(t,(function(t,r,n){((i=e(t,r,n))>s||i===-1/0&&o===-1/0)&&(o=t,s=i)}));return o},g.min=function(t,e,r){var n,i,o=1/0,s=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,c=(t=M(t)?t:g.values(t)).length;a<c;a++)null!=(n=t[a])&&n<o&&(o=n);else e=v(e,r),g.each(t,(function(t,r,n){((i=e(t,r,n))<s||i===1/0&&o===1/0)&&(o=t,s=i)}));return o},g.shuffle=function(t){return g.sample(t,1/0)},g.sample=function(t,e,r){if(null==e||r)return M(t)||(t=g.values(t)),t[g.random(t.length-1)];var n=M(t)?g.clone(t):g.values(t),i=O(n);e=Math.max(Math.min(e,i),0);for(var o=i-1,s=0;s<e;s++){var a=g.random(s,o),c=n[s];n[s]=n[a],n[a]=c}return n.slice(0,e)},g.sortBy=function(t,e,r){var n=0;return e=v(e,r),g.pluck(g.map(t,(function(t,r,i){return{value:t,index:n++,criteria:e(t,r,i)}})).sort((function(t,e){var r=t.criteria,n=e.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return t.index-e.index})),"value")};var x=function(t,e){return function(r,n,i){var o=e?[[],[]]:{};return n=v(n,i),g.each(r,(function(e,i){var s=n(e,i,r);t(o,e,s)})),o}};g.groupBy=x((function(t,e,r){S(t,r)?t[r].push(e):t[r]=[e]})),g.indexBy=x((function(t,e,r){t[r]=e})),g.countBy=x((function(t,e,r){S(t,r)?t[r]++:t[r]=1}));var N=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;g.toArray=function(t){return t?g.isArray(t)?u.call(t):g.isString(t)?t.match(N):M(t)?g.map(t,g.identity):g.values(t):[]},g.size=function(t){return null==t?0:M(t)?t.length:g.keys(t).length},g.partition=x((function(t,e,r){t[r?0:1].push(e)}),!0),g.first=g.head=g.take=function(t,e,r){return null==t||t.length<1?null==e?void 0:[]:null==e||r?t[0]:g.initial(t,t.length-e)},g.initial=function(t,e,r){return u.call(t,0,Math.max(0,t.length-(null==e||r?1:e)))},g.last=function(t,e,r){return null==t||t.length<1?null==e?void 0:[]:null==e||r?t[t.length-1]:g.rest(t,Math.max(0,t.length-e))},g.rest=g.tail=g.drop=function(t,e,r){return u.call(t,null==e||r?1:e)},g.compact=function(t){return g.filter(t,Boolean)};var R=function(t,e,r,n){for(var i=(n=n||[]).length,o=0,s=O(t);o<s;o++){var a=t[o];if(M(a)&&(g.isArray(a)||g.isArguments(a)))if(e)for(var c=0,u=a.length;c<u;)n[i++]=a[c++];else R(a,e,r,n),i=n.length;else r||(n[i++]=a)}return n};g.flatten=function(t,e){return R(t,e,!1)},g.without=b((function(t,e){return g.difference(t,e)})),g.uniq=g.unique=function(t,e,r,n){g.isBoolean(e)||(n=r,r=e,e=!1),null!=r&&(r=v(r,n));for(var i=[],o=[],s=0,a=O(t);s<a;s++){var c=t[s],u=r?r(c,s,t):c;e&&!r?(s&&o===u||i.push(c),o=u):r?g.contains(o,u)||(o.push(u),i.push(c)):g.contains(i,c)||i.push(c)}return i},g.union=b((function(t){return g.uniq(R(t,!0,!0))})),g.intersection=function(t){for(var e=[],r=arguments.length,n=0,i=O(t);n<i;n++){var o=t[n];if(!g.contains(e,o)){var s;for(s=1;s<r&&g.contains(arguments[s],o);s++);s===r&&e.push(o)}}return e},g.difference=b((function(t,e){return e=R(e,!0,!0),g.filter(t,(function(t){return!g.contains(e,t)}))})),g.unzip=function(t){for(var e=t&&g.max(t,O).length||0,r=Array(e),n=0;n<e;n++)r[n]=g.pluck(t,n);return r},g.zip=b(g.unzip),g.object=function(t,e){for(var r={},n=0,i=O(t);n<i;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r};var I=function(t){return function(e,r,n){r=v(r,n);for(var i=O(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(r(e[o],o,e))return o;return-1}};g.findIndex=I(1),g.findLastIndex=I(-1),g.sortedIndex=function(t,e,r,n){for(var i=(r=v(r,n,1))(e),o=0,s=O(t);o<s;){var a=Math.floor((o+s)/2);r(t[a])<i?o=a+1:s=a}return o};var C=function(t,e,r){return function(n,i,o){var s=0,a=O(n);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(r&&o&&a)return n[o=r(n,i)]===i?o:-1;if(i!=i)return(o=e(u.call(n,s,a),g.isNaN))>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(n[o]===i)return o;return-1}};g.indexOf=C(1,g.findIndex,g.sortedIndex),g.lastIndexOf=C(-1,g.findLastIndex),g.range=function(t,e,r){null==e&&(e=t||0,t=0),r||(r=e<t?-1:1);for(var n=Math.max(Math.ceil((e-t)/r),0),i=Array(n),o=0;o<n;o++,t+=r)i[o]=t;return i},g.chunk=function(t,e){if(null==e||e<1)return[];for(var r=[],n=0,i=t.length;n<i;)r.push(u.call(t,n,n+=e));return r};var j=function(t,e,r,n,i){if(!(n instanceof e))return t.apply(r,i);var o=w(t.prototype),s=t.apply(o,i);return g.isObject(s)?s:o};g.bind=b((function(t,e,r){if(!g.isFunction(t))throw new TypeError("Bind must be called on a function");var n=b((function(i){return j(t,n,e,this,r.concat(i))}));return n})),g.partial=b((function(t,e){var r=g.partial.placeholder,n=function(){for(var i=0,o=e.length,s=Array(o),a=0;a<o;a++)s[a]=e[a]===r?arguments[i++]:e[a];for(;i<arguments.length;)s.push(arguments[i++]);return j(t,n,this,this,s)};return n})),g.partial.placeholder=g,g.bindAll=b((function(t,e){var r=(e=R(e,!1,!1)).length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=e[r];t[n]=g.bind(t[n],t)}})),g.memoize=function(t,e){var r=function(n){var i=r.cache,o=""+(e?e.apply(this,arguments):n);return S(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return r.cache={},r},g.delay=b((function(t,e,r){return setTimeout((function(){return t.apply(null,r)}),e)})),g.defer=g.partial(g.delay,g,1),g.throttle=function(t,e,r){var n,i,o,s,a=0;r||(r={});var c=function(){a=!1===r.leading?0:g.now(),n=null,s=t.apply(i,o),n||(i=o=null)},u=function(){var u=g.now();a||!1!==r.leading||(a=u);var l=e-(u-a);return i=this,o=arguments,l<=0||l>e?(n&&(clearTimeout(n),n=null),a=u,s=t.apply(i,o),n||(i=o=null)):n||!1===r.trailing||(n=setTimeout(c,l)),s};return u.cancel=function(){clearTimeout(n),a=0,n=i=o=null},u},g.debounce=function(t,e,r){var n,i,o=function(e,r){n=null,r&&(i=t.apply(e,r))},s=b((function(s){if(n&&clearTimeout(n),r){var a=!n;n=setTimeout(o,e),a&&(i=t.apply(this,s))}else n=g.delay(o,e,this,s);return i}));return s.cancel=function(){clearTimeout(n),n=null},s},g.wrap=function(t,e){return g.partial(e,t)},g.negate=function(t){return function(){return!t.apply(this,arguments)}},g.compose=function(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}},g.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},g.before=function(t,e){var r;return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=null),r}},g.once=g.partial(g.before,2),g.restArguments=b;var L=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],D=function(t,e){var r=P.length,n=t.constructor,i=g.isFunction(n)&&n.prototype||s,o="constructor";for(S(t,o)&&!g.contains(e,o)&&e.push(o);r--;)(o=P[r])in t&&t[o]!==i[o]&&!g.contains(e,o)&&e.push(o)};g.keys=function(t){if(!g.isObject(t))return[];if(f)return f(t);var e=[];for(var r in t)S(t,r)&&e.push(r);return L&&D(t,e),e},g.allKeys=function(t){if(!g.isObject(t))return[];var e=[];for(var r in t)e.push(r);return L&&D(t,e),e},g.values=function(t){for(var e=g.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=t[e[i]];return n},g.mapObject=function(t,e,r){e=v(e,r);for(var n=g.keys(t),i=n.length,o={},s=0;s<i;s++){var a=n[s];o[a]=e(t[a],a,t)}return o},g.pairs=function(t){for(var e=g.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=[e[i],t[e[i]]];return n},g.invert=function(t){for(var e={},r=g.keys(t),n=0,i=r.length;n<i;n++)e[t[r[n]]]=r[n];return e},g.functions=g.methods=function(t){var e=[];for(var r in t)g.isFunction(t[r])&&e.push(r);return e.sort()};var F=function(t,e){return function(r){var n=arguments.length;if(e&&(r=Object(r)),n<2||null==r)return r;for(var i=1;i<n;i++)for(var o=arguments[i],s=t(o),a=s.length,c=0;c<a;c++){var u=s[c];e&&void 0!==r[u]||(r[u]=o[u])}return r}};g.extend=F(g.allKeys),g.extendOwn=g.assign=F(g.keys),g.findKey=function(t,e,r){e=v(e,r);for(var n,i=g.keys(t),o=0,s=i.length;o<s;o++)if(e(t[n=i[o]],n,t))return n};var B,U,q=function(t,e,r){return e in r};g.pick=b((function(t,e){var r={},n=e[0];if(null==t)return r;g.isFunction(n)?(e.length>1&&(n=_(n,e[1])),e=g.allKeys(t)):(n=q,e=R(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var s=e[i],a=t[s];n(a,s,t)&&(r[s]=a)}return r})),g.omit=b((function(t,e){var r,n=e[0];return g.isFunction(n)?(n=g.negate(n),e.length>1&&(r=e[1])):(e=g.map(R(e,!1,!1),String),n=function(t,r){return!g.contains(e,r)}),g.pick(t,n,r)})),g.defaults=F(g.allKeys,!0),g.create=function(t,e){var r=w(t);return e&&g.extendOwn(r,e),r},g.clone=function(t){return g.isObject(t)?g.isArray(t)?t.slice():g.extend({},t):t},g.tap=function(t,e){return e(t),t},g.isMatch=function(t,e){var r=g.keys(e),n=r.length;if(null==t)return!n;for(var i=Object(t),o=0;o<n;o++){var s=r[o];if(e[s]!==i[s]||!(s in i))return!1}return!0},B=function(t,e,r,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&U(t,e,r,n)},U=function(t,e,r,n){t instanceof g&&(t=t._wrapped),e instanceof g&&(e=e._wrapped);var i=l.call(t);if(i!==l.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return a.valueOf.call(t)===a.valueOf.call(e)}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,c=e.constructor;if(s!==c&&!(g.isFunction(s)&&s instanceof s&&g.isFunction(c)&&c instanceof c)&&"constructor"in t&&"constructor"in e)return!1}n=n||[];for(var u=(r=r||[]).length;u--;)if(r[u]===t)return n[u]===e;if(r.push(t),n.push(e),o){if((u=t.length)!==e.length)return!1;for(;u--;)if(!B(t[u],e[u],r,n))return!1}else{var h,d=g.keys(t);if(u=d.length,g.keys(e).length!==u)return!1;for(;u--;)if(h=d[u],!S(e,h)||!B(t[h],e[h],r,n))return!1}return r.pop(),n.pop(),!0},g.isEqual=function(t,e){return B(t,e)},g.isEmpty=function(t){return null==t||(M(t)&&(g.isArray(t)||g.isString(t)||g.isArguments(t))?0===t.length:0===g.keys(t).length)},g.isElement=function(t){return!(!t||1!==t.nodeType)},g.isArray=d||function(t){return"[object Array]"===l.call(t)},g.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},g.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],(function(t){g["is"+t]=function(e){return l.call(e)==="[object "+t+"]"}})),g.isArguments(arguments)||(g.isArguments=function(t){return S(t,"callee")});var H=n.document&&n.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof H&&(g.isFunction=function(t){return"function"==typeof t||!1}),g.isFinite=function(t){return!g.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},g.isNaN=function(t){return g.isNumber(t)&&isNaN(t)},g.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===l.call(t)},g.isNull=function(t){return null===t},g.isUndefined=function(t){return void 0===t},g.has=function(t,e){if(!g.isArray(e))return S(t,e);for(var r=e.length,n=0;n<r;n++){var i=e[n];if(null==t||!h.call(t,i))return!1;t=t[i]}return!!r},g.noConflict=function(){return n._=i,this},g.identity=function(t){return t},g.constant=function(t){return function(){return t}},g.noop=function(){},g.property=function(t){return g.isArray(t)?function(e){return T(e,t)}:E(t)},g.propertyOf=function(t){return null==t?function(){}:function(e){return g.isArray(e)?T(t,e):t[e]}},g.matcher=g.matches=function(t){return t=g.extendOwn({},t),function(e){return g.isMatch(e,t)}},g.times=function(t,e,r){var n=Array(Math.max(0,t));e=_(e,r,1);for(var i=0;i<t;i++)n[i]=e(i);return n},g.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},g.now=Date.now||function(){return(new Date).getTime()};var G={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},z=g.invert(G),W=function(t){var e=function(e){return t[e]},r="(?:"+g.keys(t).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(i,e):t}};g.escape=W(G),g.unescape=W(z),g.result=function(t,e,r){g.isArray(e)||(e=[e]);var n=e.length;if(!n)return g.isFunction(r)?r.call(t):r;for(var i=0;i<n;i++){var o=null==t?void 0:t[e[i]];void 0===o&&(o=r,i=n),t=g.isFunction(o)?o.call(t):o}return t};var $=0;g.uniqueId=function(t){var e=++$+"";return t?t+e:e},g.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var V=/(.)^/,Y={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\u2028|\u2029/g,J=function(t){return"\\"+Y[t]};g.template=function(t,e,r){!e&&r&&(e=r),e=g.defaults({},e,g.templateSettings);var n,i=RegExp([(e.escape||V).source,(e.interpolate||V).source,(e.evaluate||V).source].join("|")+"|$","g"),o=0,s="__p+='";t.replace(i,(function(e,r,n,i,a){return s+=t.slice(o,a).replace(K,J),o=a+e.length,r?s+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?s+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(s+="';\n"+i+"\n__p+='"),e})),s+="';\n",e.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{n=new Function(e.variable||"obj","_",s)}catch(t){throw t.source=s,t}var a=function(t){return n.call(this,t,g)},c=e.variable||"obj";return a.source="function("+c+"){\n"+s+"}",a},g.chain=function(t){var e=g(t);return e._chain=!0,e};var Z=function(t,e){return t._chain?g(e).chain():e};g.mixin=function(t){return g.each(g.functions(t),(function(e){var r=g[e]=t[e];g.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),Z(this,r.apply(g,t))}})),g},g.mixin(g),g.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=o[t];g.prototype[t]=function(){var r=this._wrapped;return e.apply(r,arguments),"shift"!==t&&"splice"!==t||0!==r.length||delete r[0],Z(this,r)}})),g.each(["concat","join","slice"],(function(t){var e=o[t];g.prototype[t]=function(){return Z(this,e.apply(this._wrapped,arguments))}})),g.prototype.value=function(){return this._wrapped},g.prototype.valueOf=g.prototype.toJSON=g.prototype.value,g.prototype.toString=function(){return String(this._wrapped)},void 0===(r=function(){return g}.apply(e,[]))||(t.exports=r)}()}).call(this,r(8)(t))},function(t,e){t.exports=require("buffer")},function(t,e,r){(function(t){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(41).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function c(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function u(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=c(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=c(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,l=r;l<a;l+=n)c=u(t,l,l+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var h=1;for(c=u(t,l,t.length,e),l=0;l<s;l++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,c=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var l=c>>>26,h=67108863&c,d=Math.min(u,e.length-1),f=Math.max(0,u-t.length+1);f<=d;f++){var p=u-f|0;l+=(s=(i=0|t.words[p])*(o=0|e.words[f])+h)/67108864|0,h=67108863&s}r.words[u]=0|h,c=0|l}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?l[6-c.length]+c+r:c+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var u=h[t],f=d[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(t);r=(p=p.idivn(f)).isZero()?m+r:l[u-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,c="le"===e,u=new t(o),l=this.clone();if(c){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-i;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s}return u},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,o,s=t.words,a=e.words,c=r.words,u=0,l=0|s[0],h=8191&l,d=l>>>13,f=0|s[1],p=8191&f,m=f>>>13,g=0|s[2],y=8191&g,_=g>>>13,v=0|s[3],b=8191&v,w=v>>>13,E=0|s[4],S=8191&E,T=E>>>13,A=0|s[5],O=8191&A,M=A>>>13,k=0|s[6],x=8191&k,N=k>>>13,R=0|s[7],I=8191&R,C=R>>>13,j=0|s[8],L=8191&j,P=j>>>13,D=0|s[9],F=8191&D,B=D>>>13,U=0|a[0],q=8191&U,H=U>>>13,G=0|a[1],z=8191&G,W=G>>>13,$=0|a[2],V=8191&$,Y=$>>>13,K=0|a[3],J=8191&K,Z=K>>>13,X=0|a[4],Q=8191&X,tt=X>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ct=8191&at,ut=at>>>13,lt=0|a[8],ht=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(u+(n=Math.imul(h,q))|0)+((8191&(i=(i=Math.imul(h,H))+Math.imul(d,q)|0))<<13)|0;u=((o=Math.imul(d,H))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,q),i=(i=Math.imul(p,H))+Math.imul(m,q)|0,o=Math.imul(m,H);var yt=(u+(n=n+Math.imul(h,z)|0)|0)+((8191&(i=(i=i+Math.imul(h,W)|0)+Math.imul(d,z)|0))<<13)|0;u=((o=o+Math.imul(d,W)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,q),i=(i=Math.imul(y,H))+Math.imul(_,q)|0,o=Math.imul(_,H),n=n+Math.imul(p,z)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,z)|0,o=o+Math.imul(m,W)|0;var _t=(u+(n=n+Math.imul(h,V)|0)|0)+((8191&(i=(i=i+Math.imul(h,Y)|0)+Math.imul(d,V)|0))<<13)|0;u=((o=o+Math.imul(d,Y)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(b,q),i=(i=Math.imul(b,H))+Math.imul(w,q)|0,o=Math.imul(w,H),n=n+Math.imul(y,z)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(_,z)|0,o=o+Math.imul(_,W)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,Y)|0;var vt=(u+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(d,J)|0))<<13)|0;u=((o=o+Math.imul(d,Z)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(S,q),i=(i=Math.imul(S,H))+Math.imul(T,q)|0,o=Math.imul(T,H),n=n+Math.imul(b,z)|0,i=(i=i+Math.imul(b,W)|0)+Math.imul(w,z)|0,o=o+Math.imul(w,W)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,Y)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,Z)|0;var bt=(u+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(d,Q)|0))<<13)|0;u=((o=o+Math.imul(d,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(O,q),i=(i=Math.imul(O,H))+Math.imul(M,q)|0,o=Math.imul(M,H),n=n+Math.imul(S,z)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(T,z)|0,o=o+Math.imul(T,W)|0,n=n+Math.imul(b,V)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,Y)|0,n=n+Math.imul(y,J)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var wt=(u+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(d,rt)|0))<<13)|0;u=((o=o+Math.imul(d,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(x,q),i=(i=Math.imul(x,H))+Math.imul(N,q)|0,o=Math.imul(N,H),n=n+Math.imul(O,z)|0,i=(i=i+Math.imul(O,W)|0)+Math.imul(M,z)|0,o=o+Math.imul(M,W)|0,n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,Y)|0)+Math.imul(T,V)|0,o=o+Math.imul(T,Y)|0,n=n+Math.imul(b,J)|0,i=(i=i+Math.imul(b,Z)|0)+Math.imul(w,J)|0,o=o+Math.imul(w,Z)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var Et=(u+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,st)|0)+Math.imul(d,ot)|0))<<13)|0;u=((o=o+Math.imul(d,st)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(I,q),i=(i=Math.imul(I,H))+Math.imul(C,q)|0,o=Math.imul(C,H),n=n+Math.imul(x,z)|0,i=(i=i+Math.imul(x,W)|0)+Math.imul(N,z)|0,o=o+Math.imul(N,W)|0,n=n+Math.imul(O,V)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,Y)|0,n=n+Math.imul(S,J)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(T,J)|0,o=o+Math.imul(T,Z)|0,n=n+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var St=(u+(n=n+Math.imul(h,ct)|0)|0)+((8191&(i=(i=i+Math.imul(h,ut)|0)+Math.imul(d,ct)|0))<<13)|0;u=((o=o+Math.imul(d,ut)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(L,q),i=(i=Math.imul(L,H))+Math.imul(P,q)|0,o=Math.imul(P,H),n=n+Math.imul(I,z)|0,i=(i=i+Math.imul(I,W)|0)+Math.imul(C,z)|0,o=o+Math.imul(C,W)|0,n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(N,V)|0,o=o+Math.imul(N,Y)|0,n=n+Math.imul(O,J)|0,i=(i=i+Math.imul(O,Z)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(y,ot)|0,i=(i=i+Math.imul(y,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ut)|0;var Tt=(u+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,dt)|0)+Math.imul(d,ht)|0))<<13)|0;u=((o=o+Math.imul(d,dt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(F,q),i=(i=Math.imul(F,H))+Math.imul(B,q)|0,o=Math.imul(B,H),n=n+Math.imul(L,z)|0,i=(i=i+Math.imul(L,W)|0)+Math.imul(P,z)|0,o=o+Math.imul(P,W)|0,n=n+Math.imul(I,V)|0,i=(i=i+Math.imul(I,Y)|0)+Math.imul(C,V)|0,o=o+Math.imul(C,Y)|0,n=n+Math.imul(x,J)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,Z)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(T,rt)|0,o=o+Math.imul(T,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,n=n+Math.imul(y,ct)|0,i=(i=i+Math.imul(y,ut)|0)+Math.imul(_,ct)|0,o=o+Math.imul(_,ut)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,dt)|0;var At=(u+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(d,pt)|0))<<13)|0;u=((o=o+Math.imul(d,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(F,z),i=(i=Math.imul(F,W))+Math.imul(B,z)|0,o=Math.imul(B,W),n=n+Math.imul(L,V)|0,i=(i=i+Math.imul(L,Y)|0)+Math.imul(P,V)|0,o=o+Math.imul(P,Y)|0,n=n+Math.imul(I,J)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,Z)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(O,rt)|0,i=(i=i+Math.imul(O,nt)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,st)|0,n=n+Math.imul(b,ct)|0,i=(i=i+Math.imul(b,ut)|0)+Math.imul(w,ct)|0,o=o+Math.imul(w,ut)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,dt)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,dt)|0;var Ot=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(F,V),i=(i=Math.imul(F,Y))+Math.imul(B,V)|0,o=Math.imul(B,Y),n=n+Math.imul(L,J)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(P,J)|0,o=o+Math.imul(P,Z)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(x,rt)|0,i=(i=i+Math.imul(x,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(O,ot)|0,i=(i=i+Math.imul(O,st)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,st)|0,n=n+Math.imul(S,ct)|0,i=(i=i+Math.imul(S,ut)|0)+Math.imul(T,ct)|0,o=o+Math.imul(T,ut)|0,n=n+Math.imul(b,ht)|0,i=(i=i+Math.imul(b,dt)|0)+Math.imul(w,ht)|0,o=o+Math.imul(w,dt)|0;var Mt=(u+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(F,J),i=(i=Math.imul(F,Z))+Math.imul(B,J)|0,o=Math.imul(B,Z),n=n+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(x,ot)|0,i=(i=i+Math.imul(x,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,n=n+Math.imul(O,ct)|0,i=(i=i+Math.imul(O,ut)|0)+Math.imul(M,ct)|0,o=o+Math.imul(M,ut)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,dt)|0)+Math.imul(T,ht)|0,o=o+Math.imul(T,dt)|0;var kt=(u+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(w,pt)|0))<<13)|0;u=((o=o+Math.imul(w,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(F,Q),i=(i=Math.imul(F,tt))+Math.imul(B,Q)|0,o=Math.imul(B,tt),n=n+Math.imul(L,rt)|0,i=(i=i+Math.imul(L,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(I,ot)|0,i=(i=i+Math.imul(I,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,n=n+Math.imul(x,ct)|0,i=(i=i+Math.imul(x,ut)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,ut)|0,n=n+Math.imul(O,ht)|0,i=(i=i+Math.imul(O,dt)|0)+Math.imul(M,ht)|0,o=o+Math.imul(M,dt)|0;var xt=(u+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(T,pt)|0))<<13)|0;u=((o=o+Math.imul(T,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(F,rt),i=(i=Math.imul(F,nt))+Math.imul(B,rt)|0,o=Math.imul(B,nt),n=n+Math.imul(L,ot)|0,i=(i=i+Math.imul(L,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,n=n+Math.imul(I,ct)|0,i=(i=i+Math.imul(I,ut)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,ut)|0,n=n+Math.imul(x,ht)|0,i=(i=i+Math.imul(x,dt)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,dt)|0;var Nt=(u+(n=n+Math.imul(O,pt)|0)|0)+((8191&(i=(i=i+Math.imul(O,mt)|0)+Math.imul(M,pt)|0))<<13)|0;u=((o=o+Math.imul(M,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(F,ot),i=(i=Math.imul(F,st))+Math.imul(B,ot)|0,o=Math.imul(B,st),n=n+Math.imul(L,ct)|0,i=(i=i+Math.imul(L,ut)|0)+Math.imul(P,ct)|0,o=o+Math.imul(P,ut)|0,n=n+Math.imul(I,ht)|0,i=(i=i+Math.imul(I,dt)|0)+Math.imul(C,ht)|0,o=o+Math.imul(C,dt)|0;var Rt=(u+(n=n+Math.imul(x,pt)|0)|0)+((8191&(i=(i=i+Math.imul(x,mt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(F,ct),i=(i=Math.imul(F,ut))+Math.imul(B,ct)|0,o=Math.imul(B,ut),n=n+Math.imul(L,ht)|0,i=(i=i+Math.imul(L,dt)|0)+Math.imul(P,ht)|0,o=o+Math.imul(P,dt)|0;var It=(u+(n=n+Math.imul(I,pt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(C,pt)|0))<<13)|0;u=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(F,ht),i=(i=Math.imul(F,dt))+Math.imul(B,ht)|0,o=Math.imul(B,dt);var Ct=(u+(n=n+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,mt)|0)+Math.imul(P,pt)|0))<<13)|0;u=((o=o+Math.imul(P,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863;var jt=(u+(n=Math.imul(F,pt))|0)+((8191&(i=(i=Math.imul(F,mt))+Math.imul(B,pt)|0))<<13)|0;return u=((o=Math.imul(B,mt))+(i>>>13)|0)+(jt>>>26)|0,jt&=67108863,c[0]=gt,c[1]=yt,c[2]=_t,c[3]=vt,c[4]=bt,c[5]=wt,c[6]=Et,c[7]=St,c[8]=Tt,c[9]=At,c[10]=Ot,c[11]=Mt,c[12]=kt,c[13]=xt,c[14]=Nt,c[15]=Rt,c[16]=It,c[17]=Ct,c[18]=jt,0!==u&&(c[19]=u,r.length++),r};function m(t,e,r){return(new g).mulp(t,e,r)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=f),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):r<63?f(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,c=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=c;u++){var l=o-u,h=(0|t.words[l])*(0|e.words[u]),d=67108863&h;a=67108863&(d=d+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):m(this,t,e)},g.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},g.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},g.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},g.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=c,d=u,f=0;f<s;f++){var p=r[l+f],m=n[l+f],g=r[l+f+s],y=n[l+f+s],_=h*g-d*y;y=h*y+d*g,g=_,r[l+f]=p+g,n[l+f]=m+y,r[l+f+s]=p-g,n[l+f+s]=m-y,f!==a&&(_=c*h-u*d,d=c*d+u*h,h=_)}},g.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},g.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},g.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},g.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},g.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),c=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),d=r.words;d.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,u,n),this.transform(s,o,a,c,n,i),this.transform(u,o,l,h,n,i);for(var f=0;f<n;f++){var p=a[f]*l[f]-c[f]*h[f];c[f]=a[f]*h[f]+c[f]*l[f],a[f]=p}return this.conjugate(a,c,n),this.transform(a,c,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),m(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,c=(0|this.words[e])-a<<r;this.words[e]=c|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,c=r;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var h=0|this.words[u];this.words[u]=l<<26-o|h>>>o,l=h&a}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var c=(0|t.words[i])*e;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,c=n.length-i.length;if("mod"!==e){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=n.clone()._ishlnsubmul(i,1,c);0===l.negative&&(n=l,a&&(a.words[c]=1));for(var h=c-1;h>=0;h--){var d=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(d=Math.min(d/s|0,67108863),n._ishlnsubmul(i,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=d)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++u;for(var l=r.clone(),h=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(h)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(h)),a.iushrn(1),c.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(c)):(r.isub(e),a.isub(i),c.isub(s))}return{a:a,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),c=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var h=0,d=1;0==(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function T(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(v,_),v.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(b,_),i(w,_),i(E,_),E.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new b;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return y[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var h=this.pow(l,i),d=this.pow(t,i.addn(1).iushrn(1)),f=this.pow(t,i),p=s;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(h,new o(1).iushln(p-g-1));d=d.redMul(y),h=y.redSqr(),f=f.redMul(h),p=g}return d},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,c=e.bitLength()%26;for(0===c&&(c=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],l=c-1;l>=0;l--){var h=u>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}c=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new T(t)},i(T,S),T.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},T.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},T.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},T.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},T.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,r(8)(t))},function(t,e){t.exports={stringify:function(t,{EOL:e="\n",finalEOL:r=!0,replacer:n=null,spaces:i}={}){const o=r?e:"";return JSON.stringify(t,n,i).replace(/\n/g,e)+o},stripBom:function(t){return Buffer.isBuffer(t)&&(t=t.toString("utf8")),t.replace(/^\uFEFF/,"")}}},function(t,e,r){"use strict";const n=r(6).fromCallback,i=r(5),o=r(1),s=r(9),a=r(20).pathExists;t.exports={outputFile:n((function(t,e,r,n){"function"==typeof r&&(n=r,r="utf8");const c=o.dirname(t);a(c,(o,a)=>o?n(o):a?i.writeFile(t,e,r,n):void s.mkdirs(c,o=>{if(o)return n(o);i.writeFile(t,e,r,n)}))})),outputFileSync:function(t,...e){const r=o.dirname(t);if(i.existsSync(r))return i.writeFileSync(t,...e);s.mkdirsSync(r),i.writeFileSync(t,...e)}}},function(t,e,r){"use strict";function n(t){switch(t._type){case"document":case"block_quote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"link":case"image":case"custom_inline":case"custom_block":return!0;default:return!1}}var i=function(t,e){this.current=t,this.entering=!0===e},o=function(){var t=this.current,e=this.entering;if(null===t)return null;var r=n(t);return e&&r?t._firstChild?(this.current=t._firstChild,this.entering=!0):this.entering=!1:t===this.root?this.current=null:null===t._next?(this.current=t._parent,this.entering=!1):(this.current=t._next,this.entering=!0),{entering:e,node:t}},s=function(t){return{current:t,root:t,entering:!0,next:o,resumeAt:i}},a=function(t,e){this._type=t,this._parent=null,this._firstChild=null,this._lastChild=null,this._prev=null,this._next=null,this._sourcepos=e,this._lastLineBlank=!1,this._lastLineChecked=!1,this._open=!0,this._string_content=null,this._literal=null,this._listData={},this._info=null,this._destination=null,this._title=null,this._isFenced=!1,this._fenceChar=null,this._fenceLength=0,this._fenceOffset=null,this._level=null,this._onEnter=null,this._onExit=null},c=a.prototype;Object.defineProperty(c,"isContainer",{get:function(){return n(this)}}),Object.defineProperty(c,"type",{get:function(){return this._type}}),Object.defineProperty(c,"firstChild",{get:function(){return this._firstChild}}),Object.defineProperty(c,"lastChild",{get:function(){return this._lastChild}}),Object.defineProperty(c,"next",{get:function(){return this._next}}),Object.defineProperty(c,"prev",{get:function(){return this._prev}}),Object.defineProperty(c,"parent",{get:function(){return this._parent}}),Object.defineProperty(c,"sourcepos",{get:function(){return this._sourcepos}}),Object.defineProperty(c,"literal",{get:function(){return this._literal},set:function(t){this._literal=t}}),Object.defineProperty(c,"destination",{get:function(){return this._destination},set:function(t){this._destination=t}}),Object.defineProperty(c,"title",{get:function(){return this._title},set:function(t){this._title=t}}),Object.defineProperty(c,"info",{get:function(){return this._info},set:function(t){this._info=t}}),Object.defineProperty(c,"level",{get:function(){return this._level},set:function(t){this._level=t}}),Object.defineProperty(c,"listType",{get:function(){return this._listData.type},set:function(t){this._listData.type=t}}),Object.defineProperty(c,"listTight",{get:function(){return this._listData.tight},set:function(t){this._listData.tight=t}}),Object.defineProperty(c,"listStart",{get:function(){return this._listData.start},set:function(t){this._listData.start=t}}),Object.defineProperty(c,"listDelimiter",{get:function(){return this._listData.delimiter},set:function(t){this._listData.delimiter=t}}),Object.defineProperty(c,"onEnter",{get:function(){return this._onEnter},set:function(t){this._onEnter=t}}),Object.defineProperty(c,"onExit",{get:function(){return this._onExit},set:function(t){this._onExit=t}}),a.prototype.appendChild=function(t){t.unlink(),t._parent=this,this._lastChild?(this._lastChild._next=t,t._prev=this._lastChild,this._lastChild=t):(this._firstChild=t,this._lastChild=t)},a.prototype.prependChild=function(t){t.unlink(),t._parent=this,this._firstChild?(this._firstChild._prev=t,t._next=this._firstChild,this._firstChild=t):(this._firstChild=t,this._lastChild=t)},a.prototype.unlink=function(){this._prev?this._prev._next=this._next:this._parent&&(this._parent._firstChild=this._next),this._next?this._next._prev=this._prev:this._parent&&(this._parent._lastChild=this._prev),this._parent=null,this._next=null,this._prev=null},a.prototype.insertAfter=function(t){t.unlink(),t._next=this._next,t._next&&(t._next._prev=t),t._prev=this,this._next=t,t._parent=this._parent,t._next||(t._parent._lastChild=t)},a.prototype.insertBefore=function(t){t.unlink(),t._prev=this._prev,t._prev&&(t._prev._next=t),t._next=this,this._prev=t,t._parent=this._parent,t._prev||(t._parent._firstChild=t)},a.prototype.walker=function(){return new s(this)},t.exports=a},function(t,e,r){"use strict";function n(){}n.prototype.render=function(t){var e,r,n=t.walker();for(this.buffer="",this.lastOut="\n";e=n.next();)this[r=e.node.type]&&this[r](e.node,e.entering);return this.buffer},n.prototype.out=function(t){this.lit(t)},n.prototype.lit=function(t){this.buffer+=t,this.lastOut=t},n.prototype.cr=function(){"\n"!==this.lastOut&&this.lit("\n")},n.prototype.esc=function(t){return t},t.exports=n},function(module,exports,__webpack_require__){"use strict";function asyncGeneratorStep(t,e,r,n,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,i)}function _asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function s(t){asyncGeneratorStep(o,n,i,s,a,"next",t)}function a(t){asyncGeneratorStep(o,n,i,s,a,"throw",t)}s(void 0)}))}}var Events,RedisConnection,Scripts,parser;parser=__webpack_require__(17),Events=__webpack_require__(24),Scripts=__webpack_require__(48),RedisConnection=function(){class RedisConnection{constructor(options={}){parser.load(options,this.defaults,this),null==this.Redis&&(this.Redis=eval("require")("redis")),null==this.Events&&(this.Events=new Events(this)),this.terminated=!1,null==this.client&&(this.client=this.Redis.createClient(this.clientOptions)),this.subscriber=this.client.duplicate(),this.limiters={},this.shas={},this.ready=this.Promise.all([this._setup(this.client,!1),this._setup(this.subscriber,!0)]).then(()=>this._loadScripts()).then(()=>({client:this.client,subscriber:this.subscriber}))}_setup(t,e){return t.setMaxListeners(0),new this.Promise((r,n)=>(t.on("error",t=>this.Events.trigger("error",t)),e&&t.on("message",(t,e)=>{var r;return null!=(r=this.limiters[t])?r._store.onMessage(t,e):void 0}),t.ready?r():t.once("ready",r)))}_loadScript(t){return new this.Promise((e,r)=>{var n;return n=Scripts.payload(t),this.client.multi([["script","load",n]]).exec((n,i)=>null!=n?r(n):(this.shas[t]=i[0],e(i[0])))})}_loadScripts(){return this.Promise.all(Scripts.names.map(t=>this._loadScript(t)))}__runCommand__(t){var e=this;return _asyncToGenerator((function*(){return yield e.ready,new e.Promise((r,n)=>e.client.multi([t]).exec_atomic((function(t,e){return null!=t?n(t):r(e[0])})))}))()}__addLimiter__(t){return this.Promise.all([t.channel(),t.channel_client()].map(e=>new this.Promise((r,n)=>{var i;return i=n=>{if(n===e)return this.subscriber.removeListener("subscribe",i),this.limiters[e]=t,r()},this.subscriber.on("subscribe",i),this.subscriber.subscribe(e)})))}__removeLimiter__(t){var e=this;return this.Promise.all([t.channel(),t.channel_client()].map(function(){var t=_asyncToGenerator((function*(t){return e.terminated||(yield new e.Promise((r,n)=>e.subscriber.unsubscribe(t,(function(e,i){return null!=e?n(e):i===t?r():void 0})))),delete e.limiters[t]}));return function(e){return t.apply(this,arguments)}}()))}__scriptArgs__(t,e,r,n){var i;return i=Scripts.keys(t,e),[this.shas[t],i.length].concat(i,r,n)}__scriptFn__(t){return this.client.evalsha.bind(this.client)}disconnect(t=!0){var e,r,n,i;for(e=0,n=(i=Object.keys(this.limiters)).length;e<n;e++)r=i[e],clearInterval(this.limiters[r]._store.heartbeat);return this.limiters={},this.terminated=!0,this.client.end(t),this.subscriber.end(t),this.Promise.resolve()}}return RedisConnection.prototype.datastore="redis",RedisConnection.prototype.defaults={Redis:null,clientOptions:{},client:null,Promise:Promise,Events:null},RedisConnection}.call(void 0),module.exports=RedisConnection},function(t,e,r){"use strict";var n,i,o;i=r(182),n={refs:i["refs.lua"],validate_keys:i["validate_keys.lua"],validate_client:i["validate_client.lua"],refresh_expiration:i["refresh_expiration.lua"],process_tick:i["process_tick.lua"],conditions_check:i["conditions_check.lua"],get_time:i["get_time.lua"]},e.allKeys=function(t){return[`b_${t}_settings`,`b_${t}_job_weights`,`b_${t}_job_expirations`,`b_${t}_job_clients`,`b_${t}_client_running`,`b_${t}_client_num_queued`,`b_${t}_client_last_registered`,`b_${t}_client_last_seen`]},o={init:{keys:e.allKeys,headers:["process_tick"],refresh_expiration:!0,code:i["init.lua"]},group_check:{keys:e.allKeys,headers:[],refresh_expiration:!1,code:i["group_check.lua"]},register_client:{keys:e.allKeys,headers:["validate_keys"],refresh_expiration:!1,code:i["register_client.lua"]},blacklist_client:{keys:e.allKeys,headers:["validate_keys","validate_client"],refresh_expiration:!1,code:i["blacklist_client.lua"]},heartbeat:{keys:e.allKeys,headers:["validate_keys","validate_client","process_tick"],refresh_expiration:!1,code:i["heartbeat.lua"]},update_settings:{keys:e.allKeys,headers:["validate_keys","validate_client","process_tick"],refresh_expiration:!0,code:i["update_settings.lua"]},running:{keys:e.allKeys,headers:["validate_keys","validate_client","process_tick"],refresh_expiration:!1,code:i["running.lua"]},queued:{keys:e.allKeys,headers:["validate_keys","validate_client"],refresh_expiration:!1,code:i["queued.lua"]},done:{keys:e.allKeys,headers:["validate_keys","validate_client","process_tick"],refresh_expiration:!1,code:i["done.lua"]},check:{keys:e.allKeys,headers:["validate_keys","validate_client","process_tick","conditions_check"],refresh_expiration:!1,code:i["check.lua"]},submit:{keys:e.allKeys,headers:["validate_keys","validate_client","process_tick","conditions_check"],refresh_expiration:!0,code:i["submit.lua"]},register:{keys:e.allKeys,headers:["validate_keys","validate_client","process_tick","conditions_check"],refresh_expiration:!0,code:i["register.lua"]},free:{keys:e.allKeys,headers:["validate_keys","validate_client","process_tick"],refresh_expiration:!0,code:i["free.lua"]},current_reservoir:{keys:e.allKeys,headers:["validate_keys","validate_client","process_tick"],refresh_expiration:!1,code:i["current_reservoir.lua"]},increment_reservoir:{keys:e.allKeys,headers:["validate_keys","validate_client","process_tick"],refresh_expiration:!0,code:i["increment_reservoir.lua"]}},e.names=Object.keys(o),e.keys=function(t,e){return o[t].keys(e)},e.payload=function(t){var e;return e=o[t],Array.prototype.concat(n.refs,e.headers.map((function(t){return n[t]})),e.refresh_expiration?n.refresh_expiration:"",e.code).join("\n")}},function(module,exports,__webpack_require__){"use strict";function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}function _arrayWithHoles(t){if(Array.isArray(t))return t}function asyncGeneratorStep(t,e,r,n,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,i)}function _asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function s(t){asyncGeneratorStep(o,n,i,s,a,"next",t)}function a(t){asyncGeneratorStep(o,n,i,s,a,"throw",t)}s(void 0)}))}}var Events,IORedisConnection,Scripts,parser;parser=__webpack_require__(17),Events=__webpack_require__(24),Scripts=__webpack_require__(48),IORedisConnection=function(){class IORedisConnection{constructor(options={}){parser.load(options,this.defaults,this),null==this.Redis&&(this.Redis=eval("require")("ioredis")),null==this.Events&&(this.Events=new Events(this)),this.terminated=!1,null!=this.clusterNodes?(this.client=new this.Redis.Cluster(this.clusterNodes,this.clientOptions),this.subscriber=new this.Redis.Cluster(this.clusterNodes,this.clientOptions)):null!=this.client&&null==this.client.duplicate?this.subscriber=new this.Redis.Cluster(this.client.startupNodes,this.client.options):(null==this.client&&(this.client=new this.Redis(this.clientOptions)),this.subscriber=this.client.duplicate()),this.limiters={},this.ready=this.Promise.all([this._setup(this.client,!1),this._setup(this.subscriber,!0)]).then(()=>(this._loadScripts(),{client:this.client,subscriber:this.subscriber}))}_setup(t,e){return t.setMaxListeners(0),new this.Promise((r,n)=>(t.on("error",t=>this.Events.trigger("error",t)),e&&t.on("message",(t,e)=>{var r;return null!=(r=this.limiters[t])?r._store.onMessage(t,e):void 0}),"ready"===t.status?r():t.once("ready",r)))}_loadScripts(){return Scripts.names.forEach(t=>this.client.defineCommand(t,{lua:Scripts.payload(t)}))}__runCommand__(t){var e=this;return _asyncToGenerator((function*(){yield e.ready;var r=_slicedToArray(yield e.client.pipeline([t]).exec(),1),n=_slicedToArray(r[0],2);return n[0],n[1]}))()}__addLimiter__(t){return this.Promise.all([t.channel(),t.channel_client()].map(e=>new this.Promise((r,n)=>this.subscriber.subscribe(e,()=>(this.limiters[e]=t,r())))))}__removeLimiter__(t){var e=this;return[t.channel(),t.channel_client()].forEach(function(){var t=_asyncToGenerator((function*(t){return e.terminated||(yield e.subscriber.unsubscribe(t)),delete e.limiters[t]}));return function(e){return t.apply(this,arguments)}}())}__scriptArgs__(t,e,r,n){var i;return[(i=Scripts.keys(t,e)).length].concat(i,r,n)}__scriptFn__(t){return this.client[t].bind(this.client)}disconnect(t=!0){var e,r,n,i;for(e=0,n=(i=Object.keys(this.limiters)).length;e<n;e++)r=i[e],clearInterval(this.limiters[r]._store.heartbeat);return this.limiters={},this.terminated=!0,t?this.Promise.all([this.client.quit(),this.subscriber.quit()]):(this.client.disconnect(),this.subscriber.disconnect(),this.Promise.resolve())}}return IORedisConnection.prototype.datastore="ioredis",IORedisConnection.prototype.defaults={Redis:null,clientOptions:{},clusterNodes:null,client:null,Promise:Promise,Events:null},IORedisConnection}.call(void 0),module.exports=IORedisConnection},function(t,e,r){"use strict";const n=r(51);t.exports=(t,e={})=>{let r=(t,i={})=>{let o=e.escapeInvalid&&n.isInvalidBrace(i),s=!0===t.invalid&&!0===e.escapeInvalid,a="";if(t.value)return(o||s)&&n.isOpenOrClose(t)?"\\"+t.value:t.value;if(t.value)return t.value;if(t.nodes)for(let e of t.nodes)a+=r(e);return a};return r(t)}},function(t,e,r){"use strict";e.isInteger=t=>"number"==typeof t?Number.isInteger(t):"string"==typeof t&&""!==t.trim()&&Number.isInteger(Number(t)),e.find=(t,e)=>t.nodes.find(t=>t.type===e),e.exceedsLimit=(t,r,n=1,i)=>!1!==i&&(!(!e.isInteger(t)||!e.isInteger(r))&&(Number(r)-Number(t))/Number(n)>=i),e.escapeNode=(t,e=0,r)=>{let n=t.nodes[e];n&&(r&&n.type===r||"open"===n.type||"close"===n.type)&&!0!==n.escaped&&(n.value="\\"+n.value,n.escaped=!0)},e.encloseBrace=t=>"brace"===t.type&&(t.commas>>0+t.ranges>>0==0&&(t.invalid=!0,!0)),e.isInvalidBrace=t=>"brace"===t.type&&(!(!0!==t.invalid&&!t.dollar)||(t.commas>>0+t.ranges>>0==0||!0!==t.open||!0!==t.close)&&(t.invalid=!0,!0)),e.isOpenOrClose=t=>"open"===t.type||"close"===t.type||(!0===t.open||!0===t.close),e.reduce=t=>t.reduce((t,e)=>("text"===e.type&&t.push(e.value),"range"===e.type&&(e.type="text"),t),[]),e.flatten=(...t)=>{const e=[],r=t=>{for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)?r(i,e):void 0!==i&&e.push(i)}return e};return r(t),e}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Settings=e.scandirSync=e.scandir=void 0;const n=r(218),i=r(222),o=r(223);function s(t={}){return t instanceof o.default?t:new o.default(t)}e.Settings=o.default,e.scandir=function(t,e,r){if("function"==typeof e)return n.read(t,s(),e);n.read(t,s(e),r)},e.scandirSync=function(t,e){const r=s(e);return i.read(t,r)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.joinPathSegments=e.replacePathSegmentSeparator=e.isAppliedFilter=e.isFatalError=void 0,e.isFatalError=function(t,e){return null===t.errorFilter||!t.errorFilter(e)},e.isAppliedFilter=function(t,e){return null===t||t(e)},e.replacePathSegmentSeparator=function(t,e){return t.split(/[/\\]/).join(e)},e.joinPathSegments=function(t,e,r){return""===t?e:t.endsWith(r)?t+e:t+r+e}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(1),i=r(231),o=r(234),s=r(235),a=r(236);e.default=class{constructor(t){this._settings=t,this.errorFilter=new s.default(this._settings),this.entryFilter=new o.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new i.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new a.default(this._settings)}_getRootDirectory(t){return n.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){const e="."===t.base?"":t.base;return{basePath:e,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(e,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}}},function(t,e,r){var n=r(40),i=r(106),o=r(63),s=r(117),a=r(118),c=r(42),u=function(t,e){var r=[];return e.forEach((function(e){if("object"==typeof e.components){if("tuple"!==e.type.substring(0,5))throw new Error("components found but type is not tuple; report on GitHub");var i="",o=e.type.indexOf("[");o>=0&&(i=e.type.substring(o));var s=u(t,e.components);n.isArray(s)&&t?r.push("tuple("+s.join(",")+")"+i):t?r.push("("+s+")"):r.push("("+s.join(",")+")"+i)}else r.push(e.type)})),r},l=function(t){if(!o.isHexStrict(t))throw new Error("The parameter must be a valid HEX string.");var e="",r=0,n=t.length;for("0x"===t.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(t.substr(r,2),16);e+=String.fromCharCode(i)}return e},h=function(t){if(!t)return"0x00";for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r).toString(16);e+=n.length<2?"0"+n:n}return"0x"+e},d=function(t){if(t=t?t.toLowerCase():"ether",!i.unitMap[t])throw new Error('This unit "'+t+"\" doesn't exist, please use the one of the following units"+JSON.stringify(i.unitMap,null,2));return t};t.exports={_fireError:function(t,e,r,i,o){return!n.isObject(t)||t instanceof Error||!t.data||((n.isObject(t.data)||n.isArray(t.data))&&(t.data=JSON.stringify(t.data,null,2)),t=t.message+"\n"+t.data),n.isString(t)&&(t=new Error(t)),n.isFunction(i)&&i(t,o),n.isFunction(r)&&((e&&n.isFunction(e.listeners)&&e.listeners("error").length||n.isFunction(i))&&e.catch((function(){})),setTimeout((function(){r(t)}),1)),e&&n.isFunction(e.emit)&&setTimeout((function(){e.emit("error",t,o),e.removeAllListeners()}),1),e},_jsonInterfaceMethodToString:function(t){return n.isObject(t)&&t.name&&-1!==t.name.indexOf("(")?t.name:t.name+"("+u(!1,t.inputs).join(",")+")"},_flattenTypes:u,randomHex:function(t){return"0x"+a(t).toString("hex")},_:n,BN:o.BN,isBN:o.isBN,isBigNumber:o.isBigNumber,isHex:o.isHex,isHexStrict:o.isHexStrict,sha3:o.sha3,sha3Raw:o.sha3Raw,keccak256:o.sha3,soliditySha3:s.soliditySha3,soliditySha3Raw:s.soliditySha3Raw,encodePacked:s.encodePacked,isAddress:o.isAddress,checkAddressChecksum:o.checkAddressChecksum,toChecksumAddress:function(t){if(void 0===t)return"";if(!/^(0x)?[0-9a-f]{40}$/i.test(t))throw new Error('Given address "'+t+'" is not a valid Ethereum address.');t=t.toLowerCase().replace(/^0x/i,"");for(var e=o.sha3(t).replace(/^0x/i,""),r="0x",n=0;n<t.length;n++)parseInt(e[n],16)>7?r+=t[n].toUpperCase():r+=t[n];return r},toHex:o.toHex,toBN:o.toBN,bytesToHex:o.bytesToHex,hexToBytes:o.hexToBytes,hexToNumberString:o.hexToNumberString,hexToNumber:o.hexToNumber,toDecimal:o.hexToNumber,numberToHex:o.numberToHex,fromDecimal:o.numberToHex,hexToUtf8:o.hexToUtf8,hexToString:o.hexToUtf8,toUtf8:o.hexToUtf8,stripHexPrefix:o.stripHexPrefix,utf8ToHex:o.utf8ToHex,stringToHex:o.utf8ToHex,fromUtf8:o.utf8ToHex,hexToAscii:l,toAscii:l,asciiToHex:h,fromAscii:h,unitMap:i.unitMap,toWei:function(t,e){if(e=d(e),!o.isBN(t)&&!n.isString(t))throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return o.isBN(t)?i.toWei(t,e):i.toWei(t,e).toString(10)},fromWei:function(t,e){if(e=d(e),!o.isBN(t)&&!n.isString(t))throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return o.isBN(t)?i.fromWei(t,e):i.fromWei(t,e).toString(10)},padLeft:o.leftPad,leftPad:o.leftPad,padRight:o.rightPad,rightPad:o.rightPad,toTwosComplement:o.toTwosComplement,isBloom:o.isBloom,isUserEthereumAddressInBloom:o.isUserEthereumAddressInBloom,isContractAddressInBloom:o.isContractAddressInBloom,isTopic:o.isTopic,isTopicInBloom:o.isTopicInBloom,isInBloom:o.isInBloom,compareBlockNumbers:function(t,e){if(t==e)return 0;if("genesis"!=t&&"earliest"!=t&&0!=t||"genesis"!=e&&"earliest"!=e&&0!=e){if("genesis"==t||"earliest"==t)return-1;if("genesis"==e||"earliest"==e)return 1;if("latest"==t)return"pending"==e?-1:1;if("latest"===e)return"pending"==t?1:-1;if("pending"==t)return 1;if("pending"==e)return-1;{let r=new c(t),n=new c(e);return r.lt(n)?-1:r.eq(n)?0:1}}return 0}}},function(t,e){t.exports=require("http")},function(t,e,r){"use strict";t.exports.Node=r(45),t.exports.Parser=r(157),t.exports.Renderer=r(46),t.exports.HtmlRenderer=r(168),t.exports.XmlRenderer=r(169)},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.decodeHTML=e.decodeHTMLStrict=e.decodeXML=void 0;var i=n(r(38)),o=n(r(59)),s=n(r(39)),a=n(r(60)),c=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function u(t){var e=h(t);return function(t){return String(t).replace(c,e)}}e.decodeXML=u(s.default),e.decodeHTMLStrict=u(i.default);var l=function(t,e){return t<e?1:-1};function h(t){return function(e){if("#"===e.charAt(1)){var r=e.charAt(2);return"X"===r||"x"===r?a.default(parseInt(e.substr(3),16)):a.default(parseInt(e.substr(2),10))}return t[e.slice(1,-1)]||e}}e.decodeHTML=function(){for(var t=Object.keys(o.default).sort(l),e=Object.keys(i.default).sort(l),r=0,n=0;r<e.length;r++)t[n]===e[r]?(e[r]+=";?",n++):e[r]+=";";var s=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),a=h(i.default);function c(t){return";"!==t.substr(-1)&&(t+=";"),a(t)}return function(t){return String(t).replace(s,c)}}()},function(t){t.exports=JSON.parse('{"Aacute":"","aacute":"","Acirc":"","acirc":"","acute":"","AElig":"","aelig":"","Agrave":"","agrave":"","amp":"&","AMP":"&","Aring":"","aring":"","Atilde":"","atilde":"","Auml":"","auml":"","brvbar":"","Ccedil":"","ccedil":"","cedil":"","cent":"","copy":"","COPY":"","curren":"","deg":"","divide":"","Eacute":"","eacute":"","Ecirc":"","ecirc":"","Egrave":"","egrave":"","ETH":"","eth":"","Euml":"","euml":"","frac12":"","frac14":"","frac34":"","gt":">","GT":">","Iacute":"","iacute":"","Icirc":"","icirc":"","iexcl":"","Igrave":"","igrave":"","iquest":"","Iuml":"","iuml":"","laquo":"","lt":"<","LT":"<","macr":"","micro":"","middot":"","nbsp":"","not":"","Ntilde":"","ntilde":"","Oacute":"","oacute":"","Ocirc":"","ocirc":"","Ograve":"","ograve":"","ordf":"","ordm":"","Oslash":"","oslash":"","Otilde":"","otilde":"","Ouml":"","ouml":"","para":"","plusmn":"","pound":"","quot":"\\"","QUOT":"\\"","raquo":"","reg":"","REG":"","sect":"","shy":"","sup1":"","sup2":"","sup3":"","szlig":"","THORN":"","thorn":"","times":"","Uacute":"","uacute":"","Ucirc":"","ucirc":"","Ugrave":"","ugrave":"","uml":"","Uuml":"","uuml":"","Yacute":"","yacute":"","yen":"","yuml":""}')},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(105)),o=String.fromCodePoint||function(t){var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t)};e.default=function(t){return t>=55296&&t<=57343||t>1114111?"":(t in i.default&&(t=i.default[t]),o(t))}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.escapeUTF8=e.escape=e.encodeNonAsciiHTML=e.encodeHTML=e.encodeXML=void 0;var i=l(n(r(39)).default),o=h(i);e.encodeXML=g(i);var s,a,c=l(n(r(38)).default),u=h(c);function l(t){return Object.keys(t).sort().reduce((function(e,r){return e[t[r]]="&"+r+";",e}),{})}function h(t){for(var e=[],r=[],n=0,i=Object.keys(t);n<i.length;n++){var o=i[n];1===o.length?e.push("\\"+o):r.push(o)}e.sort();for(var s=0;s<e.length-1;s++){for(var a=s;a<e.length-1&&e[a].charCodeAt(1)+1===e[a+1].charCodeAt(1);)a+=1;var c=1+a-s;c<3||e.splice(s,c,e[s]+"-"+e[a])}return r.unshift("["+e.join("")+"]"),new RegExp(r.join("|"),"g")}e.encodeHTML=(s=c,a=u,function(t){return t.replace(a,(function(t){return s[t]})).replace(d,p)}),e.encodeNonAsciiHTML=g(c);var d=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,f=null!=String.prototype.codePointAt?function(t){return t.codePointAt(0)}:function(t){return 1024*(t.charCodeAt(0)-55296)+t.charCodeAt(1)-56320+65536};function p(t){return"&#x"+(t.length>1?f(t):t.charCodeAt(0)).toString(16).toUpperCase()+";"}var m=new RegExp(o.source+"|"+d.source,"g");function g(t){return function(e){return e.replace(m,(function(e){return t[e]||p(e)}))}}e.escape=function(t){return t.replace(m,p)},e.escapeUTF8=function(t){return t.replace(o,p)}},function(t,e,r){var n=r(108),i=r(109);t.exports=function(t){if("string"==typeof t||"number"==typeof t){var e=new n(1),r=String(t).toLowerCase().trim(),o="0x"===r.substr(0,2)||"-0x"===r.substr(0,3),s=i(r);if("-"===s.substr(0,1)&&(s=i(s.slice(1)),e=new n(-1,10)),!(s=""===s?"0":s).match(/^-?[0-9]+$/)&&s.match(/^[0-9A-Fa-f]+$/)||s.match(/^[a-fA-F]+$/)||!0===o&&s.match(/^[0-9A-Fa-f]+$/))return new n(s,16).mul(e);if((s.match(/^-?[0-9]+$/)||""===s)&&!1===o)return new n(s,10).mul(e)}else if("object"==typeof t&&t.toString&&!t.pop&&!t.push&&t.toString(10).match(/^-?[0-9]+$/)&&(t.mul||t.dividedToIntegerBy))return new n(t.toString(10),10);throw new Error("[number-to-bn] while converting number "+JSON.stringify(t)+" to BN.js instance, error: invalid number value. Value must be an integer, hex string, BN or BigNumber instance. Note, decimals are not supported.")}},function(t,e,r){var n=r(40),i=r(42),o=r(62),s=r(111),a=r(112),c=r(113),u=function(t){return i.isBN(t)},l=function(t){return t&&t.constructor&&"BigNumber"===t.constructor.name},h=function(t){try{return o.apply(null,arguments)}catch(e){throw new Error(e+' Given value: "'+t+'"')}},d=function(t){return!!/^(0x)?[0-9a-f]{40}$/i.test(t)&&(!(!/^(0x|0X)?[0-9a-f]{40}$/.test(t)&&!/^(0x|0X)?[0-9A-F]{40}$/.test(t))||f(t))},f=function(t){t=t.replace(/^0x/i,"");for(var e=b(t.toLowerCase()).replace(/^0x/i,""),r=0;r<40;r++)if(parseInt(e[r],16)>7&&t[r].toUpperCase()!==t[r]||parseInt(e[r],16)<=7&&t[r].toLowerCase()!==t[r])return!1;return!0},p=function(t){var e="";t=(t=(t=(t=(t=s.encode(t)).replace(/^(?:\u0000)*/,"")).split("").reverse().join("")).replace(/^(?:\u0000)*/,"")).split("").reverse().join("");for(var r=0;r<t.length;r++){var n=t.charCodeAt(r).toString(16);e+=n.length<2?"0"+n:n}return"0x"+e},m=function(t){if(n.isNull(t)||n.isUndefined(t))return t;if(!isFinite(t)&&!y(t))throw new Error('Given input "'+t+'" is not a number.');var e=h(t),r=e.toString(16);return e.lt(new i(0))?"-0x"+r.substr(1):"0x"+r},g=function(t){if(t=t.toString(16),!y(t))throw new Error('Given value "'+t+'" is not a valid hex string.');t=t.replace(/^0x/i,"");for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return e},y=function(t){return(n.isString(t)||n.isNumber(t))&&/^(-)?0x[0-9a-f]*$/i.test(t)},_=function(t){return(n.isString(t)||n.isNumber(t))&&/^(-0x|0x)?[0-9a-f]*$/i.test(t)},v="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",b=function(t){u(t)&&(t=t.toString()),y(t)&&/^0x/i.test(t.toString())&&(t=g(t));var e=a.keccak256(t);return e===v?null:e};b._Hash=a;t.exports={BN:i,isBN:u,isBigNumber:l,toBN:h,isAddress:d,isBloom:function(t){return c.isBloom(t)},isUserEthereumAddressInBloom:function(t,e){return c.isUserEthereumAddressInBloom(t,e)},isContractAddressInBloom:function(t,e){return c.isContractAddressInBloom(t,e)},isTopic:function(t){return c.isTopic(t)},isTopicInBloom:function(t,e){return c.isTopicInBloom(t,e)},isInBloom:function(t,e){return c.isInBloom(t,e)},checkAddressChecksum:f,utf8ToHex:p,hexToUtf8:function(t){if(!y(t))throw new Error('The parameter "'+t+'" must be a valid HEX string.');for(var e="",r=0,n=(t=(t=(t=(t=(t=t.replace(/^0x/i,"")).replace(/^(?:00)*/,"")).split("").reverse().join("")).replace(/^(?:00)*/,"")).split("").reverse().join("")).length,i=0;i<n;i+=2)r=parseInt(t.substr(i,2),16),e+=String.fromCharCode(r);return s.decode(e)},hexToNumber:function(t){if(!t)return t;if(n.isString(t)&&!y(t))throw new Error('Given value "'+t+'" is not a valid hex string.');return h(t).toNumber()},hexToNumberString:function(t){if(!t)return t;if(n.isString(t)&&!y(t))throw new Error('Given value "'+t+'" is not a valid hex string.');return h(t).toString(10)},numberToHex:m,toHex:function(t,e){if(d(t))return e?"address":"0x"+t.toLowerCase().replace(/^0x/i,"");if(n.isBoolean(t))return e?"bool":t?"0x01":"0x00";if(Buffer.isBuffer(t))return"0x"+t.toString("hex");if(n.isObject(t)&&!l(t)&&!u(t))return e?"string":p(JSON.stringify(t));if(n.isString(t)){if(0===t.indexOf("-0x")||0===t.indexOf("-0X"))return e?"int256":m(t);if(0===t.indexOf("0x")||0===t.indexOf("0X"))return e?"bytes":t;if(!isFinite(t))return e?"string":p(t)}return e?t<0?"int256":"uint256":m(t)},hexToBytes:g,bytesToHex:function(t){for(var e=[],r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((15&t[r]).toString(16));return"0x"+e.join("")},isHex:_,isHexStrict:y,stripHexPrefix:function(t){return 0!==t&&_(t)?t.replace(/^(-)?0x/i,"$1"):t},leftPad:function(t,e,r){var n=/^0x/i.test(t)||"number"==typeof t,i=e-(t=t.toString(16).replace(/^0x/i,"")).length+1>=0?e-t.length+1:0;return(n?"0x":"")+new Array(i).join(r||"0")+t},rightPad:function(t,e,r){var n=/^0x/i.test(t)||"number"==typeof t,i=e-(t=t.toString(16).replace(/^0x/i,"")).length+1>=0?e-t.length+1:0;return(n?"0x":"")+t+new Array(i).join(r||"0")},toTwosComplement:function(t){return"0x"+h(t).toTwos(256).toString(16,64)},sha3:b,sha3Raw:function(t){return null===(t=b(t))?v:t}}},function(t,e,r){"use strict";r.r(e),r.d(e,"Headers",(function(){return x})),r.d(e,"Request",(function(){return G})),r.d(e,"Response",(function(){return D})),r.d(e,"FetchError",(function(){return d}));var n=r(4),i=r(56),o=r(37),s=r(95),a=r(19);const c=n.Readable,u=Symbol("buffer"),l=Symbol("type");class h{constructor(){this[l]="";const t=arguments[0],e=arguments[1],r=[];let n=0;if(t){const e=t,i=Number(e.length);for(let t=0;t<i;t++){const i=e[t];let o;o=i instanceof Buffer?i:ArrayBuffer.isView(i)?Buffer.from(i.buffer,i.byteOffset,i.byteLength):i instanceof ArrayBuffer?Buffer.from(i):i instanceof h?i[u]:Buffer.from("string"==typeof i?i:String(i)),n+=o.length,r.push(o)}}this[u]=Buffer.concat(r);let i=e&&void 0!==e.type&&String(e.type).toLowerCase();i&&!/[^\u0020-\u007E]/.test(i)&&(this[l]=i)}get size(){return this[u].length}get type(){return this[l]}text(){return Promise.resolve(this[u].toString())}arrayBuffer(){const t=this[u],e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return Promise.resolve(e)}stream(){const t=new c;return t._read=function(){},t.push(this[u]),t.push(null),t}toString(){return"[object Blob]"}slice(){const t=this.size,e=arguments[0],r=arguments[1];let n,i;n=void 0===e?0:e<0?Math.max(t+e,0):Math.min(e,t),i=void 0===r?t:r<0?Math.max(t+r,0):Math.min(r,t);const o=Math.max(i-n,0),s=this[u].slice(n,n+o),a=new h([],{type:arguments[2]});return a[u]=s,a}}function d(t,e,r){Error.call(this,t),this.message=t,this.type=e,r&&(this.code=this.errno=r.code),Error.captureStackTrace(this,this.constructor)}let f;Object.defineProperties(h.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(h.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,d.prototype.name="FetchError";try{f=require("encoding").convert}catch(t){}const p=Symbol("Body internals"),m=n.PassThrough;function g(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.size;let o=void 0===i?0:i;var s=r.timeout;let a=void 0===s?0:s;null==t?t=null:_(t)?t=Buffer.from(t.toString()):v(t)||Buffer.isBuffer(t)||("[object ArrayBuffer]"===Object.prototype.toString.call(t)?t=Buffer.from(t):ArrayBuffer.isView(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):t instanceof n||(t=Buffer.from(String(t)))),this[p]={body:t,disturbed:!1,error:null},this.size=o,this.timeout=a,t instanceof n&&t.on("error",(function(t){const r="AbortError"===t.name?t:new d(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t);e[p].error=r}))}function y(){var t=this;if(this[p].disturbed)return g.Promise.reject(new TypeError("body used already for: "+this.url));if(this[p].disturbed=!0,this[p].error)return g.Promise.reject(this[p].error);let e=this.body;if(null===e)return g.Promise.resolve(Buffer.alloc(0));if(v(e)&&(e=e.stream()),Buffer.isBuffer(e))return g.Promise.resolve(e);if(!(e instanceof n))return g.Promise.resolve(Buffer.alloc(0));let r=[],i=0,o=!1;return new g.Promise((function(n,s){let a;t.timeout&&(a=setTimeout((function(){o=!0,s(new d(`Response timeout while trying to fetch ${t.url} (over ${t.timeout}ms)`,"body-timeout"))}),t.timeout)),e.on("error",(function(e){"AbortError"===e.name?(o=!0,s(e)):s(new d(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e))})),e.on("data",(function(e){if(!o&&null!==e){if(t.size&&i+e.length>t.size)return o=!0,void s(new d(`content size at ${t.url} over limit: ${t.size}`,"max-size"));i+=e.length,r.push(e)}})),e.on("end",(function(){if(!o){clearTimeout(a);try{n(Buffer.concat(r,i))}catch(e){s(new d(`Could not create Buffer from response body for ${t.url}: ${e.message}`,"system",e))}}}))}))}function _(t){return"object"==typeof t&&"function"==typeof t.append&&"function"==typeof t.delete&&"function"==typeof t.get&&"function"==typeof t.getAll&&"function"==typeof t.has&&"function"==typeof t.set&&("URLSearchParams"===t.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(t)||"function"==typeof t.sort)}function v(t){return"object"==typeof t&&"function"==typeof t.arrayBuffer&&"string"==typeof t.type&&"function"==typeof t.stream&&"function"==typeof t.constructor&&"string"==typeof t.constructor.name&&/^(Blob|File)$/.test(t.constructor.name)&&/^(Blob|File)$/.test(t[Symbol.toStringTag])}function b(t){let e,r,i=t.body;if(t.bodyUsed)throw new Error("cannot clone body after it is used");return i instanceof n&&"function"!=typeof i.getBoundary&&(e=new m,r=new m,i.pipe(e),i.pipe(r),t[p].body=e,i=r),i}function w(t){return null===t?null:"string"==typeof t?"text/plain;charset=UTF-8":_(t)?"application/x-www-form-urlencoded;charset=UTF-8":v(t)?t.type||null:Buffer.isBuffer(t)||"[object ArrayBuffer]"===Object.prototype.toString.call(t)||ArrayBuffer.isView(t)?null:"function"==typeof t.getBoundary?"multipart/form-data;boundary="+t.getBoundary():t instanceof n?null:"text/plain;charset=UTF-8"}function E(t){const e=t.body;return null===e?0:v(e)?e.size:Buffer.isBuffer(e)?e.length:e&&"function"==typeof e.getLengthSync&&(e._lengthRetrievers&&0==e._lengthRetrievers.length||e.hasKnownLength&&e.hasKnownLength())?e.getLengthSync():null}g.prototype={get body(){return this[p].body},get bodyUsed(){return this[p].disturbed},arrayBuffer(){return y.call(this).then((function(t){return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}))},blob(){let t=this.headers&&this.headers.get("content-type")||"";return y.call(this).then((function(e){return Object.assign(new h([],{type:t.toLowerCase()}),{[u]:e})}))},json(){var t=this;return y.call(this).then((function(e){try{return JSON.parse(e.toString())}catch(e){return g.Promise.reject(new d(`invalid json response body at ${t.url} reason: ${e.message}`,"invalid-json"))}}))},text(){return y.call(this).then((function(t){return t.toString()}))},buffer(){return y.call(this)},textConverted(){var t=this;return y.call(this).then((function(e){return function(t,e){if("function"!=typeof f)throw new Error("The package `encoding` must be installed to use the textConverted() function");const r=e.get("content-type");let n,i,o="utf-8";r&&(n=/charset=([^;]*)/i.exec(r));i=t.slice(0,1024).toString(),!n&&i&&(n=/<meta.+?charset=(['"])(.+?)\1/i.exec(i));!n&&i&&(n=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(i),n||(n=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(i),n&&n.pop()),n&&(n=/charset=(.*)/i.exec(n.pop())));!n&&i&&(n=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(i));n&&(o=n.pop(),"gb2312"!==o&&"gbk"!==o||(o="gb18030"));return f(t,"UTF-8",o).toString()}(e,t.headers)}))}},Object.defineProperties(g.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),g.mixIn=function(t){for(const e of Object.getOwnPropertyNames(g.prototype))if(!(e in t)){const r=Object.getOwnPropertyDescriptor(g.prototype,e);Object.defineProperty(t,e,r)}},g.Promise=global.Promise;const S=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,T=/[^\t\x20-\x7e\x80-\xff]/;function A(t){if(t=""+t,S.test(t)||""===t)throw new TypeError(t+" is not a legal HTTP header name")}function O(t){if(t=""+t,T.test(t))throw new TypeError(t+" is not a legal HTTP header value")}function M(t,e){e=e.toLowerCase();for(const r in t)if(r.toLowerCase()===e)return r}const k=Symbol("map");class x{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[k]=Object.create(null),t instanceof x){const e=t.raw(),r=Object.keys(e);for(const t of r)for(const r of e[t])this.append(t,r)}else if(null==t);else{if("object"!=typeof t)throw new TypeError("Provided initializer must be an object");{const e=t[Symbol.iterator];if(null!=e){if("function"!=typeof e)throw new TypeError("Header pairs must be iterable");const r=[];for(const e of t){if("object"!=typeof e||"function"!=typeof e[Symbol.iterator])throw new TypeError("Each header pair must be iterable");r.push(Array.from(e))}for(const t of r){if(2!==t.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(t[0],t[1])}}else for(const e of Object.keys(t)){const r=t[e];this.append(e,r)}}}}get(t){A(t=""+t);const e=M(this[k],t);return void 0===e?null:this[k][e].join(", ")}forEach(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=N(this),n=0;for(;n<r.length;){var i=r[n];const o=i[0],s=i[1];t.call(e,s,o,this),r=N(this),n++}}set(t,e){e=""+e,A(t=""+t),O(e);const r=M(this[k],t);this[k][void 0!==r?r:t]=[e]}append(t,e){e=""+e,A(t=""+t),O(e);const r=M(this[k],t);void 0!==r?this[k][r].push(e):this[k][t]=[e]}has(t){return A(t=""+t),void 0!==M(this[k],t)}delete(t){A(t=""+t);const e=M(this[k],t);void 0!==e&&delete this[k][e]}raw(){return this[k]}keys(){return I(this,"key")}values(){return I(this,"value")}[Symbol.iterator](){return I(this,"key+value")}}function N(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";const r=Object.keys(t[k]).sort();return r.map("key"===e?function(t){return t.toLowerCase()}:"value"===e?function(e){return t[k][e].join(", ")}:function(e){return[e.toLowerCase(),t[k][e].join(", ")]})}x.prototype.entries=x.prototype[Symbol.iterator],Object.defineProperty(x.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(x.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const R=Symbol("internal");function I(t,e){const r=Object.create(C);return r[R]={target:t,kind:e,index:0},r}const C=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==C)throw new TypeError("Value of `this` is not a HeadersIterator");var t=this[R];const e=t.target,r=t.kind,n=t.index,i=N(e,r);return n>=i.length?{value:void 0,done:!0}:(this[R].index=n+1,{value:i[n],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function j(t){const e=Object.assign({__proto__:null},t[k]),r=M(t[k],"Host");return void 0!==r&&(e[r]=e[r][0]),e}Object.defineProperty(C,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});const L=Symbol("Response internals"),P=i.STATUS_CODES;class D{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g.call(this,t,e);const r=e.status||200,n=new x(e.headers);if(null!=t&&!n.has("Content-Type")){const e=w(t);e&&n.append("Content-Type",e)}this[L]={url:e.url,status:r,statusText:e.statusText||P[r],headers:n,counter:e.counter}}get url(){return this[L].url||""}get status(){return this[L].status}get ok(){return this[L].status>=200&&this[L].status<300}get redirected(){return this[L].counter>0}get statusText(){return this[L].statusText}get headers(){return this[L].headers}clone(){return new D(b(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}g.mixIn(D.prototype),Object.defineProperties(D.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(D.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});const F=Symbol("Request internals"),B=o.parse,U=o.format,q="destroy"in n.Readable.prototype;function H(t){return"object"==typeof t&&"object"==typeof t[F]}class G{constructor(t){let e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};H(t)?e=B(t.url):(e=t&&t.href?B(t.href):B(""+t),t={});let n=r.method||t.method||"GET";if(n=n.toUpperCase(),(null!=r.body||H(t)&&null!==t.body)&&("GET"===n||"HEAD"===n))throw new TypeError("Request with GET/HEAD method cannot have body");let i=null!=r.body?r.body:H(t)&&null!==t.body?b(t):null;g.call(this,i,{timeout:r.timeout||t.timeout||0,size:r.size||t.size||0});const o=new x(r.headers||t.headers||{});if(null!=i&&!o.has("Content-Type")){const t=w(i);t&&o.append("Content-Type",t)}let s=H(t)?t.signal:null;if("signal"in r&&(s=r.signal),null!=s&&!function(t){const e=t&&"object"==typeof t&&Object.getPrototypeOf(t);return!(!e||"AbortSignal"!==e.constructor.name)}(s))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[F]={method:n,redirect:r.redirect||t.redirect||"follow",headers:o,parsedURL:e,signal:s},this.follow=void 0!==r.follow?r.follow:void 0!==t.follow?t.follow:20,this.compress=void 0!==r.compress?r.compress:void 0===t.compress||t.compress,this.counter=r.counter||t.counter||0,this.agent=r.agent||t.agent}get method(){return this[F].method}get url(){return U(this[F].parsedURL)}get headers(){return this[F].headers}get redirect(){return this[F].redirect}get signal(){return this[F].signal}clone(){return new G(this)}}function z(t){Error.call(this,t),this.type="aborted",this.message=t,Error.captureStackTrace(this,this.constructor)}g.mixIn(G.prototype),Object.defineProperty(G.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(G.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),z.prototype=Object.create(Error.prototype),z.prototype.constructor=z,z.prototype.name="AbortError";const W=n.PassThrough,$=o.resolve;function V(t,e){if(!V.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return g.Promise=V.Promise,new V.Promise((function(r,o){const c=new G(t,e),u=function(t){const e=t[F].parsedURL,r=new x(t[F].headers);if(r.has("Accept")||r.set("Accept","*/*"),!e.protocol||!e.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(e.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(t.signal&&t.body instanceof n.Readable&&!q)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let i=null;if(null==t.body&&/^(POST|PUT)$/i.test(t.method)&&(i="0"),null!=t.body){const e=E(t);"number"==typeof e&&(i=String(e))}i&&r.set("Content-Length",i),r.has("User-Agent")||r.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),t.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip,deflate");let o=t.agent;return"function"==typeof o&&(o=o(e)),r.has("Connection")||o||r.set("Connection","close"),Object.assign({},e,{method:t.method,headers:j(r),agent:o})}(c),l=("https:"===u.protocol?s:i).request,h=c.signal;let f=null;const p=function(){let t=new z("The user aborted a request.");o(t),c.body&&c.body instanceof n.Readable&&c.body.destroy(t),f&&f.body&&f.body.emit("error",t)};if(h&&h.aborted)return void p();const m=function(){p(),_()},g=l(u);let y;function _(){g.abort(),h&&h.removeEventListener("abort",m),clearTimeout(y)}h&&h.addEventListener("abort",m),c.timeout&&g.once("socket",(function(t){y=setTimeout((function(){o(new d("network timeout at: "+c.url,"request-timeout")),_()}),c.timeout)})),g.on("error",(function(t){o(new d(`request to ${c.url} failed, reason: ${t.message}`,"system",t)),_()})),g.on("response",(function(t){clearTimeout(y);const e=function(t){const e=new x;for(const r of Object.keys(t))if(!S.test(r))if(Array.isArray(t[r]))for(const n of t[r])T.test(n)||(void 0===e[k][r]?e[k][r]=[n]:e[k][r].push(n));else T.test(t[r])||(e[k][r]=[t[r]]);return e}(t.headers);if(V.isRedirect(t.statusCode)){const n=e.get("Location"),i=null===n?null:$(c.url,n);switch(c.redirect){case"error":return o(new d("uri requested responds with a redirect, redirect mode is set to error: "+c.url,"no-redirect")),void _();case"manual":if(null!==i)try{e.set("Location",i)}catch(t){o(t)}break;case"follow":if(null===i)break;if(c.counter>=c.follow)return o(new d("maximum redirect reached at: "+c.url,"max-redirect")),void _();const n={headers:new x(c.headers),follow:c.follow,counter:c.counter+1,agent:c.agent,compress:c.compress,method:c.method,body:c.body,signal:c.signal,timeout:c.timeout,size:c.size};return 303!==t.statusCode&&c.body&&null===E(c)?(o(new d("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void _()):(303!==t.statusCode&&(301!==t.statusCode&&302!==t.statusCode||"POST"!==c.method)||(n.method="GET",n.body=void 0,n.headers.delete("content-length")),r(V(new G(i,n))),void _())}}t.once("end",(function(){h&&h.removeEventListener("abort",m)}));let n=t.pipe(new W);const i={url:c.url,status:t.statusCode,statusText:t.statusMessage,headers:e,size:c.size,timeout:c.timeout,counter:c.counter},s=e.get("Content-Encoding");if(!c.compress||"HEAD"===c.method||null===s||204===t.statusCode||304===t.statusCode)return f=new D(n,i),void r(f);const u={flush:a.Z_SYNC_FLUSH,finishFlush:a.Z_SYNC_FLUSH};if("gzip"==s||"x-gzip"==s)return n=n.pipe(a.createGunzip(u)),f=new D(n,i),void r(f);if("deflate"!=s&&"x-deflate"!=s){if("br"==s&&"function"==typeof a.createBrotliDecompress)return n=n.pipe(a.createBrotliDecompress()),f=new D(n,i),void r(f);f=new D(n,i),r(f)}else{t.pipe(new W).once("data",(function(t){n=8==(15&t[0])?n.pipe(a.createInflate()):n.pipe(a.createInflateRaw()),f=new D(n,i),r(f)}))}})),function(t,e){const r=e.body;null===r?t.end():v(r)?r.stream().pipe(t):Buffer.isBuffer(r)?(t.write(r),t.end()):r.pipe(t)}(g,c)}))}V.isRedirect=function(t){return 301===t||302===t||303===t||307===t||308===t},V.Promise=global.Promise,e.default=V},function(t,e){},function(t,e,r){const n=r(124),i={};for(const t of Object.keys(n))i[n[t]]=t;const o={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};t.exports=o;for(const t of Object.keys(o)){if(!("channels"in o[t]))throw new Error("missing channels property: "+t);if(!("labels"in o[t]))throw new Error("missing channel labels property: "+t);if(o[t].labels.length!==o[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:r}=o[t];delete o[t].channels,delete o[t].labels,Object.defineProperty(o[t],"channels",{value:e}),Object.defineProperty(o[t],"labels",{value:r})}o.rgb.hsl=function(t){const e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),o=Math.max(e,r,n),s=o-i;let a,c;o===i?a=0:e===o?a=(r-n)/s:r===o?a=2+(n-e)/s:n===o&&(a=4+(e-r)/s),a=Math.min(60*a,360),a<0&&(a+=360);const u=(i+o)/2;return c=o===i?0:u<=.5?s/(o+i):s/(2-o-i),[a,100*c,100*u]},o.rgb.hsv=function(t){let e,r,n,i,o;const s=t[0]/255,a=t[1]/255,c=t[2]/255,u=Math.max(s,a,c),l=u-Math.min(s,a,c),h=function(t){return(u-t)/6/l+.5};return 0===l?(i=0,o=0):(o=l/u,e=h(s),r=h(a),n=h(c),s===u?i=n-r:a===u?i=1/3+e-n:c===u&&(i=2/3+r-e),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*u]},o.rgb.hwb=function(t){const e=t[0],r=t[1];let n=t[2];const i=o.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[i,100*s,100*n]},o.rgb.cmyk=function(t){const e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(1-e,1-r,1-n);return[100*((1-e-i)/(1-i)||0),100*((1-r-i)/(1-i)||0),100*((1-n-i)/(1-i)||0),100*i]},o.rgb.keyword=function(t){const e=i[t];if(e)return e;let r,o=1/0;for(const e of Object.keys(n)){const i=n[e],c=(a=i,((s=t)[0]-a[0])**2+(s[1]-a[1])**2+(s[2]-a[2])**2);c<o&&(o=c,r=e)}var s,a;return r},o.keyword.rgb=function(t){return n[t]},o.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;return[100*(.4124*e+.3576*r+.1805*n),100*(.2126*e+.7152*r+.0722*n),100*(.0193*e+.1192*r+.9505*n)]},o.rgb.lab=function(t){const e=o.rgb.xyz(t);let r=e[0],n=e[1],i=e[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;return[116*n-16,500*(r-n),200*(n-i)]},o.hsl.rgb=function(t){const e=t[0]/360,r=t[1]/100,n=t[2]/100;let i,o,s;if(0===r)return s=255*n,[s,s,s];i=n<.5?n*(1+r):n+r-n*r;const a=2*n-i,c=[0,0,0];for(let t=0;t<3;t++)o=e+1/3*-(t-1),o<0&&o++,o>1&&o--,s=6*o<1?a+6*(i-a)*o:2*o<1?i:3*o<2?a+(i-a)*(2/3-o)*6:a,c[t]=255*s;return c},o.hsl.hsv=function(t){const e=t[0];let r=t[1]/100,n=t[2]/100,i=r;const o=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=o<=1?o:2-o;return[e,100*(0===n?2*i/(o+i):2*r/(n+r)),100*((n+r)/2)]},o.hsv.rgb=function(t){const e=t[0]/60,r=t[1]/100;let n=t[2]/100;const i=Math.floor(e)%6,o=e-Math.floor(e),s=255*n*(1-r),a=255*n*(1-r*o),c=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,c,s];case 1:return[a,n,s];case 2:return[s,n,c];case 3:return[s,a,n];case 4:return[c,s,n];case 5:return[n,s,a]}},o.hsv.hsl=function(t){const e=t[0],r=t[1]/100,n=t[2]/100,i=Math.max(n,.01);let o,s;s=(2-r)*n;const a=(2-r)*i;return o=r*i,o/=a<=1?a:2-a,o=o||0,s/=2,[e,100*o,100*s]},o.hwb.rgb=function(t){const e=t[0]/360;let r=t[1]/100,n=t[2]/100;const i=r+n;let o;i>1&&(r/=i,n/=i);const s=Math.floor(6*e),a=1-n;o=6*e-s,0!=(1&s)&&(o=1-o);const c=r+o*(a-r);let u,l,h;switch(s){default:case 6:case 0:u=a,l=c,h=r;break;case 1:u=c,l=a,h=r;break;case 2:u=r,l=a,h=c;break;case 3:u=r,l=c,h=a;break;case 4:u=c,l=r,h=a;break;case 5:u=a,l=r,h=c}return[255*u,255*l,255*h]},o.cmyk.rgb=function(t){const e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100;return[255*(1-Math.min(1,e*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i))]},o.xyz.rgb=function(t){const e=t[0]/100,r=t[1]/100,n=t[2]/100;let i,o,s;return i=3.2406*e+-1.5372*r+-.4986*n,o=-.9689*e+1.8758*r+.0415*n,s=.0557*e+-.204*r+1.057*n,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[255*i,255*o,255*s]},o.xyz.lab=function(t){let e=t[0],r=t[1],n=t[2];e/=95.047,r/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;return[116*r-16,500*(e-r),200*(r-n)]},o.lab.xyz=function(t){let e,r,n;r=(t[0]+16)/116,e=t[1]/500+r,n=r-t[2]/200;const i=r**3,o=e**3,s=n**3;return r=i>.008856?i:(r-16/116)/7.787,e=o>.008856?o:(e-16/116)/7.787,n=s>.008856?s:(n-16/116)/7.787,e*=95.047,r*=100,n*=108.883,[e,r,n]},o.lab.lch=function(t){const e=t[0],r=t[1],n=t[2];let i;i=360*Math.atan2(n,r)/2/Math.PI,i<0&&(i+=360);return[e,Math.sqrt(r*r+n*n),i]},o.lch.lab=function(t){const e=t[0],r=t[1],n=t[2]/360*2*Math.PI;return[e,r*Math.cos(n),r*Math.sin(n)]},o.rgb.ansi16=function(t,e=null){const[r,n,i]=t;let s=null===e?o.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),0===s)return 30;let a=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return 2===s&&(a+=60),a},o.hsv.ansi16=function(t){return o.rgb.ansi16(o.hsv.rgb(t),t[2])},o.rgb.ansi256=function(t){const e=t[0],r=t[1],n=t[2];if(e===r&&r===n)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;return 16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},o.ansi16.rgb=function(t){let e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const r=.5*(1+~~(t>50));return[(1&e)*r*255,(e>>1&1)*r*255,(e>>2&1)*r*255]},o.ansi256.rgb=function(t){if(t>=232){const e=10*(t-232)+8;return[e,e,e]}let e;t-=16;return[Math.floor(t/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255]},o.rgb.hex=function(t){const e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},o.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let r=e[0];3===e[0].length&&(r=r.split("").map(t=>t+t).join(""));const n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},o.rgb.hcg=function(t){const e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(Math.max(e,r),n),o=Math.min(Math.min(e,r),n),s=i-o;let a,c;return a=s<1?o/(1-s):0,c=s<=0?0:i===e?(r-n)/s%6:i===r?2+(n-e)/s:4+(e-r)/s,c/=6,c%=1,[360*c,100*s,100*a]},o.hsl.hcg=function(t){const e=t[1]/100,r=t[2]/100,n=r<.5?2*e*r:2*e*(1-r);let i=0;return n<1&&(i=(r-.5*n)/(1-n)),[t[0],100*n,100*i]},o.hsv.hcg=function(t){const e=t[1]/100,r=t[2]/100,n=e*r;let i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],100*n,100*i]},o.hcg.rgb=function(t){const e=t[0]/360,r=t[1]/100,n=t[2]/100;if(0===r)return[255*n,255*n,255*n];const i=[0,0,0],o=e%1*6,s=o%1,a=1-s;let c=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return c=(1-r)*n,[255*(r*i[0]+c),255*(r*i[1]+c),255*(r*i[2]+c)]},o.hcg.hsv=function(t){const e=t[1]/100,r=e+t[2]/100*(1-e);let n=0;return r>0&&(n=e/r),[t[0],100*n,100*r]},o.hcg.hsl=function(t){const e=t[1]/100,r=t[2]/100*(1-e)+.5*e;let n=0;return r>0&&r<.5?n=e/(2*r):r>=.5&&r<1&&(n=e/(2*(1-r))),[t[0],100*n,100*r]},o.hcg.hwb=function(t){const e=t[1]/100,r=e+t[2]/100*(1-e);return[t[0],100*(r-e),100*(1-r)]},o.hwb.hcg=function(t){const e=t[1]/100,r=1-t[2]/100,n=r-e;let i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],100*n,100*i]},o.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},o.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},o.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},o.gray.hsl=function(t){return[0,0,t[0]]},o.gray.hsv=o.gray.hsl,o.gray.hwb=function(t){return[0,100,t[0]]},o.gray.cmyk=function(t){return[0,0,0,t[0]]},o.gray.lab=function(t){return[t[0],0,0]},o.gray.hex=function(t){const e=255&Math.round(t[0]/100*255),r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(r.length)+r},o.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},function(t,e){t.exports=require("assert")},function(t,e,r){"use strict";t.exports={copySync:r(136)}},function(t,e,r){"use strict";const n=r(5);t.exports={utimesMillis:function(t,e,r,i){n.open(t,"r+",(t,o)=>{if(t)return i(t);n.futimes(o,e,r,t=>{n.close(o,e=>{i&&i(t||e)})})})},utimesMillisSync:function(t,e,r){const i=n.openSync(t,"r+");return n.futimesSync(i,e,r),n.closeSync(i)}}},function(t,e,r){"use strict";const n=r(6).fromCallback;t.exports={copy:n(r(139))}},function(t,e,r){var n=r(159),i=r(160);e.decode=function(t,e){return(!e||e<=0?i.XML:i.HTML)(t)},e.decodeStrict=function(t,e){return(!e||e<=0?i.XML:i.HTMLStrict)(t)},e.encode=function(t,e){return(!e||e<=0?n.XML:n.HTML)(t)},e.encodeXML=n.XML,e.encodeHTML4=e.encodeHTML5=e.encodeHTML=n.HTML,e.decodeXML=e.decodeXMLStrict=i.XML,e.decodeHTML4=e.decodeHTML5=e.decodeHTML=i.HTML,e.decodeHTML4Strict=e.decodeHTML5Strict=e.decodeHTMLStrict=i.HTMLStrict,e.escape=n.escape},function(t){t.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},function(t){t.exports=JSON.parse('{"Aacute":"","aacute":"","Abreve":"","abreve":"","ac":"","acd":"","acE":"","Acirc":"","acirc":"","acute":"","Acy":"","acy":"","AElig":"","aelig":"","af":"","Afr":"","afr":"","Agrave":"","agrave":"","alefsym":"","aleph":"","Alpha":"","alpha":"","Amacr":"","amacr":"","amalg":"","amp":"&","AMP":"&","andand":"","And":"","and":"","andd":"","andslope":"","andv":"","ang":"","ange":"","angle":"","angmsdaa":"","angmsdab":"","angmsdac":"","angmsdad":"","angmsdae":"","angmsdaf":"","angmsdag":"","angmsdah":"","angmsd":"","angrt":"","angrtvb":"","angrtvbd":"","angsph":"","angst":"","angzarr":"","Aogon":"","aogon":"","Aopf":"","aopf":"","apacir":"","ap":"","apE":"","ape":"","apid":"","apos":"\'","ApplyFunction":"","approx":"","approxeq":"","Aring":"","aring":"","Ascr":"","ascr":"","Assign":"","ast":"*","asymp":"","asympeq":"","Atilde":"","atilde":"","Auml":"","auml":"","awconint":"","awint":"","backcong":"","backepsilon":"","backprime":"","backsim":"","backsimeq":"","Backslash":"","Barv":"","barvee":"","barwed":"","Barwed":"","barwedge":"","bbrk":"","bbrktbrk":"","bcong":"","Bcy":"","bcy":"","bdquo":"","becaus":"","because":"","Because":"","bemptyv":"","bepsi":"","bernou":"","Bernoullis":"","Beta":"","beta":"","beth":"","between":"","Bfr":"","bfr":"","bigcap":"","bigcirc":"","bigcup":"","bigodot":"","bigoplus":"","bigotimes":"","bigsqcup":"","bigstar":"","bigtriangledown":"","bigtriangleup":"","biguplus":"","bigvee":"","bigwedge":"","bkarow":"","blacklozenge":"","blacksquare":"","blacktriangle":"","blacktriangledown":"","blacktriangleleft":"","blacktriangleright":"","blank":"","blk12":"","blk14":"","blk34":"","block":"","bne":"=","bnequiv":"","bNot":"","bnot":"","Bopf":"","bopf":"","bot":"","bottom":"","bowtie":"","boxbox":"","boxdl":"","boxdL":"","boxDl":"","boxDL":"","boxdr":"","boxdR":"","boxDr":"","boxDR":"","boxh":"","boxH":"","boxhd":"","boxHd":"","boxhD":"","boxHD":"","boxhu":"","boxHu":"","boxhU":"","boxHU":"","boxminus":"","boxplus":"","boxtimes":"","boxul":"","boxuL":"","boxUl":"","boxUL":"","boxur":"","boxuR":"","boxUr":"","boxUR":"","boxv":"","boxV":"","boxvh":"","boxvH":"","boxVh":"","boxVH":"","boxvl":"","boxvL":"","boxVl":"","boxVL":"","boxvr":"","boxvR":"","boxVr":"","boxVR":"","bprime":"","breve":"","Breve":"","brvbar":"","bscr":"","Bscr":"","bsemi":"","bsim":"","bsime":"","bsolb":"","bsol":"\\\\","bsolhsub":"","bull":"","bullet":"","bump":"","bumpE":"","bumpe":"","Bumpeq":"","bumpeq":"","Cacute":"","cacute":"","capand":"","capbrcup":"","capcap":"","cap":"","Cap":"","capcup":"","capdot":"","CapitalDifferentialD":"","caps":"","caret":"","caron":"","Cayleys":"","ccaps":"","Ccaron":"","ccaron":"","Ccedil":"","ccedil":"","Ccirc":"","ccirc":"","Cconint":"","ccups":"","ccupssm":"","Cdot":"","cdot":"","cedil":"","Cedilla":"","cemptyv":"","cent":"","centerdot":"","CenterDot":"","cfr":"","Cfr":"","CHcy":"","chcy":"","check":"","checkmark":"","Chi":"","chi":"","circ":"","circeq":"","circlearrowleft":"","circlearrowright":"","circledast":"","circledcirc":"","circleddash":"","CircleDot":"","circledR":"","circledS":"","CircleMinus":"","CirclePlus":"","CircleTimes":"","cir":"","cirE":"","cire":"","cirfnint":"","cirmid":"","cirscir":"","ClockwiseContourIntegral":"","CloseCurlyDoubleQuote":"","CloseCurlyQuote":"","clubs":"","clubsuit":"","colon":":","Colon":"","Colone":"","colone":"","coloneq":"","comma":",","commat":"@","comp":"","compfn":"","complement":"","complexes":"","cong":"","congdot":"","Congruent":"","conint":"","Conint":"","ContourIntegral":"","copf":"","Copf":"","coprod":"","Coproduct":"","copy":"","COPY":"","copysr":"","CounterClockwiseContourIntegral":"","crarr":"","cross":"","Cross":"","Cscr":"","cscr":"","csub":"","csube":"","csup":"","csupe":"","ctdot":"","cudarrl":"","cudarrr":"","cuepr":"","cuesc":"","cularr":"","cularrp":"","cupbrcap":"","cupcap":"","CupCap":"","cup":"","Cup":"","cupcup":"","cupdot":"","cupor":"","cups":"","curarr":"","curarrm":"","curlyeqprec":"","curlyeqsucc":"","curlyvee":"","curlywedge":"","curren":"","curvearrowleft":"","curvearrowright":"","cuvee":"","cuwed":"","cwconint":"","cwint":"","cylcty":"","dagger":"","Dagger":"","daleth":"","darr":"","Darr":"","dArr":"","dash":"","Dashv":"","dashv":"","dbkarow":"","dblac":"","Dcaron":"","dcaron":"","Dcy":"","dcy":"","ddagger":"","ddarr":"","DD":"","dd":"","DDotrahd":"","ddotseq":"","deg":"","Del":"","Delta":"","delta":"","demptyv":"","dfisht":"","Dfr":"","dfr":"","dHar":"","dharl":"","dharr":"","DiacriticalAcute":"","DiacriticalDot":"","DiacriticalDoubleAcute":"","DiacriticalGrave":"`","DiacriticalTilde":"","diam":"","diamond":"","Diamond":"","diamondsuit":"","diams":"","die":"","DifferentialD":"","digamma":"","disin":"","div":"","divide":"","divideontimes":"","divonx":"","DJcy":"","djcy":"","dlcorn":"","dlcrop":"","dollar":"$","Dopf":"","dopf":"","Dot":"","dot":"","DotDot":"","doteq":"","doteqdot":"","DotEqual":"","dotminus":"","dotplus":"","dotsquare":"","doublebarwedge":"","DoubleContourIntegral":"","DoubleDot":"","DoubleDownArrow":"","DoubleLeftArrow":"","DoubleLeftRightArrow":"","DoubleLeftTee":"","DoubleLongLeftArrow":"","DoubleLongLeftRightArrow":"","DoubleLongRightArrow":"","DoubleRightArrow":"","DoubleRightTee":"","DoubleUpArrow":"","DoubleUpDownArrow":"","DoubleVerticalBar":"","DownArrowBar":"","downarrow":"","DownArrow":"","Downarrow":"","DownArrowUpArrow":"","DownBreve":"","downdownarrows":"","downharpoonleft":"","downharpoonright":"","DownLeftRightVector":"","DownLeftTeeVector":"","DownLeftVectorBar":"","DownLeftVector":"","DownRightTeeVector":"","DownRightVectorBar":"","DownRightVector":"","DownTeeArrow":"","DownTee":"","drbkarow":"","drcorn":"","drcrop":"","Dscr":"","dscr":"","DScy":"","dscy":"","dsol":"","Dstrok":"","dstrok":"","dtdot":"","dtri":"","dtrif":"","duarr":"","duhar":"","dwangle":"","DZcy":"","dzcy":"","dzigrarr":"","Eacute":"","eacute":"","easter":"","Ecaron":"","ecaron":"","Ecirc":"","ecirc":"","ecir":"","ecolon":"","Ecy":"","ecy":"","eDDot":"","Edot":"","edot":"","eDot":"","ee":"","efDot":"","Efr":"","efr":"","eg":"","Egrave":"","egrave":"","egs":"","egsdot":"","el":"","Element":"","elinters":"","ell":"","els":"","elsdot":"","Emacr":"","emacr":"","empty":"","emptyset":"","EmptySmallSquare":"","emptyv":"","EmptyVerySmallSquare":"","emsp13":"","emsp14":"","emsp":"","ENG":"","eng":"","ensp":"","Eogon":"","eogon":"","Eopf":"","eopf":"","epar":"","eparsl":"","eplus":"","epsi":"","Epsilon":"","epsilon":"","epsiv":"","eqcirc":"","eqcolon":"","eqsim":"","eqslantgtr":"","eqslantless":"","Equal":"","equals":"=","EqualTilde":"","equest":"","Equilibrium":"","equiv":"","equivDD":"","eqvparsl":"","erarr":"","erDot":"","escr":"","Escr":"","esdot":"","Esim":"","esim":"","Eta":"","eta":"","ETH":"","eth":"","Euml":"","euml":"","euro":"","excl":"!","exist":"","Exists":"","expectation":"","exponentiale":"","ExponentialE":"","fallingdotseq":"","Fcy":"","fcy":"","female":"","ffilig":"","fflig":"","ffllig":"","Ffr":"","ffr":"","filig":"","FilledSmallSquare":"","FilledVerySmallSquare":"","fjlig":"fj","flat":"","fllig":"","fltns":"","fnof":"","Fopf":"","fopf":"","forall":"","ForAll":"","fork":"","forkv":"","Fouriertrf":"","fpartint":"","frac12":"","frac13":"","frac14":"","frac15":"","frac16":"","frac18":"","frac23":"","frac25":"","frac34":"","frac35":"","frac38":"","frac45":"","frac56":"","frac58":"","frac78":"","frasl":"","frown":"","fscr":"","Fscr":"","gacute":"","Gamma":"","gamma":"","Gammad":"","gammad":"","gap":"","Gbreve":"","gbreve":"","Gcedil":"","Gcirc":"","gcirc":"","Gcy":"","gcy":"","Gdot":"","gdot":"","ge":"","gE":"","gEl":"","gel":"","geq":"","geqq":"","geqslant":"","gescc":"","ges":"","gesdot":"","gesdoto":"","gesdotol":"","gesl":"","gesles":"","Gfr":"","gfr":"","gg":"","Gg":"","ggg":"","gimel":"","GJcy":"","gjcy":"","gla":"","gl":"","glE":"","glj":"","gnap":"","gnapprox":"","gne":"","gnE":"","gneq":"","gneqq":"","gnsim":"","Gopf":"","gopf":"","grave":"`","GreaterEqual":"","GreaterEqualLess":"","GreaterFullEqual":"","GreaterGreater":"","GreaterLess":"","GreaterSlantEqual":"","GreaterTilde":"","Gscr":"","gscr":"","gsim":"","gsime":"","gsiml":"","gtcc":"","gtcir":"","gt":">","GT":">","Gt":"","gtdot":"","gtlPar":"","gtquest":"","gtrapprox":"","gtrarr":"","gtrdot":"","gtreqless":"","gtreqqless":"","gtrless":"","gtrsim":"","gvertneqq":"","gvnE":"","Hacek":"","hairsp":"","half":"","hamilt":"","HARDcy":"","hardcy":"","harrcir":"","harr":"","hArr":"","harrw":"","Hat":"^","hbar":"","Hcirc":"","hcirc":"","hearts":"","heartsuit":"","hellip":"","hercon":"","hfr":"","Hfr":"","HilbertSpace":"","hksearow":"","hkswarow":"","hoarr":"","homtht":"","hookleftarrow":"","hookrightarrow":"","hopf":"","Hopf":"","horbar":"","HorizontalLine":"","hscr":"","Hscr":"","hslash":"","Hstrok":"","hstrok":"","HumpDownHump":"","HumpEqual":"","hybull":"","hyphen":"","Iacute":"","iacute":"","ic":"","Icirc":"","icirc":"","Icy":"","icy":"","Idot":"","IEcy":"","iecy":"","iexcl":"","iff":"","ifr":"","Ifr":"","Igrave":"","igrave":"","ii":"","iiiint":"","iiint":"","iinfin":"","iiota":"","IJlig":"","ijlig":"","Imacr":"","imacr":"","image":"","ImaginaryI":"","imagline":"","imagpart":"","imath":"","Im":"","imof":"","imped":"","Implies":"","incare":"","in":"","infin":"","infintie":"","inodot":"","intcal":"","int":"","Int":"","integers":"","Integral":"","intercal":"","Intersection":"","intlarhk":"","intprod":"","InvisibleComma":"","InvisibleTimes":"","IOcy":"","iocy":"","Iogon":"","iogon":"","Iopf":"","iopf":"","Iota":"","iota":"","iprod":"","iquest":"","iscr":"","Iscr":"","isin":"","isindot":"","isinE":"","isins":"","isinsv":"","isinv":"","it":"","Itilde":"","itilde":"","Iukcy":"","iukcy":"","Iuml":"","iuml":"","Jcirc":"","jcirc":"","Jcy":"","jcy":"","Jfr":"","jfr":"","jmath":"","Jopf":"","jopf":"","Jscr":"","jscr":"","Jsercy":"","jsercy":"","Jukcy":"","jukcy":"","Kappa":"","kappa":"","kappav":"","Kcedil":"","kcedil":"","Kcy":"","kcy":"","Kfr":"","kfr":"","kgreen":"","KHcy":"","khcy":"","KJcy":"","kjcy":"","Kopf":"","kopf":"","Kscr":"","kscr":"","lAarr":"","Lacute":"","lacute":"","laemptyv":"","lagran":"","Lambda":"","lambda":"","lang":"","Lang":"","langd":"","langle":"","lap":"","Laplacetrf":"","laquo":"","larrb":"","larrbfs":"","larr":"","Larr":"","lArr":"","larrfs":"","larrhk":"","larrlp":"","larrpl":"","larrsim":"","larrtl":"","latail":"","lAtail":"","lat":"","late":"","lates":"","lbarr":"","lBarr":"","lbbrk":"","lbrace":"{","lbrack":"[","lbrke":"","lbrksld":"","lbrkslu":"","Lcaron":"","lcaron":"","Lcedil":"","lcedil":"","lceil":"","lcub":"{","Lcy":"","lcy":"","ldca":"","ldquo":"","ldquor":"","ldrdhar":"","ldrushar":"","ldsh":"","le":"","lE":"","LeftAngleBracket":"","LeftArrowBar":"","leftarrow":"","LeftArrow":"","Leftarrow":"","LeftArrowRightArrow":"","leftarrowtail":"","LeftCeiling":"","LeftDoubleBracket":"","LeftDownTeeVector":"","LeftDownVectorBar":"","LeftDownVector":"","LeftFloor":"","leftharpoondown":"","leftharpoonup":"","leftleftarrows":"","leftrightarrow":"","LeftRightArrow":"","Leftrightarrow":"","leftrightarrows":"","leftrightharpoons":"","leftrightsquigarrow":"","LeftRightVector":"","LeftTeeArrow":"","LeftTee":"","LeftTeeVector":"","leftthreetimes":"","LeftTriangleBar":"","LeftTriangle":"","LeftTriangleEqual":"","LeftUpDownVector":"","LeftUpTeeVector":"","LeftUpVectorBar":"","LeftUpVector":"","LeftVectorBar":"","LeftVector":"","lEg":"","leg":"","leq":"","leqq":"","leqslant":"","lescc":"","les":"","lesdot":"","lesdoto":"","lesdotor":"","lesg":"","lesges":"","lessapprox":"","lessdot":"","lesseqgtr":"","lesseqqgtr":"","LessEqualGreater":"","LessFullEqual":"","LessGreater":"","lessgtr":"","LessLess":"","lesssim":"","LessSlantEqual":"","LessTilde":"","lfisht":"","lfloor":"","Lfr":"","lfr":"","lg":"","lgE":"","lHar":"","lhard":"","lharu":"","lharul":"","lhblk":"","LJcy":"","ljcy":"","llarr":"","ll":"","Ll":"","llcorner":"","Lleftarrow":"","llhard":"","lltri":"","Lmidot":"","lmidot":"","lmoustache":"","lmoust":"","lnap":"","lnapprox":"","lne":"","lnE":"","lneq":"","lneqq":"","lnsim":"","loang":"","loarr":"","lobrk":"","longleftarrow":"","LongLeftArrow":"","Longleftarrow":"","longleftrightarrow":"","LongLeftRightArrow":"","Longleftrightarrow":"","longmapsto":"","longrightarrow":"","LongRightArrow":"","Longrightarrow":"","looparrowleft":"","looparrowright":"","lopar":"","Lopf":"","lopf":"","loplus":"","lotimes":"","lowast":"","lowbar":"_","LowerLeftArrow":"","LowerRightArrow":"","loz":"","lozenge":"","lozf":"","lpar":"(","lparlt":"","lrarr":"","lrcorner":"","lrhar":"","lrhard":"","lrm":"","lrtri":"","lsaquo":"","lscr":"","Lscr":"","lsh":"","Lsh":"","lsim":"","lsime":"","lsimg":"","lsqb":"[","lsquo":"","lsquor":"","Lstrok":"","lstrok":"","ltcc":"","ltcir":"","lt":"<","LT":"<","Lt":"","ltdot":"","lthree":"","ltimes":"","ltlarr":"","ltquest":"","ltri":"","ltrie":"","ltrif":"","ltrPar":"","lurdshar":"","luruhar":"","lvertneqq":"","lvnE":"","macr":"","male":"","malt":"","maltese":"","Map":"","map":"","mapsto":"","mapstodown":"","mapstoleft":"","mapstoup":"","marker":"","mcomma":"","Mcy":"","mcy":"","mdash":"","mDDot":"","measuredangle":"","MediumSpace":"","Mellintrf":"","Mfr":"","mfr":"","mho":"","micro":"","midast":"*","midcir":"","mid":"","middot":"","minusb":"","minus":"","minusd":"","minusdu":"","MinusPlus":"","mlcp":"","mldr":"","mnplus":"","models":"","Mopf":"","mopf":"","mp":"","mscr":"","Mscr":"","mstpos":"","Mu":"","mu":"","multimap":"","mumap":"","nabla":"","Nacute":"","nacute":"","nang":"","nap":"","napE":"","napid":"","napos":"","napprox":"","natural":"","naturals":"","natur":"","nbsp":"","nbump":"","nbumpe":"","ncap":"","Ncaron":"","ncaron":"","Ncedil":"","ncedil":"","ncong":"","ncongdot":"","ncup":"","Ncy":"","ncy":"","ndash":"","nearhk":"","nearr":"","neArr":"","nearrow":"","ne":"","nedot":"","NegativeMediumSpace":"","NegativeThickSpace":"","NegativeThinSpace":"","NegativeVeryThinSpace":"","nequiv":"","nesear":"","nesim":"","NestedGreaterGreater":"","NestedLessLess":"","NewLine":"\\n","nexist":"","nexists":"","Nfr":"","nfr":"","ngE":"","nge":"","ngeq":"","ngeqq":"","ngeqslant":"","nges":"","nGg":"","ngsim":"","nGt":"","ngt":"","ngtr":"","nGtv":"","nharr":"","nhArr":"","nhpar":"","ni":"","nis":"","nisd":"","niv":"","NJcy":"","njcy":"","nlarr":"","nlArr":"","nldr":"","nlE":"","nle":"","nleftarrow":"","nLeftarrow":"","nleftrightarrow":"","nLeftrightarrow":"","nleq":"","nleqq":"","nleqslant":"","nles":"","nless":"","nLl":"","nlsim":"","nLt":"","nlt":"","nltri":"","nltrie":"","nLtv":"","nmid":"","NoBreak":"","NonBreakingSpace":"","nopf":"","Nopf":"","Not":"","not":"","NotCongruent":"","NotCupCap":"","NotDoubleVerticalBar":"","NotElement":"","NotEqual":"","NotEqualTilde":"","NotExists":"","NotGreater":"","NotGreaterEqual":"","NotGreaterFullEqual":"","NotGreaterGreater":"","NotGreaterLess":"","NotGreaterSlantEqual":"","NotGreaterTilde":"","NotHumpDownHump":"","NotHumpEqual":"","notin":"","notindot":"","notinE":"","notinva":"","notinvb":"","notinvc":"","NotLeftTriangleBar":"","NotLeftTriangle":"","NotLeftTriangleEqual":"","NotLess":"","NotLessEqual":"","NotLessGreater":"","NotLessLess":"","NotLessSlantEqual":"","NotLessTilde":"","NotNestedGreaterGreater":"","NotNestedLessLess":"","notni":"","notniva":"","notnivb":"","notnivc":"","NotPrecedes":"","NotPrecedesEqual":"","NotPrecedesSlantEqual":"","NotReverseElement":"","NotRightTriangleBar":"","NotRightTriangle":"","NotRightTriangleEqual":"","NotSquareSubset":"","NotSquareSubsetEqual":"","NotSquareSuperset":"","NotSquareSupersetEqual":"","NotSubset":"","NotSubsetEqual":"","NotSucceeds":"","NotSucceedsEqual":"","NotSucceedsSlantEqual":"","NotSucceedsTilde":"","NotSuperset":"","NotSupersetEqual":"","NotTilde":"","NotTildeEqual":"","NotTildeFullEqual":"","NotTildeTilde":"","NotVerticalBar":"","nparallel":"","npar":"","nparsl":"","npart":"","npolint":"","npr":"","nprcue":"","nprec":"","npreceq":"","npre":"","nrarrc":"","nrarr":"","nrArr":"","nrarrw":"","nrightarrow":"","nRightarrow":"","nrtri":"","nrtrie":"","nsc":"","nsccue":"","nsce":"","Nscr":"","nscr":"","nshortmid":"","nshortparallel":"","nsim":"","nsime":"","nsimeq":"","nsmid":"","nspar":"","nsqsube":"","nsqsupe":"","nsub":"","nsubE":"","nsube":"","nsubset":"","nsubseteq":"","nsubseteqq":"","nsucc":"","nsucceq":"","nsup":"","nsupE":"","nsupe":"","nsupset":"","nsupseteq":"","nsupseteqq":"","ntgl":"","Ntilde":"","ntilde":"","ntlg":"","ntriangleleft":"","ntrianglelefteq":"","ntriangleright":"","ntrianglerighteq":"","Nu":"","nu":"","num":"#","numero":"","numsp":"","nvap":"","nvdash":"","nvDash":"","nVdash":"","nVDash":"","nvge":"","nvgt":">","nvHarr":"","nvinfin":"","nvlArr":"","nvle":"","nvlt":"<","nvltrie":"","nvrArr":"","nvrtrie":"","nvsim":"","nwarhk":"","nwarr":"","nwArr":"","nwarrow":"","nwnear":"","Oacute":"","oacute":"","oast":"","Ocirc":"","ocirc":"","ocir":"","Ocy":"","ocy":"","odash":"","Odblac":"","odblac":"","odiv":"","odot":"","odsold":"","OElig":"","oelig":"","ofcir":"","Ofr":"","ofr":"","ogon":"","Ograve":"","ograve":"","ogt":"","ohbar":"","ohm":"","oint":"","olarr":"","olcir":"","olcross":"","oline":"","olt":"","Omacr":"","omacr":"","Omega":"","omega":"","Omicron":"","omicron":"","omid":"","ominus":"","Oopf":"","oopf":"","opar":"","OpenCurlyDoubleQuote":"","OpenCurlyQuote":"","operp":"","oplus":"","orarr":"","Or":"","or":"","ord":"","order":"","orderof":"","ordf":"","ordm":"","origof":"","oror":"","orslope":"","orv":"","oS":"","Oscr":"","oscr":"","Oslash":"","oslash":"","osol":"","Otilde":"","otilde":"","otimesas":"","Otimes":"","otimes":"","Ouml":"","ouml":"","ovbar":"","OverBar":"","OverBrace":"","OverBracket":"","OverParenthesis":"","para":"","parallel":"","par":"","parsim":"","parsl":"","part":"","PartialD":"","Pcy":"","pcy":"","percnt":"%","period":".","permil":"","perp":"","pertenk":"","Pfr":"","pfr":"","Phi":"","phi":"","phiv":"","phmmat":"","phone":"","Pi":"","pi":"","pitchfork":"","piv":"","planck":"","planckh":"","plankv":"","plusacir":"","plusb":"","pluscir":"","plus":"+","plusdo":"","plusdu":"","pluse":"","PlusMinus":"","plusmn":"","plussim":"","plustwo":"","pm":"","Poincareplane":"","pointint":"","popf":"","Popf":"","pound":"","prap":"","Pr":"","pr":"","prcue":"","precapprox":"","prec":"","preccurlyeq":"","Precedes":"","PrecedesEqual":"","PrecedesSlantEqual":"","PrecedesTilde":"","preceq":"","precnapprox":"","precneqq":"","precnsim":"","pre":"","prE":"","precsim":"","prime":"","Prime":"","primes":"","prnap":"","prnE":"","prnsim":"","prod":"","Product":"","profalar":"","profline":"","profsurf":"","prop":"","Proportional":"","Proportion":"","propto":"","prsim":"","prurel":"","Pscr":"","pscr":"","Psi":"","psi":"","puncsp":"","Qfr":"","qfr":"","qint":"","qopf":"","Qopf":"","qprime":"","Qscr":"","qscr":"","quaternions":"","quatint":"","quest":"?","questeq":"","quot":"\\"","QUOT":"\\"","rAarr":"","race":"","Racute":"","racute":"","radic":"","raemptyv":"","rang":"","Rang":"","rangd":"","range":"","rangle":"","raquo":"","rarrap":"","rarrb":"","rarrbfs":"","rarrc":"","rarr":"","Rarr":"","rArr":"","rarrfs":"","rarrhk":"","rarrlp":"","rarrpl":"","rarrsim":"","Rarrtl":"","rarrtl":"","rarrw":"","ratail":"","rAtail":"","ratio":"","rationals":"","rbarr":"","rBarr":"","RBarr":"","rbbrk":"","rbrace":"}","rbrack":"]","rbrke":"","rbrksld":"","rbrkslu":"","Rcaron":"","rcaron":"","Rcedil":"","rcedil":"","rceil":"","rcub":"}","Rcy":"","rcy":"","rdca":"","rdldhar":"","rdquo":"","rdquor":"","rdsh":"","real":"","realine":"","realpart":"","reals":"","Re":"","rect":"","reg":"","REG":"","ReverseElement":"","ReverseEquilibrium":"","ReverseUpEquilibrium":"","rfisht":"","rfloor":"","rfr":"","Rfr":"","rHar":"","rhard":"","rharu":"","rharul":"","Rho":"","rho":"","rhov":"","RightAngleBracket":"","RightArrowBar":"","rightarrow":"","RightArrow":"","Rightarrow":"","RightArrowLeftArrow":"","rightarrowtail":"","RightCeiling":"","RightDoubleBracket":"","RightDownTeeVector":"","RightDownVectorBar":"","RightDownVector":"","RightFloor":"","rightharpoondown":"","rightharpoonup":"","rightleftarrows":"","rightleftharpoons":"","rightrightarrows":"","rightsquigarrow":"","RightTeeArrow":"","RightTee":"","RightTeeVector":"","rightthreetimes":"","RightTriangleBar":"","RightTriangle":"","RightTriangleEqual":"","RightUpDownVector":"","RightUpTeeVector":"","RightUpVectorBar":"","RightUpVector":"","RightVectorBar":"","RightVector":"","ring":"","risingdotseq":"","rlarr":"","rlhar":"","rlm":"","rmoustache":"","rmoust":"","rnmid":"","roang":"","roarr":"","robrk":"","ropar":"","ropf":"","Ropf":"","roplus":"","rotimes":"","RoundImplies":"","rpar":")","rpargt":"","rppolint":"","rrarr":"","Rrightarrow":"","rsaquo":"","rscr":"","Rscr":"","rsh":"","Rsh":"","rsqb":"]","rsquo":"","rsquor":"","rthree":"","rtimes":"","rtri":"","rtrie":"","rtrif":"","rtriltri":"","RuleDelayed":"","ruluhar":"","rx":"","Sacute":"","sacute":"","sbquo":"","scap":"","Scaron":"","scaron":"","Sc":"","sc":"","sccue":"","sce":"","scE":"","Scedil":"","scedil":"","Scirc":"","scirc":"","scnap":"","scnE":"","scnsim":"","scpolint":"","scsim":"","Scy":"","scy":"","sdotb":"","sdot":"","sdote":"","searhk":"","searr":"","seArr":"","searrow":"","sect":"","semi":";","seswar":"","setminus":"","setmn":"","sext":"","Sfr":"","sfr":"","sfrown":"","sharp":"","SHCHcy":"","shchcy":"","SHcy":"","shcy":"","ShortDownArrow":"","ShortLeftArrow":"","shortmid":"","shortparallel":"","ShortRightArrow":"","ShortUpArrow":"","shy":"","Sigma":"","sigma":"","sigmaf":"","sigmav":"","sim":"","simdot":"","sime":"","simeq":"","simg":"","simgE":"","siml":"","simlE":"","simne":"","simplus":"","simrarr":"","slarr":"","SmallCircle":"","smallsetminus":"","smashp":"","smeparsl":"","smid":"","smile":"","smt":"","smte":"","smtes":"","SOFTcy":"","softcy":"","solbar":"","solb":"","sol":"/","Sopf":"","sopf":"","spades":"","spadesuit":"","spar":"","sqcap":"","sqcaps":"","sqcup":"","sqcups":"","Sqrt":"","sqsub":"","sqsube":"","sqsubset":"","sqsubseteq":"","sqsup":"","sqsupe":"","sqsupset":"","sqsupseteq":"","square":"","Square":"","SquareIntersection":"","SquareSubset":"","SquareSubsetEqual":"","SquareSuperset":"","SquareSupersetEqual":"","SquareUnion":"","squarf":"","squ":"","squf":"","srarr":"","Sscr":"","sscr":"","ssetmn":"","ssmile":"","sstarf":"","Star":"","star":"","starf":"","straightepsilon":"","straightphi":"","strns":"","sub":"","Sub":"","subdot":"","subE":"","sube":"","subedot":"","submult":"","subnE":"","subne":"","subplus":"","subrarr":"","subset":"","Subset":"","subseteq":"","subseteqq":"","SubsetEqual":"","subsetneq":"","subsetneqq":"","subsim":"","subsub":"","subsup":"","succapprox":"","succ":"","succcurlyeq":"","Succeeds":"","SucceedsEqual":"","SucceedsSlantEqual":"","SucceedsTilde":"","succeq":"","succnapprox":"","succneqq":"","succnsim":"","succsim":"","SuchThat":"","sum":"","Sum":"","sung":"","sup1":"","sup2":"","sup3":"","sup":"","Sup":"","supdot":"","supdsub":"","supE":"","supe":"","supedot":"","Superset":"","SupersetEqual":"","suphsol":"","suphsub":"","suplarr":"","supmult":"","supnE":"","supne":"","supplus":"","supset":"","Supset":"","supseteq":"","supseteqq":"","supsetneq":"","supsetneqq":"","supsim":"","supsub":"","supsup":"","swarhk":"","swarr":"","swArr":"","swarrow":"","swnwar":"","szlig":"","Tab":"\\t","target":"","Tau":"","tau":"","tbrk":"","Tcaron":"","tcaron":"","Tcedil":"","tcedil":"","Tcy":"","tcy":"","tdot":"","telrec":"","Tfr":"","tfr":"","there4":"","therefore":"","Therefore":"","Theta":"","theta":"","thetasym":"","thetav":"","thickapprox":"","thicksim":"","ThickSpace":"","ThinSpace":"","thinsp":"","thkap":"","thksim":"","THORN":"","thorn":"","tilde":"","Tilde":"","TildeEqual":"","TildeFullEqual":"","TildeTilde":"","timesbar":"","timesb":"","times":"","timesd":"","tint":"","toea":"","topbot":"","topcir":"","top":"","Topf":"","topf":"","topfork":"","tosa":"","tprime":"","trade":"","TRADE":"","triangle":"","triangledown":"","triangleleft":"","trianglelefteq":"","triangleq":"","triangleright":"","trianglerighteq":"","tridot":"","trie":"","triminus":"","TripleDot":"","triplus":"","trisb":"","tritime":"","trpezium":"","Tscr":"","tscr":"","TScy":"","tscy":"","TSHcy":"","tshcy":"","Tstrok":"","tstrok":"","twixt":"","twoheadleftarrow":"","twoheadrightarrow":"","Uacute":"","uacute":"","uarr":"","Uarr":"","uArr":"","Uarrocir":"","Ubrcy":"","ubrcy":"","Ubreve":"","ubreve":"","Ucirc":"","ucirc":"","Ucy":"","ucy":"","udarr":"","Udblac":"","udblac":"","udhar":"","ufisht":"","Ufr":"","ufr":"","Ugrave":"","ugrave":"","uHar":"","uharl":"","uharr":"","uhblk":"","ulcorn":"","ulcorner":"","ulcrop":"","ultri":"","Umacr":"","umacr":"","uml":"","UnderBar":"_","UnderBrace":"","UnderBracket":"","UnderParenthesis":"","Union":"","UnionPlus":"","Uogon":"","uogon":"","Uopf":"","uopf":"","UpArrowBar":"","uparrow":"","UpArrow":"","Uparrow":"","UpArrowDownArrow":"","updownarrow":"","UpDownArrow":"","Updownarrow":"","UpEquilibrium":"","upharpoonleft":"","upharpoonright":"","uplus":"","UpperLeftArrow":"","UpperRightArrow":"","upsi":"","Upsi":"","upsih":"","Upsilon":"","upsilon":"","UpTeeArrow":"","UpTee":"","upuparrows":"","urcorn":"","urcorner":"","urcrop":"","Uring":"","uring":"","urtri":"","Uscr":"","uscr":"","utdot":"","Utilde":"","utilde":"","utri":"","utrif":"","uuarr":"","Uuml":"","uuml":"","uwangle":"","vangrt":"","varepsilon":"","varkappa":"","varnothing":"","varphi":"","varpi":"","varpropto":"","varr":"","vArr":"","varrho":"","varsigma":"","varsubsetneq":"","varsubsetneqq":"","varsupsetneq":"","varsupsetneqq":"","vartheta":"","vartriangleleft":"","vartriangleright":"","vBar":"","Vbar":"","vBarv":"","Vcy":"","vcy":"","vdash":"","vDash":"","Vdash":"","VDash":"","Vdashl":"","veebar":"","vee":"","Vee":"","veeeq":"","vellip":"","verbar":"|","Verbar":"","vert":"|","Vert":"","VerticalBar":"","VerticalLine":"|","VerticalSeparator":"","VerticalTilde":"","VeryThinSpace":"","Vfr":"","vfr":"","vltri":"","vnsub":"","vnsup":"","Vopf":"","vopf":"","vprop":"","vrtri":"","Vscr":"","vscr":"","vsubnE":"","vsubne":"","vsupnE":"","vsupne":"","Vvdash":"","vzigzag":"","Wcirc":"","wcirc":"","wedbar":"","wedge":"","Wedge":"","wedgeq":"","weierp":"","Wfr":"","wfr":"","Wopf":"","wopf":"","wp":"","wr":"","wreath":"","Wscr":"","wscr":"","xcap":"","xcirc":"","xcup":"","xdtri":"","Xfr":"","xfr":"","xharr":"","xhArr":"","Xi":"","xi":"","xlarr":"","xlArr":"","xmap":"","xnis":"","xodot":"","Xopf":"","xopf":"","xoplus":"","xotime":"","xrarr":"","xrArr":"","Xscr":"","xscr":"","xsqcup":"","xuplus":"","xutri":"","xvee":"","xwedge":"","Yacute":"","yacute":"","YAcy":"","yacy":"","Ycirc":"","ycirc":"","Ycy":"","ycy":"","yen":"","Yfr":"","yfr":"","YIcy":"","yicy":"","Yopf":"","yopf":"","Yscr":"","yscr":"","YUcy":"","yucy":"","yuml":"","Yuml":"","Zacute":"","zacute":"","Zcaron":"","zcaron":"","Zcy":"","zcy":"","Zdot":"","zdot":"","zeetrf":"","ZeroWidthSpace":"","Zeta":"","zeta":"","zfr":"","Zfr":"","ZHcy":"","zhcy":"","zigrarr":"","zopf":"","Zopf":"","Zscr":"","zscr":"","zwj":"","zwnj":""}')},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=void 0;var i=n(r(75)),o=new Set(["input","option","optgroup","select","button","datalist","textarea"]),s=new Set(["p"]),a={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:s,h1:s,h2:s,h3:s,h4:s,h5:s,h6:s,select:o,input:o,output:o,button:o,datalist:o,textarea:o,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:s,article:s,aside:s,blockquote:s,details:s,div:s,dl:s,fieldset:s,figcaption:s,figure:s,footer:s,form:s,header:s,hr:s,main:s,nav:s,ol:s,pre:s,section:s,table:s,ul:s,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},c=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),u=new Set(["math","svg"]),l=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),h=/\s|\//,d=function(){function t(t,e){var r,n,o,s,a;void 0===e&&(e={}),this.startIndex=0,this.endIndex=null,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.options=e,this.cbs=null!=t?t:{},this.lowerCaseTagNames=null!==(r=e.lowerCaseTags)&&void 0!==r?r:!e.xmlMode,this.lowerCaseAttributeNames=null!==(n=e.lowerCaseAttributeNames)&&void 0!==n?n:!e.xmlMode,this.tokenizer=new(null!==(o=e.Tokenizer)&&void 0!==o?o:i.default)(this.options,this),null===(a=(s=this.cbs).onparserinit)||void 0===a||a.call(s,this)}return t.prototype.updatePosition=function(t){null===this.endIndex?this.tokenizer.sectionStart<=t?this.startIndex=0:this.startIndex=this.tokenizer.sectionStart-t:this.startIndex=this.endIndex+1,this.endIndex=this.tokenizer.getAbsoluteIndex()},t.prototype.ontext=function(t){var e,r;this.updatePosition(1),this.endIndex--,null===(r=(e=this.cbs).ontext)||void 0===r||r.call(e,t)},t.prototype.onopentagname=function(t){var e,r;if(this.lowerCaseTagNames&&(t=t.toLowerCase()),this.tagname=t,!this.options.xmlMode&&Object.prototype.hasOwnProperty.call(a,t))for(var n=void 0;this.stack.length>0&&a[t].has(n=this.stack[this.stack.length-1]);)this.onclosetag(n);!this.options.xmlMode&&c.has(t)||(this.stack.push(t),u.has(t)?this.foreignContext.push(!0):l.has(t)&&this.foreignContext.push(!1)),null===(r=(e=this.cbs).onopentagname)||void 0===r||r.call(e,t),this.cbs.onopentag&&(this.attribs={})},t.prototype.onopentagend=function(){var t,e;this.updatePosition(1),this.attribs&&(null===(e=(t=this.cbs).onopentag)||void 0===e||e.call(t,this.tagname,this.attribs),this.attribs=null),!this.options.xmlMode&&this.cbs.onclosetag&&c.has(this.tagname)&&this.cbs.onclosetag(this.tagname),this.tagname=""},t.prototype.onclosetag=function(t){if(this.updatePosition(1),this.lowerCaseTagNames&&(t=t.toLowerCase()),(u.has(t)||l.has(t))&&this.foreignContext.pop(),!this.stack.length||!this.options.xmlMode&&c.has(t))this.options.xmlMode||"br"!==t&&"p"!==t||(this.onopentagname(t),this.closeCurrentTag());else{var e=this.stack.lastIndexOf(t);if(-1!==e)if(this.cbs.onclosetag)for(e=this.stack.length-e;e--;)this.cbs.onclosetag(this.stack.pop());else this.stack.length=e;else"p"!==t||this.options.xmlMode||(this.onopentagname(t),this.closeCurrentTag())}},t.prototype.onselfclosingtag=function(){this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?this.closeCurrentTag():this.onopentagend()},t.prototype.closeCurrentTag=function(){var t,e,r=this.tagname;this.onopentagend(),this.stack[this.stack.length-1]===r&&(null===(e=(t=this.cbs).onclosetag)||void 0===e||e.call(t,r),this.stack.pop())},t.prototype.onattribname=function(t){this.lowerCaseAttributeNames&&(t=t.toLowerCase()),this.attribname=t},t.prototype.onattribdata=function(t){this.attribvalue+=t},t.prototype.onattribend=function(t){var e,r;null===(r=(e=this.cbs).onattribute)||void 0===r||r.call(e,this.attribname,this.attribvalue,t),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribname="",this.attribvalue=""},t.prototype.getInstructionName=function(t){var e=t.search(h),r=e<0?t:t.substr(0,e);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r},t.prototype.ondeclaration=function(t){if(this.cbs.onprocessinginstruction){var e=this.getInstructionName(t);this.cbs.onprocessinginstruction("!"+e,"!"+t)}},t.prototype.onprocessinginstruction=function(t){if(this.cbs.onprocessinginstruction){var e=this.getInstructionName(t);this.cbs.onprocessinginstruction("?"+e,"?"+t)}},t.prototype.oncomment=function(t){var e,r,n,i;this.updatePosition(4),null===(r=(e=this.cbs).oncomment)||void 0===r||r.call(e,t),null===(i=(n=this.cbs).oncommentend)||void 0===i||i.call(n)},t.prototype.oncdata=function(t){var e,r,n,i,o,s;this.updatePosition(1),this.options.xmlMode||this.options.recognizeCDATA?(null===(r=(e=this.cbs).oncdatastart)||void 0===r||r.call(e),null===(i=(n=this.cbs).ontext)||void 0===i||i.call(n,t),null===(s=(o=this.cbs).oncdataend)||void 0===s||s.call(o)):this.oncomment("[CDATA["+t+"]]")},t.prototype.onerror=function(t){var e,r;null===(r=(e=this.cbs).onerror)||void 0===r||r.call(e,t)},t.prototype.onend=function(){var t,e;if(this.cbs.onclosetag)for(var r=this.stack.length;r>0;this.cbs.onclosetag(this.stack[--r]));null===(e=(t=this.cbs).onend)||void 0===e||e.call(t)},t.prototype.reset=function(){var t,e,r,n;null===(e=(t=this.cbs).onreset)||void 0===e||e.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack=[],null===(n=(r=this.cbs).onparserinit)||void 0===n||n.call(r,this)},t.prototype.parseComplete=function(t){this.reset(),this.end(t)},t.prototype.write=function(t){this.tokenizer.write(t)},t.prototype.end=function(t){this.tokenizer.end(t)},t.prototype.pause=function(){this.tokenizer.pause()},t.prototype.resume=function(){this.tokenizer.resume()},t.prototype.parseChunk=function(t){this.write(t)},t.prototype.done=function(t){this.end(t)},t}();e.Parser=d},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(60)),o=n(r(38)),s=n(r(59)),a=n(r(39));function c(t){return" "===t||"\n"===t||"\t"===t||"\f"===t||"\r"===t}function u(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"}function l(t,e,r){var n=t.toLowerCase();return t===n?function(t,i){i===n?t._state=e:(t._state=r,t._index--)}:function(i,o){o===n||o===t?i._state=e:(i._state=r,i._index--)}}function h(t,e){var r=t.toLowerCase();return function(n,i){i===r||i===t?n._state=e:(n._state=3,n._index--)}}var d=l("C",24,16),f=l("D",25,16),p=l("A",26,16),m=l("T",27,16),g=l("A",28,16),y=h("R",35),_=h("I",36),v=h("P",37),b=h("T",38),w=l("R",40,1),E=l("I",41,1),S=l("P",42,1),T=l("T",43,1),A=h("Y",45),O=h("L",46),M=h("E",47),k=l("Y",49,1),x=l("L",50,1),N=l("E",51,1),R=h("I",54),I=h("T",55),C=h("L",56),j=h("E",57),L=l("I",58,1),P=l("T",59,1),D=l("L",60,1),F=l("E",61,1),B=l("#",63,64),U=l("X",66,65),q=function(){function t(t,e){var r;this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1,this.cbs=e,this.xmlMode=!!(null==t?void 0:t.xmlMode),this.decodeEntities=null===(r=null==t?void 0:t.decodeEntities)||void 0===r||r}return t.prototype.reset=function(){this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1},t.prototype.write=function(t){this.ended&&this.cbs.onerror(Error(".write() after done!")),this.buffer+=t,this.parse()},t.prototype.end=function(t){this.ended&&this.cbs.onerror(Error(".end() after done!")),t&&this.write(t),this.ended=!0,this.running&&this.finish()},t.prototype.pause=function(){this.running=!1},t.prototype.resume=function(){this.running=!0,this._index<this.buffer.length&&this.parse(),this.ended&&this.finish()},t.prototype.getAbsoluteIndex=function(){return this.bufferOffset+this._index},t.prototype.stateText=function(t){"<"===t?(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this._state=2,this.sectionStart=this._index):!this.decodeEntities||"&"!==t||1!==this.special&&4!==this.special||(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this.baseState=1,this._state=62,this.sectionStart=this._index)},t.prototype.isTagStartChar=function(t){return u(t)||this.xmlMode&&!c(t)&&"/"!==t&&">"!==t},t.prototype.stateBeforeTagName=function(t){"/"===t?this._state=5:"<"===t?(this.cbs.ontext(this.getSection()),this.sectionStart=this._index):">"===t||1!==this.special||c(t)?this._state=1:"!"===t?(this._state=15,this.sectionStart=this._index+1):"?"===t?(this._state=17,this.sectionStart=this._index+1):this.isTagStartChar(t)?(this._state=this.xmlMode||"s"!==t&&"S"!==t?this.xmlMode||"t"!==t&&"T"!==t?3:52:32,this.sectionStart=this._index):this._state=1},t.prototype.stateInTagName=function(t){("/"===t||">"===t||c(t))&&(this.emitToken("onopentagname"),this._state=8,this._index--)},t.prototype.stateBeforeClosingTagName=function(t){c(t)||(">"===t?this._state=1:1!==this.special?4===this.special||"s"!==t&&"S"!==t?4!==this.special||"t"!==t&&"T"!==t?(this._state=1,this._index--):this._state=53:this._state=33:this.isTagStartChar(t)?(this._state=6,this.sectionStart=this._index):(this._state=20,this.sectionStart=this._index))},t.prototype.stateInClosingTagName=function(t){(">"===t||c(t))&&(this.emitToken("onclosetag"),this._state=7,this._index--)},t.prototype.stateAfterClosingTagName=function(t){">"===t&&(this._state=1,this.sectionStart=this._index+1)},t.prototype.stateBeforeAttributeName=function(t){">"===t?(this.cbs.onopentagend(),this._state=1,this.sectionStart=this._index+1):"/"===t?this._state=4:c(t)||(this._state=9,this.sectionStart=this._index)},t.prototype.stateInSelfClosingTag=function(t){">"===t?(this.cbs.onselfclosingtag(),this._state=1,this.sectionStart=this._index+1,this.special=1):c(t)||(this._state=8,this._index--)},t.prototype.stateInAttributeName=function(t){("="===t||"/"===t||">"===t||c(t))&&(this.cbs.onattribname(this.getSection()),this.sectionStart=-1,this._state=10,this._index--)},t.prototype.stateAfterAttributeName=function(t){"="===t?this._state=11:"/"===t||">"===t?(this.cbs.onattribend(void 0),this._state=8,this._index--):c(t)||(this.cbs.onattribend(void 0),this._state=9,this.sectionStart=this._index)},t.prototype.stateBeforeAttributeValue=function(t){'"'===t?(this._state=12,this.sectionStart=this._index+1):"'"===t?(this._state=13,this.sectionStart=this._index+1):c(t)||(this._state=14,this.sectionStart=this._index,this._index--)},t.prototype.handleInAttributeValue=function(t,e){t===e?(this.emitToken("onattribdata"),this.cbs.onattribend(e),this._state=8):this.decodeEntities&&"&"===t&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},t.prototype.stateInAttributeValueDoubleQuotes=function(t){this.handleInAttributeValue(t,'"')},t.prototype.stateInAttributeValueSingleQuotes=function(t){this.handleInAttributeValue(t,"'")},t.prototype.stateInAttributeValueNoQuotes=function(t){c(t)||">"===t?(this.emitToken("onattribdata"),this.cbs.onattribend(null),this._state=8,this._index--):this.decodeEntities&&"&"===t&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},t.prototype.stateBeforeDeclaration=function(t){this._state="["===t?23:"-"===t?18:16},t.prototype.stateInDeclaration=function(t){">"===t&&(this.cbs.ondeclaration(this.getSection()),this._state=1,this.sectionStart=this._index+1)},t.prototype.stateInProcessingInstruction=function(t){">"===t&&(this.cbs.onprocessinginstruction(this.getSection()),this._state=1,this.sectionStart=this._index+1)},t.prototype.stateBeforeComment=function(t){"-"===t?(this._state=19,this.sectionStart=this._index+1):this._state=16},t.prototype.stateInComment=function(t){"-"===t&&(this._state=21)},t.prototype.stateInSpecialComment=function(t){">"===t&&(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index)),this._state=1,this.sectionStart=this._index+1)},t.prototype.stateAfterComment1=function(t){this._state="-"===t?22:19},t.prototype.stateAfterComment2=function(t){">"===t?(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):"-"!==t&&(this._state=19)},t.prototype.stateBeforeCdata6=function(t){"["===t?(this._state=29,this.sectionStart=this._index+1):(this._state=16,this._index--)},t.prototype.stateInCdata=function(t){"]"===t&&(this._state=30)},t.prototype.stateAfterCdata1=function(t){this._state="]"===t?31:29},t.prototype.stateAfterCdata2=function(t){">"===t?(this.cbs.oncdata(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):"]"!==t&&(this._state=29)},t.prototype.stateBeforeSpecialS=function(t){"c"===t||"C"===t?this._state=34:"t"===t||"T"===t?this._state=44:(this._state=3,this._index--)},t.prototype.stateBeforeSpecialSEnd=function(t){2!==this.special||"c"!==t&&"C"!==t?3!==this.special||"t"!==t&&"T"!==t?this._state=1:this._state=48:this._state=39},t.prototype.stateBeforeSpecialLast=function(t,e){("/"===t||">"===t||c(t))&&(this.special=e),this._state=3,this._index--},t.prototype.stateAfterSpecialLast=function(t,e){">"===t||c(t)?(this.special=1,this._state=6,this.sectionStart=this._index-e,this._index--):this._state=1},t.prototype.parseFixedEntity=function(t){if(void 0===t&&(t=this.xmlMode?a.default:o.default),this.sectionStart+1<this._index){var e=this.buffer.substring(this.sectionStart+1,this._index);Object.prototype.hasOwnProperty.call(t,e)&&(this.emitPartial(t[e]),this.sectionStart=this._index+1)}},t.prototype.parseLegacyEntity=function(){for(var t=this.sectionStart+1,e=Math.min(this._index-t,6);e>=2;){var r=this.buffer.substr(t,e);if(Object.prototype.hasOwnProperty.call(s.default,r))return this.emitPartial(s.default[r]),void(this.sectionStart+=e+1);e--}},t.prototype.stateInNamedEntity=function(t){";"===t?(this.parseFixedEntity(),1===this.baseState&&this.sectionStart+1<this._index&&!this.xmlMode&&this.parseLegacyEntity(),this._state=this.baseState):(t<"0"||t>"9")&&!u(t)&&(this.xmlMode||this.sectionStart+1===this._index||(1!==this.baseState?"="!==t&&this.parseFixedEntity(s.default):this.parseLegacyEntity()),this._state=this.baseState,this._index--)},t.prototype.decodeNumericEntity=function(t,e,r){var n=this.sectionStart+t;if(n!==this._index){var o=this.buffer.substring(n,this._index),s=parseInt(o,e);this.emitPartial(i.default(s)),this.sectionStart=r?this._index+1:this._index}this._state=this.baseState},t.prototype.stateInNumericEntity=function(t){";"===t?this.decodeNumericEntity(2,10,!0):(t<"0"||t>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(2,10,!1),this._index--)},t.prototype.stateInHexEntity=function(t){";"===t?this.decodeNumericEntity(3,16,!0):(t<"a"||t>"f")&&(t<"A"||t>"F")&&(t<"0"||t>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(3,16,!1),this._index--)},t.prototype.cleanup=function(){this.sectionStart<0?(this.buffer="",this.bufferOffset+=this._index,this._index=0):this.running&&(1===this._state?(this.sectionStart!==this._index&&this.cbs.ontext(this.buffer.substr(this.sectionStart)),this.buffer="",this.bufferOffset+=this._index,this._index=0):this.sectionStart===this._index?(this.buffer="",this.bufferOffset+=this._index,this._index=0):(this.buffer=this.buffer.substr(this.sectionStart),this._index-=this.sectionStart,this.bufferOffset+=this.sectionStart),this.sectionStart=0)},t.prototype.parse=function(){for(;this._index<this.buffer.length&&this.running;){var t=this.buffer.charAt(this._index);1===this._state?this.stateText(t):12===this._state?this.stateInAttributeValueDoubleQuotes(t):9===this._state?this.stateInAttributeName(t):19===this._state?this.stateInComment(t):20===this._state?this.stateInSpecialComment(t):8===this._state?this.stateBeforeAttributeName(t):3===this._state?this.stateInTagName(t):6===this._state?this.stateInClosingTagName(t):2===this._state?this.stateBeforeTagName(t):10===this._state?this.stateAfterAttributeName(t):13===this._state?this.stateInAttributeValueSingleQuotes(t):11===this._state?this.stateBeforeAttributeValue(t):5===this._state?this.stateBeforeClosingTagName(t):7===this._state?this.stateAfterClosingTagName(t):32===this._state?this.stateBeforeSpecialS(t):21===this._state?this.stateAfterComment1(t):14===this._state?this.stateInAttributeValueNoQuotes(t):4===this._state?this.stateInSelfClosingTag(t):16===this._state?this.stateInDeclaration(t):15===this._state?this.stateBeforeDeclaration(t):22===this._state?this.stateAfterComment2(t):18===this._state?this.stateBeforeComment(t):33===this._state?this.stateBeforeSpecialSEnd(t):53===this._state?L(this,t):39===this._state?w(this,t):40===this._state?E(this,t):41===this._state?S(this,t):34===this._state?y(this,t):35===this._state?_(this,t):36===this._state?v(this,t):37===this._state?b(this,t):38===this._state?this.stateBeforeSpecialLast(t,2):42===this._state?T(this,t):43===this._state?this.stateAfterSpecialLast(t,6):44===this._state?A(this,t):29===this._state?this.stateInCdata(t):45===this._state?O(this,t):46===this._state?M(this,t):47===this._state?this.stateBeforeSpecialLast(t,3):48===this._state?k(this,t):49===this._state?x(this,t):50===this._state?N(this,t):51===this._state?this.stateAfterSpecialLast(t,5):52===this._state?R(this,t):54===this._state?I(this,t):55===this._state?C(this,t):56===this._state?j(this,t):57===this._state?this.stateBeforeSpecialLast(t,4):58===this._state?P(this,t):59===this._state?D(this,t):60===this._state?F(this,t):61===this._state?this.stateAfterSpecialLast(t,5):17===this._state?this.stateInProcessingInstruction(t):64===this._state?this.stateInNamedEntity(t):23===this._state?d(this,t):62===this._state?B(this,t):24===this._state?f(this,t):25===this._state?p(this,t):30===this._state?this.stateAfterCdata1(t):31===this._state?this.stateAfterCdata2(t):26===this._state?m(this,t):27===this._state?g(this,t):28===this._state?this.stateBeforeCdata6(t):66===this._state?this.stateInHexEntity(t):65===this._state?this.stateInNumericEntity(t):63===this._state?U(this,t):this.cbs.onerror(Error("unknown _state"),this._state),this._index++}this.cleanup()},t.prototype.finish=function(){this.sectionStart<this._index&&this.handleTrailingData(),this.cbs.onend()},t.prototype.handleTrailingData=function(){var t=this.buffer.substr(this.sectionStart);29===this._state||30===this._state||31===this._state?this.cbs.oncdata(t):19===this._state||21===this._state||22===this._state?this.cbs.oncomment(t):64!==this._state||this.xmlMode?65!==this._state||this.xmlMode?66!==this._state||this.xmlMode?3!==this._state&&8!==this._state&&11!==this._state&&10!==this._state&&9!==this._state&&13!==this._state&&12!==this._state&&14!==this._state&&6!==this._state&&this.cbs.ontext(t):(this.decodeNumericEntity(3,16,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.decodeNumericEntity(2,10,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.parseLegacyEntity(),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData()))},t.prototype.getSection=function(){return this.buffer.substring(this.sectionStart,this._index)},t.prototype.emitToken=function(t){this.cbs[t](this.getSection()),this.sectionStart=-1},t.prototype.emitPartial=function(t){1!==this.baseState?this.cbs.onattribdata(t):this.cbs.ontext(t)},t}();e.default=q},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.cloneNode=e.hasChildren=e.isDocument=e.isDirective=e.isComment=e.isText=e.isCDATA=e.isTag=e.Element=e.Document=e.NodeWithChildren=e.ProcessingInstruction=e.Comment=e.Text=e.DataNode=e.Node=void 0;var s=r(33),a=new Map([[s.ElementType.Tag,1],[s.ElementType.Script,1],[s.ElementType.Style,1],[s.ElementType.Directive,1],[s.ElementType.Text,3],[s.ElementType.CDATA,4],[s.ElementType.Comment,8],[s.ElementType.Root,9]]),c=function(){function t(t){this.type=t,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(t.prototype,"nodeType",{get:function(){var t;return null!==(t=a.get(this.type))&&void 0!==t?t:1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),t.prototype.cloneNode=function(t){return void 0===t&&(t=!1),E(this,t)},t}();e.Node=c;var u=function(t){function e(e,r){var n=t.call(this,e)||this;return n.data=r,n}return i(e,t),Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(t){this.data=t},enumerable:!1,configurable:!0}),e}(c);e.DataNode=u;var l=function(t){function e(e){return t.call(this,s.ElementType.Text,e)||this}return i(e,t),e}(u);e.Text=l;var h=function(t){function e(e){return t.call(this,s.ElementType.Comment,e)||this}return i(e,t),e}(u);e.Comment=h;var d=function(t){function e(e,r){var n=t.call(this,s.ElementType.Directive,r)||this;return n.name=e,n}return i(e,t),e}(u);e.ProcessingInstruction=d;var f=function(t){function e(e,r){var n=t.call(this,e)||this;return n.children=r,n}return i(e,t),Object.defineProperty(e.prototype,"firstChild",{get:function(){var t;return null!==(t=this.children[0])&&void 0!==t?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(t){this.children=t},enumerable:!1,configurable:!0}),e}(c);e.NodeWithChildren=f;var p=function(t){function e(e){return t.call(this,s.ElementType.Root,e)||this}return i(e,t),e}(f);e.Document=p;var m=function(t){function e(e,r,n,i){void 0===n&&(n=[]),void 0===i&&(i="script"===e?s.ElementType.Script:"style"===e?s.ElementType.Style:s.ElementType.Tag);var o=t.call(this,i,n)||this;return o.name=e,o.attribs=r,o}return i(e,t),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(t){this.name=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var t=this;return Object.keys(this.attribs).map((function(e){var r,n;return{name:e,value:t.attribs[e],namespace:null===(r=t["x-attribsNamespace"])||void 0===r?void 0:r[e],prefix:null===(n=t["x-attribsPrefix"])||void 0===n?void 0:n[e]}}))},enumerable:!1,configurable:!0}),e}(f);function g(t){return s.isTag(t)}function y(t){return t.type===s.ElementType.CDATA}function _(t){return t.type===s.ElementType.Text}function v(t){return t.type===s.ElementType.Comment}function b(t){return t.type===s.ElementType.Directive}function w(t){return t.type===s.ElementType.Root}function E(t,e){var r;if(void 0===e&&(e=!1),_(t))r=new l(t.data);else if(v(t))r=new h(t.data);else if(g(t)){var n=e?S(t.children):[],i=new m(t.name,o({},t.attribs),n);n.forEach((function(t){return t.parent=i})),t["x-attribsNamespace"]&&(i["x-attribsNamespace"]=o({},t["x-attribsNamespace"])),t["x-attribsPrefix"]&&(i["x-attribsPrefix"]=o({},t["x-attribsPrefix"])),r=i}else if(y(t)){n=e?S(t.children):[];var a=new f(s.ElementType.CDATA,n);n.forEach((function(t){return t.parent=a})),r=a}else if(w(t)){n=e?S(t.children):[];var c=new p(n);n.forEach((function(t){return t.parent=c})),t["x-mode"]&&(c["x-mode"]=t["x-mode"]),r=c}else{if(!b(t))throw new Error("Not implemented yet: "+t.type);var u=new d(t.name,t.data);null!=t["x-name"]&&(u["x-name"]=t["x-name"],u["x-publicId"]=t["x-publicId"],u["x-systemId"]=t["x-systemId"]),r=u}return r.startIndex=t.startIndex,r.endIndex=t.endIndex,r}function S(t){for(var e=t.map((function(t){return E(t,!0)})),r=1;r<e.length;r++)e[r].prev=e[r-1],e[r-1].next=e[r];return e}e.Element=m,e.isTag=g,e.isCDATA=y,e.isText=_,e.isComment=v,e.isDirective=b,e.isDocument=w,e.hasChildren=function(t){return Object.prototype.hasOwnProperty.call(t,"children")},e.cloneNode=E},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&o(e,t,r);return s(e,t),e},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.parseFeed=e.FeedHandler=void 0;var u,l,h=c(r(16)),d=a(r(78)),f=r(74);!function(t){t[t.image=0]="image",t[t.audio=1]="audio",t[t.video=2]="video",t[t.document=3]="document",t[t.executable=4]="executable"}(u||(u={})),function(t){t[t.sample=0]="sample",t[t.full=1]="full",t[t.nonstop=2]="nonstop"}(l||(l={}));var p=function(t){function e(e,r){return"object"==typeof e&&(r=e=void 0),t.call(this,e,r)||this}return i(e,t),e.prototype.onend=function(){var t,e,r=y(w,this.dom);if(r){var n={};if("feed"===r.name){var i=r.children;n.type="atom",b(n,"id","id",i),b(n,"title","title",i);var o=v("href",y("link",i));o&&(n.link=o),b(n,"description","subtitle",i),(s=_("updated",i))&&(n.updated=new Date(s)),b(n,"author","email",i,!0),n.items=g("entry",i).map((function(t){var e={},r=t.children;b(e,"id","id",r),b(e,"title","title",r);var n=v("href",y("link",r));n&&(e.link=n);var i=_("summary",r)||_("content",r);i&&(e.description=i);var o=_("updated",r);return o&&(e.pubDate=new Date(o)),e.media=m(r),e}))}else{var s;i=null!==(e=null===(t=y("channel",r.children))||void 0===t?void 0:t.children)&&void 0!==e?e:[];n.type=r.name.substr(0,3),n.id="",b(n,"title","title",i),b(n,"link","link",i),b(n,"description","description",i),(s=_("lastBuildDate",i))&&(n.updated=new Date(s)),b(n,"author","managingEditor",i,!0),n.items=g("item",r.children).map((function(t){var e={},r=t.children;b(e,"id","guid",r),b(e,"title","title",r),b(e,"link","link",r),b(e,"description","description",r);var n=_("pubDate",r);return n&&(e.pubDate=new Date(n)),e.media=m(r),e}))}this.feed=n,this.handleCallback(null)}else this.handleCallback(new Error("couldn't find root of feed"))},e}(h.default);function m(t){return g("media:content",t).map((function(t){var e={medium:t.attribs.medium,isDefault:!!t.attribs.isDefault};return t.attribs.url&&(e.url=t.attribs.url),t.attribs.fileSize&&(e.fileSize=parseInt(t.attribs.fileSize,10)),t.attribs.type&&(e.type=t.attribs.type),t.attribs.expression&&(e.expression=t.attribs.expression),t.attribs.bitrate&&(e.bitrate=parseInt(t.attribs.bitrate,10)),t.attribs.framerate&&(e.framerate=parseInt(t.attribs.framerate,10)),t.attribs.samplingrate&&(e.samplingrate=parseInt(t.attribs.samplingrate,10)),t.attribs.channels&&(e.channels=parseInt(t.attribs.channels,10)),t.attribs.duration&&(e.duration=parseInt(t.attribs.duration,10)),t.attribs.height&&(e.height=parseInt(t.attribs.height,10)),t.attribs.width&&(e.width=parseInt(t.attribs.width,10)),t.attribs.lang&&(e.lang=t.attribs.lang),e}))}function g(t,e){return d.getElementsByTagName(t,e,!0)}function y(t,e){return d.getElementsByTagName(t,e,!0,1)[0]}function _(t,e,r){return void 0===r&&(r=!1),d.getText(d.getElementsByTagName(t,e,r,1)).trim()}function v(t,e){return e?e.attribs[t]:null}function b(t,e,r,n,i){void 0===i&&(i=!1);var o=_(r,n,i);o&&(t[e]=o)}function w(t){return"rss"===t||"feed"===t||"rdf:RDF"===t}e.FeedHandler=p,e.parseFeed=function(t,e){void 0===e&&(e={xmlMode:!0});var r=new p(e);return new f.Parser(r,e).end(t),r.feed}},function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.hasChildren=e.isDocument=e.isComment=e.isText=e.isCDATA=e.isTag=void 0,i(r(171),e),i(r(174),e),i(r(175),e),i(r(79),e),i(r(176),e),i(r(177),e);var o=r(16);Object.defineProperty(e,"isTag",{enumerable:!0,get:function(){return o.isTag}}),Object.defineProperty(e,"isCDATA",{enumerable:!0,get:function(){return o.isCDATA}}),Object.defineProperty(e,"isText",{enumerable:!0,get:function(){return o.isText}}),Object.defineProperty(e,"isComment",{enumerable:!0,get:function(){return o.isComment}}),Object.defineProperty(e,"isDocument",{enumerable:!0,get:function(){return o.isDocument}}),Object.defineProperty(e,"hasChildren",{enumerable:!0,get:function(){return o.hasChildren}})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findAll=e.existsOne=e.findOne=e.findOneChild=e.find=e.filter=void 0;var n=r(16);function i(t,e,r,o){for(var s=[],a=0,c=e;a<c.length;a++){var u=c[a];if(t(u)&&(s.push(u),--o<=0))break;if(r&&n.hasChildren(u)&&u.children.length>0){var l=i(t,u.children,r,o);if(s.push.apply(s,l),(o-=l.length)<=0)break}}return s}e.filter=function(t,e,r,n){return void 0===r&&(r=!0),void 0===n&&(n=1/0),Array.isArray(e)||(e=[e]),i(t,e,r,n)},e.find=i,e.findOneChild=function(t,e){return e.find(t)},e.findOne=function t(e,r,i){void 0===i&&(i=!0);for(var o=null,s=0;s<r.length&&!o;s++){var a=r[s];n.isTag(a)&&(e(a)?o=a:i&&a.children.length>0&&(o=t(e,a.children)))}return o},e.existsOne=function t(e,r){return r.some((function(r){return n.isTag(r)&&(e(r)||r.children.length>0&&t(e,r.children))}))},e.findAll=function(t,e){for(var r,i,o=[],s=e.filter(n.isTag);i=s.shift();){var a=null===(r=i.children)||void 0===r?void 0:r.filter(n.isTag);a&&a.length>0&&s.unshift.apply(s,a),t(i)&&o.push(i)}return o}},function(t,e,r){"use strict";function n(t,e){return s(t)||function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}(t,e)||o()}function i(t){return s(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function s(t){if(Array.isArray(t))return t}function a(t,e,r,n,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,i)}function c(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function s(t){a(o,n,i,s,c,"next",t)}function c(t){a(o,n,i,s,c,"throw",t)}s(void 0)}))}}var u,l,h,d,f,p,m,g,y,_=[].splice;y=r(17),f=r(178),h=r(179),d=r(180),p=r(181),l=r(24),m=r(183),g=r(184),u=function(){class t{constructor(e={},...r){var n,i;this._addToQueue=this._addToQueue.bind(this),this._validateOptions(e,r),y.load(e,this.instanceDefaults,this),this._queues=new f(10),this._scheduled={},this._states=new m(["RECEIVED","QUEUED","RUNNING","EXECUTING"].concat(this.trackDoneStatus?["DONE"]:[])),this._limiter=null,this.Events=new l(this),this._submitLock=new g("submit",this.Promise),this._registerLock=new g("register",this.Promise),i=y.load(e,this.storeDefaults,{}),this._store=function(){if("redis"===this.datastore||"ioredis"===this.datastore||null!=this.connection)return n=y.load(e,this.redisStoreDefaults,{}),new p(this,i,n);if("local"===this.datastore)return n=y.load(e,this.localStoreDefaults,{}),new d(this,i,n);throw new t.prototype.BottleneckError("Invalid datastore type: "+this.datastore)}.call(this),this._queues.on("leftzero",()=>{var t;return null!=(t=this._store.heartbeat)&&"function"==typeof t.ref?t.ref():void 0}),this._queues.on("zero",()=>{var t;return null!=(t=this._store.heartbeat)&&"function"==typeof t.unref?t.unref():void 0})}_validateOptions(e,r){if(null==e||"object"!=typeof e||0!==r.length)throw new t.prototype.BottleneckError("Bottleneck v2 takes a single object argument. Refer to https://github.com/SGrondin/bottleneck#upgrading-to-v2 if you're upgrading from Bottleneck v1.")}ready(){return this._store.ready}clients(){return this._store.clients}channel(){return"b_"+this.id}channel_client(){return`b_${this.id}_${this._store.clientId}`}publish(t){return this._store.__publish__(t)}disconnect(t=!0){return this._store.__disconnect__(t)}chain(t){return this._limiter=t,this}queued(t){return this._queues.queued(t)}clusterQueued(){return this._store.__queued__()}empty(){return 0===this.queued()&&this._submitLock.isEmpty()}running(){return this._store.__running__()}done(){return this._store.__done__()}jobStatus(t){return this._states.jobStatus(t)}jobs(t){return this._states.statusJobs(t)}counts(){return this._states.statusCounts()}_randomIndex(){return Math.random().toString(36).slice(2)}check(t=1){return this._store.__check__(t)}_clearGlobalState(t){return null!=this._scheduled[t]&&(clearTimeout(this._scheduled[t].expiration),delete this._scheduled[t],!0)}_free(t,e,r,n){var i=this;return c((function*(){var e,o;try{if(o=(yield i._store.__free__(t,r.weight)).running,i.Events.trigger("debug","Freed "+r.id,n),0===o&&i.empty())return i.Events.trigger("idle")}catch(t){return e=t,i.Events.trigger("error",e)}}))()}_run(t,e,r){var n,i,o;return e.doRun(),n=this._clearGlobalState.bind(this,t),o=this._run.bind(this,t,e),i=this._free.bind(this,t,e),this._scheduled[t]={timeout:setTimeout(()=>e.doExecute(this._limiter,n,o,i),r),expiration:null!=e.options.expiration?setTimeout((function(){return e.doExpire(n,o,i)}),r+e.options.expiration):void 0,job:e}}_drainOne(t){return this._registerLock.schedule(()=>{var e,r,n,i,o;if(0===this.queued())return this.Promise.resolve(null);o=this._queues.getFirst();var s=n=o.first();return i=s.options,e=s.args,null!=t&&i.weight>t?this.Promise.resolve(null):(this.Events.trigger("debug","Draining "+i.id,{args:e,options:i}),r=this._randomIndex(),this._store.__register__(r,i.weight,i.expiration).then(({success:t,wait:s,reservoir:a})=>{var c;return this.Events.trigger("debug","Drained "+i.id,{success:t,args:e,options:i}),t?(o.shift(),(c=this.empty())&&this.Events.trigger("empty"),0===a&&this.Events.trigger("depleted",c),this._run(r,n,s),this.Promise.resolve(i.weight)):this.Promise.resolve(null)}))})}_drainAll(t,e=0){return this._drainOne(t).then(r=>{var n;return null!=r?(n=null!=t?t-r:t,this._drainAll(n,e+r)):this.Promise.resolve(e)}).catch(t=>this.Events.trigger("error",t))}_dropAllQueued(t){return this._queues.shiftAll((function(e){return e.doDrop({message:t})}))}stop(e={}){var r,n;return e=y.load(e,this.stopDefaults),n=t=>{var e;return e=()=>{var e;return(e=this._states.counts)[0]+e[1]+e[2]+e[3]===t},new this.Promise((t,r)=>e()?t():this.on("done",()=>{if(e())return this.removeAllListeners("done"),t()}))},r=e.dropWaitingJobs?(this._run=function(t,r){return r.doDrop({message:e.dropErrorMessage})},this._drainOne=()=>this.Promise.resolve(null),this._registerLock.schedule(()=>this._submitLock.schedule(()=>{var t,r,i;for(t in r=this._scheduled)i=r[t],"RUNNING"===this.jobStatus(i.job.options.id)&&(clearTimeout(i.timeout),clearTimeout(i.expiration),i.job.doDrop({message:e.dropErrorMessage}));return this._dropAllQueued(e.dropErrorMessage),n(0)}))):this.schedule({priority:9,weight:0},()=>n(1)),this._receive=function(r){return r._reject(new t.prototype.BottleneckError(e.enqueueErrorMessage))},this.stop=()=>this.Promise.reject(new t.prototype.BottleneckError("stop() has already been called")),r}_addToQueue(e){var r=this;return c((function*(){var n,i,o,s,a,c,u;n=e.args,s=e.options;try{var l=yield r._store.__submit__(r.queued(),s.weight);a=l.reachedHWM,i=l.blocked,u=l.strategy}catch(t){return o=t,r.Events.trigger("debug","Could not queue "+s.id,{args:n,options:s,error:o}),e.doDrop({error:o}),!1}return i?(e.doDrop(),!0):a&&(null!=(c=u===t.prototype.strategy.LEAK?r._queues.shiftLastFrom(s.priority):u===t.prototype.strategy.OVERFLOW_PRIORITY?r._queues.shiftLastFrom(s.priority+1):u===t.prototype.strategy.OVERFLOW?e:void 0)&&c.doDrop(),null==c||u===t.prototype.strategy.OVERFLOW)?(null==c&&e.doDrop(),a):(e.doQueue(a,i),r._queues.push(e),yield r._drainAll(),a)}))()}_receive(e){return null!=this._states.jobStatus(e.options.id)?(e._reject(new t.prototype.BottleneckError(`A job with the same id already exists (id=${e.options.id})`)),!1):(e.doReceive(),this._submitLock.schedule(this._addToQueue,e))}submit(...t){var e,r,o,s,a,c,u,l;"function"==typeof t[0]?(a=i(t),r=a[0],t=a.slice(1),c=n(_.call(t,-1),1),e=c[0],s=y.load({},this.jobDefaults)):(s=(u=i(t))[0],r=u[1],t=u.slice(2),l=n(_.call(t,-1),1),e=l[0],s=y.load(s,this.jobDefaults));return(o=new h((...t)=>new this.Promise((function(e,n){return r(...t,(function(...t){return(null!=t[0]?n:e)(t)}))})),t,s,this.jobDefaults,this.rejectOnDrop,this.Events,this._states,this.Promise)).promise.then((function(t){return"function"==typeof e?e(...t):void 0})).catch((function(t){return Array.isArray(t)?"function"==typeof e?e(...t):void 0:"function"==typeof e?e(t):void 0})),this._receive(o)}schedule(...t){var e,r,n;if("function"==typeof t[0]){var o=i(t);n=o[0],t=o.slice(1),r={}}else{var s=i(t);r=s[0],n=s[1],t=s.slice(2)}return e=new h(n,t,r,this.jobDefaults,this.rejectOnDrop,this.Events,this._states,this.Promise),this._receive(e),e.promise}wrap(t){var e,r;return e=this.schedule.bind(this),(r=function(...r){return e(t.bind(this),...r)}).withOptions=function(r,...n){return e(r,t,...n)},r}updateSettings(t={}){var e=this;return c((function*(){return yield e._store.__updateSettings__(y.overwrite(t,e.storeDefaults)),y.overwrite(t,e.instanceDefaults,e),e}))()}currentReservoir(){return this._store.__currentReservoir__()}incrementReservoir(t=0){return this._store.__incrementReservoir__(t)}}return t.default=t,t.Events=l,t.version=t.prototype.version=r(185).version,t.strategy=t.prototype.strategy={LEAK:1,OVERFLOW:2,OVERFLOW_PRIORITY:4,BLOCK:3},t.BottleneckError=t.prototype.BottleneckError=r(30),t.Group=t.prototype.Group=r(186),t.RedisConnection=t.prototype.RedisConnection=r(47),t.IORedisConnection=t.prototype.IORedisConnection=r(49),t.Batcher=t.prototype.Batcher=r(187),t.prototype.jobDefaults={priority:5,weight:1,expiration:null,id:"<no-id>"},t.prototype.storeDefaults={maxConcurrent:null,minTime:0,highWater:null,strategy:t.prototype.strategy.LEAK,penalty:null,reservoir:null,reservoirRefreshInterval:null,reservoirRefreshAmount:null,reservoirIncreaseInterval:null,reservoirIncreaseAmount:null,reservoirIncreaseMaximum:null},t.prototype.localStoreDefaults={Promise:Promise,timeout:null,heartbeatInterval:250},t.prototype.redisStoreDefaults={Promise:Promise,timeout:null,heartbeatInterval:5e3,clientTimeout:1e4,Redis:null,clientOptions:{},clusterNodes:null,clearDatastore:!1,connection:null},t.prototype.instanceDefaults={datastore:"local",connection:null,id:"<no-id>",rejectOnDrop:!0,trackDoneStatus:!1,Promise:Promise},t.prototype.stopDefaults={enqueueErrorMessage:"This limiter has been stopped and cannot accept new jobs.",dropWaitingJobs:!0,dropErrorMessage:"This limiter has been stopped."},t}.call(void 0),t.exports=u},function(t,e,r){"use strict";var n;n=class{constructor(t,e){this.incr=t,this.decr=e,this._first=null,this._last=null,this.length=0}push(t){var e;this.length++,"function"==typeof this.incr&&this.incr(),e={value:t,prev:this._last,next:null},null!=this._last?(this._last.next=e,this._last=e):this._first=this._last=e}shift(){var t;if(null!=this._first)return this.length--,"function"==typeof this.decr&&this.decr(),t=this._first.value,null!=(this._first=this._first.next)?this._first.prev=null:this._last=null,t}first(){if(null!=this._first)return this._first.value}getArray(){var t,e,r;for(t=this._first,r=[];null!=t;)r.push((e=t,t=t.next,e.value));return r}forEachShift(t){var e;for(e=this.shift();null!=e;)t(e),e=this.shift()}debug(){var t,e,r,n,i;for(t=this._first,i=[];null!=t;)i.push((e=t,t=t.next,{value:e.value,prev:null!=(r=e.prev)?r.value:void 0,next:null!=(n=e.next)?n.value:void 0}));return i}},t.exports=n},function(t,e,r){"use strict";const n=r(4).PassThrough,i=Array.prototype.slice;function o(t,e){if(Array.isArray(t))for(let r=0,n=t.length;r<n;r++)t[r]=o(t[r],e);else{if(!t._readableState&&t.pipe&&(t=t.pipe(n(e))),!t._readableState||!t.pause||!t.pipe)throw new Error("Only readable stream can be merged.");t.pause()}return t}t.exports=function(){const t=[],e=i.call(arguments);let r=!1,s=e[e.length-1];s&&!Array.isArray(s)&&null==s.pipe?e.pop():s={};const a=!1!==s.end,c=!0===s.pipeError;null==s.objectMode&&(s.objectMode=!0);null==s.highWaterMark&&(s.highWaterMark=65536);const u=n(s);function l(){for(let e=0,r=arguments.length;e<r;e++)t.push(o(arguments[e],s));return h(),this}function h(){if(r)return;r=!0;let e=t.shift();if(!e)return void process.nextTick(d);Array.isArray(e)||(e=[e]);let n=e.length+1;function i(){--n>0||(r=!1,h())}function o(t){function e(){t.removeListener("merge2UnpipeEnd",e),t.removeListener("end",e),c&&t.removeListener("error",r),i()}function r(t){u.emit("error",t)}if(t._readableState.endEmitted)return i();t.on("merge2UnpipeEnd",e),t.on("end",e),c&&t.on("error",r),t.pipe(u,{end:!1}),t.resume()}for(let t=0;t<e.length;t++)o(e[t]);i()}function d(){r=!1,u.emit("queueDrain"),a&&u.end()}u.setMaxListeners(0),u.add=l,u.on("unpipe",(function(t){t.emit("merge2UnpipeEnd")})),e.length&&l.apply(null,e);return u}},function(t,e,r){"use strict";const n=r(189),i=r(211),o=r(237),s=r(238),a=r(240),c=r(18);async function u(t,e){h(t);const r=l(t,i.default,e),n=await Promise.all(r);return c.array.flatten(n)}function l(t,e,r){const i=[].concat(t),o=new a.default(r),s=n.generate(i,o),c=new e(o);return s.map(c.read,c)}function h(t){if(![].concat(t).every(t=>c.string.isString(t)&&!c.string.isEmpty(t)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}!function(t){t.sync=function(t,e){h(t);const r=l(t,s.default,e);return c.array.flatten(r)},t.stream=function(t,e){h(t);const r=l(t,o.default,e);return c.stream.merge(r)},t.generateTasks=function(t,e){h(t);const r=[].concat(t),i=new a.default(e);return n.generate(r,i)},t.isDynamicPattern=function(t,e){h(t);const r=new a.default(e);return c.pattern.isDynamicPattern(t,r)},t.escapePath=function(t){return h(t),c.path.escape(t)}}(u||(u={})),t.exports=u},function(t,e,r){"use strict";
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const n=r(11),i=r(201),o=t=>null!==t&&"object"==typeof t&&!Array.isArray(t),s=t=>"number"==typeof t||"string"==typeof t&&""!==t,a=t=>Number.isInteger(+t),c=t=>{let e=""+t,r=-1;if("-"===e[0]&&(e=e.slice(1)),"0"===e)return!1;for(;"0"===e[++r];);return r>0},u=(t,e,r)=>{if(e>0){let r="-"===t[0]?"-":"";r&&(t=t.slice(1)),t=r+t.padStart(r?e-1:e,"0")}return!1===r?String(t):t},l=(t,e)=>{let r="-"===t[0]?"-":"";for(r&&(t=t.slice(1),e--);t.length<e;)t="0"+t;return r?"-"+t:t},h=(t,e,r,n)=>{if(r)return i(t,e,{wrap:!1,...n});let o=String.fromCharCode(t);return t===e?o:`[${o}-${String.fromCharCode(e)}]`},d=(t,e,r)=>{if(Array.isArray(t)){let e=!0===r.wrap,n=r.capture?"":"?:";return e?`(${n}${t.join("|")})`:t.join("|")}return i(t,e,r)},f=(...t)=>new RangeError("Invalid range arguments: "+n.inspect(...t)),p=(t,e,r)=>{if(!0===r.strictRanges)throw f([t,e]);return[]},m=(t,e,r=1,n={})=>{let i=Number(t),o=Number(e);if(!Number.isInteger(i)||!Number.isInteger(o)){if(!0===n.strictRanges)throw f([t,e]);return[]}0===i&&(i=0),0===o&&(o=0);let s=i>o,a=String(t),p=String(e),m=String(r);r=Math.max(Math.abs(r),1);let g=c(a)||c(p)||c(m),y=g?Math.max(a.length,p.length,m.length):0,_=!1===g&&!1===((t,e,r)=>"string"==typeof t||"string"==typeof e||!0===r.stringify)(t,e,n),v=n.transform||(t=>e=>!0===t?Number(e):String(e))(_);if(n.toRegex&&1===r)return h(l(t,y),l(e,y),!0,n);let b={negatives:[],positives:[]},w=[],E=0;for(;s?i>=o:i<=o;)!0===n.toRegex&&r>1?b[(S=i)<0?"negatives":"positives"].push(Math.abs(S)):w.push(u(v(i,E),y,_)),i=s?i-r:i+r,E++;var S;return!0===n.toRegex?r>1?((t,e)=>{t.negatives.sort((t,e)=>t<e?-1:t>e?1:0),t.positives.sort((t,e)=>t<e?-1:t>e?1:0);let r,n=e.capture?"":"?:",i="",o="";return t.positives.length&&(i=t.positives.join("|")),t.negatives.length&&(o=`-(${n}${t.negatives.join("|")})`),r=i&&o?`${i}|${o}`:i||o,e.wrap?`(${n}${r})`:r})(b,n):d(w,null,{wrap:!1,...n}):w},g=(t,e,r,n={})=>{if(null==e&&s(t))return[t];if(!s(t)||!s(e))return p(t,e,n);if("function"==typeof r)return g(t,e,1,{transform:r});if(o(r))return g(t,e,0,r);let i={...n};return!0===i.capture&&(i.wrap=!0),r=r||i.step||1,a(r)?a(t)&&a(e)?m(t,e,r,i):((t,e,r=1,n={})=>{if(!a(t)&&t.length>1||!a(e)&&e.length>1)return p(t,e,n);let i=n.transform||(t=>String.fromCharCode(t)),o=(""+t).charCodeAt(0),s=(""+e).charCodeAt(0),c=o>s,u=Math.min(o,s),l=Math.max(o,s);if(n.toRegex&&1===r)return h(u,l,!1,n);let f=[],m=0;for(;c?o>=s:o<=s;)f.push(i(o,m)),o=c?o-r:o+r,m++;return!0===n.toRegex?d(f,null,{wrap:!1,options:n}):f})(t,e,Math.max(Math.abs(r),1),i):null==r||o(r)?g(t,e,1,r):((t,e)=>{if(!0===e.strictRanges)throw new TypeError(`Expected step "${t}" to be a number`);return[]})(r,i)};t.exports=g},function(t,e,r){"use strict";t.exports=r(206)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(4),i=r(25),o=r(87),s=r(93);class a extends s.default{constructor(){super(...arguments),this._walkStream=o.walkStream,this._stat=i.stat}dynamic(t,e){return this._walkStream(t,e)}static(t,e){const r=t.map(this._getFullEntryPath,this),i=new n.PassThrough({objectMode:!0});i._write=(n,o,s)=>this._getEntry(r[n],t[n],e).then(t=>{null!==t&&e.entryFilter(t)&&i.push(t),n===r.length-1&&i.end(),s()}).catch(s);for(let t=0;t<r.length;t++)i.write(t);return i}_getEntry(t,e,r){return this._getStat(t).then(t=>this._makeEntry(t,e)).catch(t=>{if(r.errorFilter(t))return null;throw t})}_getStat(t){return new Promise((e,r)=>{this._stat(t,this._fsStatSettings,(t,n)=>null===t?e(n):r(t))})}}e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Settings=e.walkStream=e.walkSync=e.walk=void 0;const n=r(216),i=r(227),o=r(228),s=r(230);function a(t={}){return t instanceof s.default?t:new s.default(t)}e.Settings=s.default,e.walk=function(t,e,r){if("function"==typeof e)return new n.default(t,a()).read(e);new n.default(t,a(e)).read(r)},e.walkSync=function(t,e){const r=a(e);return new o.default(t,r).read()},e.walkStream=function(t,e){const r=a(e);return new i.default(t,r).read()}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(217),i=r(52),o=r(225),s=r(53),a=r(92);class c extends a.default{constructor(t,e){super(t,e),this._settings=e,this._scandir=i.scandir,this._emitter=new n.EventEmitter,this._queue=o(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,e){const r={directory:t,base:e};this._queue.push(r,t=>{null!==t&&this._handleError(t)})}_worker(t,e){this._scandir(t.directory,this._settings.fsScandirSettings,(r,n)=>{if(null!==r)return e(r,void 0);for(const e of n)this._handleEntry(e,t.base);e(null,void 0)})}_handleError(t){!this._isDestroyed&&s.isFatalError(this._settings,t)&&(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,e){if(this._isDestroyed||this._isFatalError)return;const r=t.path;void 0!==e&&(t.path=s.joinPathSegments(e,t.name,this._settings.pathSegmentSeparator)),s.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&s.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(r,t.path)}_emitEntry(t){this._emitter.emit("entry",t)}}e.default=c},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;const n=process.versions.node.split("."),i=parseInt(n[0],10),o=parseInt(n[1],10),s=i>10,a=10===i&&o>=10;e.IS_SUPPORT_READDIR_WITH_FILE_TYPES=s||a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fs=void 0;const n=r(221);e.fs=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.joinPathSegments=void 0,e.joinPathSegments=function(t,e,r){return t.endsWith(r)?t+e:t+r+e}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(53);e.default=class{constructor(t,e){this._root=t,this._settings=e,this._root=n.replacePathSegmentSeparator(t,e.pathSegmentSeparator)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(1),i=r(25),o=r(18);e.default=class{constructor(t){this._settings=t,this._fsStatSettings=new i.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return n.resolve(this._settings.cwd,t)}_makeEntry(t,e){const r={name:e,path:e,dirent:o.fs.createDirentFromStats(e,t)};return this._settings.stats&&(r.stats=t),r}_isFatalError(t){return!o.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}}},function(t,e,r){(function(t){var r="[object Arguments]",n="[object Function]",i="[object GeneratorFunction]",o="[object Map]",s="[object Set]",a=/\w*$/,c=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,l={};l[r]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object DataView]"]=l["[object Boolean]"]=l["[object Date]"]=l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l[o]=l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l[s]=l["[object String]"]=l["[object Symbol]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Error]"]=l[n]=l["[object WeakMap]"]=!1;var h="object"==typeof global&&global&&global.Object===Object&&global,d="object"==typeof self&&self&&self.Object===Object&&self,f=h||d||Function("return this")(),p=e&&!e.nodeType&&e,m=p&&"object"==typeof t&&t&&!t.nodeType&&t,g=m&&m.exports===p;function y(t,e){return t.set(e[0],e[1]),t}function _(t,e){return t.add(e),t}function v(t,e,r,n){var i=-1,o=t?t.length:0;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function b(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function w(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function E(t,e){return function(r){return t(e(r))}}function S(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var T,A=Array.prototype,O=Function.prototype,M=Object.prototype,k=f["__core-js_shared__"],x=(T=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"",N=O.toString,R=M.hasOwnProperty,I=M.toString,C=RegExp("^"+N.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=g?f.Buffer:void 0,L=f.Symbol,P=f.Uint8Array,D=E(Object.getPrototypeOf,Object),F=Object.create,B=M.propertyIsEnumerable,U=A.splice,q=Object.getOwnPropertySymbols,H=j?j.isBuffer:void 0,G=E(Object.keys,Object),z=mt(f,"DataView"),W=mt(f,"Map"),$=mt(f,"Promise"),V=mt(f,"Set"),Y=mt(f,"WeakMap"),K=mt(Object,"create"),J=bt(z),Z=bt(W),X=bt($),Q=bt(V),tt=bt(Y),et=L?L.prototype:void 0,rt=et?et.valueOf:void 0;function nt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function it(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ot(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function st(t){this.__data__=new it(t)}function at(t,e){var n=Et(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&St(t)}(t)&&R.call(t,"callee")&&(!B.call(t,"callee")||I.call(t)==r)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],i=n.length,o=!!i;for(var s in t)!e&&!R.call(t,s)||o&&("length"==s||_t(s,i))||n.push(s);return n}function ct(t,e,r){var n=t[e];R.call(t,e)&&wt(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function ut(t,e){for(var r=t.length;r--;)if(wt(t[r][0],e))return r;return-1}function lt(t,e,c,u,h,d,f){var p;if(u&&(p=d?u(t,h,d,f):u(t)),void 0!==p)return p;if(!Ot(t))return t;var m=Et(t);if(m){if(p=function(t){var e=t.length,r=t.constructor(e);e&&"string"==typeof t[0]&&R.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!e)return function(t,e){var r=-1,n=t.length;e||(e=Array(n));for(;++r<n;)e[r]=t[r];return e}(t,p)}else{var g=yt(t),E=g==n||g==i;if(Tt(t))return function(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}(t,e);if("[object Object]"==g||g==r||E&&!d){if(b(t))return d?t:{};if(p=function(t){return"function"!=typeof t.constructor||vt(t)?{}:(e=D(t),Ot(e)?F(e):{});var e}(E?{}:t),!e)return function(t,e){return ft(t,gt(t),e)}(t,function(t,e){return t&&ft(e,Mt(e),t)}(p,t))}else{if(!l[g])return d?t:{};p=function(t,e,r,n){var i=t.constructor;switch(e){case"[object ArrayBuffer]":return dt(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return function(t,e){var r=e?dt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var r=e?dt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,n);case o:return function(t,e,r){return v(e?r(w(t),!0):w(t),y,new t.constructor)}(t,n,r);case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,a.exec(t));return e.lastIndex=t.lastIndex,e}(t);case s:return function(t,e,r){return v(e?r(S(t),!0):S(t),_,new t.constructor)}(t,n,r);case"[object Symbol]":return c=t,rt?Object(rt.call(c)):{}}var c}(t,g,lt,e)}}f||(f=new st);var T=f.get(t);if(T)return T;if(f.set(t,p),!m)var A=c?function(t){return function(t,e,r){var n=e(t);return Et(t)?n:function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}(n,r(t))}(t,Mt,gt)}(t):Mt(t);return function(t,e){for(var r=-1,n=t?t.length:0;++r<n&&!1!==e(t[r],r,t););}(A||t,(function(r,n){A&&(r=t[n=r]),ct(p,n,lt(r,e,c,u,n,t,f))})),p}function ht(t){return!(!Ot(t)||(e=t,x&&x in e))&&(At(t)||b(t)?C:c).test(bt(t));var e}function dt(t){var e=new t.constructor(t.byteLength);return new P(e).set(new P(t)),e}function ft(t,e,r,n){r||(r={});for(var i=-1,o=e.length;++i<o;){var s=e[i],a=n?n(r[s],t[s],s,r,t):void 0;ct(r,s,void 0===a?t[s]:a)}return r}function pt(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function mt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return ht(r)?r:void 0}nt.prototype.clear=function(){this.__data__=K?K(null):{}},nt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},nt.prototype.get=function(t){var e=this.__data__;if(K){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return R.call(e,t)?e[t]:void 0},nt.prototype.has=function(t){var e=this.__data__;return K?void 0!==e[t]:R.call(e,t)},nt.prototype.set=function(t,e){return this.__data__[t]=K&&void 0===e?"__lodash_hash_undefined__":e,this},it.prototype.clear=function(){this.__data__=[]},it.prototype.delete=function(t){var e=this.__data__,r=ut(e,t);return!(r<0)&&(r==e.length-1?e.pop():U.call(e,r,1),!0)},it.prototype.get=function(t){var e=this.__data__,r=ut(e,t);return r<0?void 0:e[r][1]},it.prototype.has=function(t){return ut(this.__data__,t)>-1},it.prototype.set=function(t,e){var r=this.__data__,n=ut(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},ot.prototype.clear=function(){this.__data__={hash:new nt,map:new(W||it),string:new nt}},ot.prototype.delete=function(t){return pt(this,t).delete(t)},ot.prototype.get=function(t){return pt(this,t).get(t)},ot.prototype.has=function(t){return pt(this,t).has(t)},ot.prototype.set=function(t,e){return pt(this,t).set(t,e),this},st.prototype.clear=function(){this.__data__=new it},st.prototype.delete=function(t){return this.__data__.delete(t)},st.prototype.get=function(t){return this.__data__.get(t)},st.prototype.has=function(t){return this.__data__.has(t)},st.prototype.set=function(t,e){var r=this.__data__;if(r instanceof it){var n=r.__data__;if(!W||n.length<199)return n.push([t,e]),this;r=this.__data__=new ot(n)}return r.set(t,e),this};var gt=q?E(q,Object):function(){return[]},yt=function(t){return I.call(t)};function _t(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||u.test(t))&&t>-1&&t%1==0&&t<e}function vt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||M)}function bt(t){if(null!=t){try{return N.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function wt(t,e){return t===e||t!=t&&e!=e}(z&&"[object DataView]"!=yt(new z(new ArrayBuffer(1)))||W&&yt(new W)!=o||$&&"[object Promise]"!=yt($.resolve())||V&&yt(new V)!=s||Y&&"[object WeakMap]"!=yt(new Y))&&(yt=function(t){var e=I.call(t),r="[object Object]"==e?t.constructor:void 0,n=r?bt(r):void 0;if(n)switch(n){case J:return"[object DataView]";case Z:return o;case X:return"[object Promise]";case Q:return s;case tt:return"[object WeakMap]"}return e});var Et=Array.isArray;function St(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!At(t)}var Tt=H||function(){return!1};function At(t){var e=Ot(t)?I.call(t):"";return e==n||e==i}function Ot(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Mt(t){return St(t)?at(t):function(t){if(!vt(t))return G(t);var e=[];for(var r in Object(t))R.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}t.exports=function(t){return lt(t,!0,!0)}}).call(this,r(8)(t))},function(t,e){t.exports=require("https")},function(t,e){var r=Object.prototype.toString,n=Math.floor,i=Math.min;function o(t,e,r){var o=0,c=t?t.length:o;if("number"==typeof e&&e==e&&c<=2147483647){for(;o<c;){var u=o+c>>>1,l=t[u];null!==l&&!s(l)&&(r?l<=e:l<e)?o=u+1:c=u}return c}return function(t,e,r,o){e=r(e);var a=0,c=t?t.length:0,u=e!=e,l=null===e,h=s(e),d=void 0===e;for(;a<c;){var f=n((a+c)/2),p=r(t[f]),m=void 0!==p,g=null===p,y=p==p,_=s(p);if(u)var v=o||y;else v=d?y&&(o||m):l?y&&m&&(o||!g):h?y&&m&&!g&&(o||!_):!g&&!_&&(o?p<=e:p<e);v?a=f+1:c=f}return i(c,4294967294)}(t,e,a,r)}function s(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==r.call(t)}function a(t){return t}t.exports=function(t,e){return o(t,e)}},function(t,e,r){(function(t){var r="[object Arguments]",n="[object Map]",i="[object Object]",o="[object Set]",s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,c=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/^\s+|\s+$/g,h=/\\(\\)?/g,d=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,p=/^\[object .+?Constructor\]$/,m=/^0o[0-7]+$/i,g=/^(?:0|[1-9]\d*)$/,y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y[r]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object Boolean]"]=y["[object DataView]"]=y["[object Date]"]=y["[object Error]"]=y["[object Function]"]=y[n]=y["[object Number]"]=y[i]=y["[object RegExp]"]=y[o]=y["[object String]"]=y["[object WeakMap]"]=!1;var _=parseInt,v="object"==typeof global&&global&&global.Object===Object&&global,b="object"==typeof self&&self&&self.Object===Object&&self,w=v||b||Function("return this")(),E=e&&!e.nodeType&&e,S=E&&"object"==typeof t&&t&&!t.nodeType&&t,T=S&&S.exports===E&&v.process,A=function(){try{return T&&T.binding("util")}catch(t){}}(),O=A&&A.isTypedArray;function M(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function k(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function x(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function N(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var R,I,C,j=Array.prototype,L=Function.prototype,P=Object.prototype,D=w["__core-js_shared__"],F=(R=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+R:"",B=L.toString,U=P.hasOwnProperty,q=P.toString,H=RegExp("^"+B.call(U).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),G=w.Symbol,z=w.Uint8Array,W=P.propertyIsEnumerable,$=j.splice,V=(I=Object.keys,C=Object,function(t){return I(C(t))}),Y=Math.max,K=Math.min,J=Ot(w,"DataView"),Z=Ot(w,"Map"),X=Ot(w,"Promise"),Q=Ot(w,"Set"),tt=Ot(w,"WeakMap"),et=Ot(Object,"create"),rt=jt(J),nt=jt(Z),it=jt(X),ot=jt(Q),st=jt(tt),at=G?G.prototype:void 0,ct=at?at.valueOf:void 0,ut=at?at.toString:void 0;function lt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ht(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function dt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ft(t){var e=-1,r=t?t.length:0;for(this.__data__=new dt;++e<r;)this.add(t[e])}function pt(t){this.__data__=new ht(t)}function mt(t,e){var r=Ft(t)||Dt(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,i=!!n;for(var o in t)!e&&!U.call(t,o)||i&&("length"==o||kt(o,n))||r.push(o);return r}function gt(t,e){for(var r=t.length;r--;)if(Pt(t[r][0],e))return r;return-1}function yt(t,e){for(var r=0,n=(e=xt(e,t)?[e]:St(e)).length;null!=t&&r<n;)t=t[Ct(e[r++])];return r&&r==n?t:void 0}function _t(t,e){return null!=t&&e in Object(t)}function vt(t,e,s,a,c){return t===e||(null==t||null==e||!Ht(t)&&!Gt(e)?t!=t&&e!=e:function(t,e,s,a,c,u){var l=Ft(t),h=Ft(e),d="[object Array]",f="[object Array]";l||(d=(d=Mt(t))==r?i:d);h||(f=(f=Mt(e))==r?i:f);var p=d==i&&!k(t),m=f==i&&!k(e),g=d==f;if(g&&!p)return u||(u=new pt),l||Wt(t)?Tt(t,e,s,a,c,u):function(t,e,r,i,s,a,c){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new z(t),new z(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Pt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case n:var u=x;case o:var l=2&a;if(u||(u=N),t.size!=e.size&&!l)return!1;var h=c.get(t);if(h)return h==e;a|=1,c.set(t,e);var d=Tt(u(t),u(e),i,s,a,c);return c.delete(t),d;case"[object Symbol]":if(ct)return ct.call(t)==ct.call(e)}return!1}(t,e,d,s,a,c,u);if(!(2&c)){var y=p&&U.call(t,"__wrapped__"),_=m&&U.call(e,"__wrapped__");if(y||_){var v=y?t.value():t,b=_?e.value():e;return u||(u=new pt),s(v,b,a,c,u)}}if(!g)return!1;return u||(u=new pt),function(t,e,r,n,i,o){var s=2&i,a=$t(t),c=a.length,u=$t(e).length;if(c!=u&&!s)return!1;var l=c;for(;l--;){var h=a[l];if(!(s?h in e:U.call(e,h)))return!1}var d=o.get(t);if(d&&o.get(e))return d==e;var f=!0;o.set(t,e),o.set(e,t);var p=s;for(;++l<c;){h=a[l];var m=t[h],g=e[h];if(n)var y=s?n(g,m,h,e,t,o):n(m,g,h,t,e,o);if(!(void 0===y?m===g||r(m,g,n,i,o):y)){f=!1;break}p||(p="constructor"==h)}if(f&&!p){var _=t.constructor,v=e.constructor;_==v||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof v&&v instanceof v||(f=!1)}return o.delete(t),o.delete(e),f}(t,e,s,a,c,u)}(t,e,vt,s,a,c))}function bt(t){return!(!Ht(t)||function(t){return!!F&&F in t}(t))&&(Ut(t)||k(t)?H:p).test(jt(t))}function wt(t){return"function"==typeof t?t:null==t?Vt:"object"==typeof t?Ft(t)?function(t,e){if(xt(t)&&Nt(e))return Rt(Ct(t),e);return function(r){var n=function(t,e,r){var n=null==t?void 0:yt(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,r){e=xt(e,t)?[e]:St(e);var n,i=-1,o=e.length;for(;++i<o;){var s=Ct(e[i]);if(!(n=null!=t&&r(t,s)))break;t=t[s]}if(n)return n;return!!(o=t?t.length:0)&&qt(o)&&kt(s,o)&&(Ft(t)||Dt(t))}(t,e,_t)}(r,t):vt(e,n,void 0,3)}}(t[0],t[1]):function(t){var e=function(t){var e=$t(t),r=e.length;for(;r--;){var n=e[r],i=t[n];e[r]=[n,i,Nt(i)]}return e}(t);if(1==e.length&&e[0][2])return Rt(e[0][0],e[0][1]);return function(r){return r===t||function(t,e,r,n){var i=r.length,o=i,s=!n;if(null==t)return!o;for(t=Object(t);i--;){var a=r[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){var c=(a=r[i])[0],u=t[c],l=a[1];if(s&&a[2]){if(void 0===u&&!(c in t))return!1}else{var h=new pt;if(n)var d=n(u,l,c,t,e,h);if(!(void 0===d?vt(l,u,n,3,h):d))return!1}}return!0}(r,t,e)}}(t):xt(e=t)?(r=Ct(e),function(t){return null==t?void 0:t[r]}):function(t){return function(e){return yt(e,t)}}(e);var e,r}function Et(t){if(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||P,e!==n)return V(t);var e,r,n,i=[];for(var o in Object(t))U.call(t,o)&&"constructor"!=o&&i.push(o);return i}function St(t){return Ft(t)?t:It(t)}function Tt(t,e,r,n,i,o){var s=2&i,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var l=-1,h=!0,d=1&i?new ft:void 0;for(o.set(t,e),o.set(e,t);++l<a;){var f=t[l],p=e[l];if(n)var m=s?n(p,f,l,e,t,o):n(f,p,l,t,e,o);if(void 0!==m){if(m)continue;h=!1;break}if(d){if(!M(e,(function(t,e){if(!d.has(e)&&(f===t||r(f,t,n,i,o)))return d.add(e)}))){h=!1;break}}else if(f!==p&&!r(f,p,n,i,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function At(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Ot(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return bt(r)?r:void 0}lt.prototype.clear=function(){this.__data__=et?et(null):{}},lt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},lt.prototype.get=function(t){var e=this.__data__;if(et){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return U.call(e,t)?e[t]:void 0},lt.prototype.has=function(t){var e=this.__data__;return et?void 0!==e[t]:U.call(e,t)},lt.prototype.set=function(t,e){return this.__data__[t]=et&&void 0===e?"__lodash_hash_undefined__":e,this},ht.prototype.clear=function(){this.__data__=[]},ht.prototype.delete=function(t){var e=this.__data__,r=gt(e,t);return!(r<0)&&(r==e.length-1?e.pop():$.call(e,r,1),!0)},ht.prototype.get=function(t){var e=this.__data__,r=gt(e,t);return r<0?void 0:e[r][1]},ht.prototype.has=function(t){return gt(this.__data__,t)>-1},ht.prototype.set=function(t,e){var r=this.__data__,n=gt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},dt.prototype.clear=function(){this.__data__={hash:new lt,map:new(Z||ht),string:new lt}},dt.prototype.delete=function(t){return At(this,t).delete(t)},dt.prototype.get=function(t){return At(this,t).get(t)},dt.prototype.has=function(t){return At(this,t).has(t)},dt.prototype.set=function(t,e){return At(this,t).set(t,e),this},ft.prototype.add=ft.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},ft.prototype.has=function(t){return this.__data__.has(t)},pt.prototype.clear=function(){this.__data__=new ht},pt.prototype.delete=function(t){return this.__data__.delete(t)},pt.prototype.get=function(t){return this.__data__.get(t)},pt.prototype.has=function(t){return this.__data__.has(t)},pt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof ht){var n=r.__data__;if(!Z||n.length<199)return n.push([t,e]),this;r=this.__data__=new dt(n)}return r.set(t,e),this};var Mt=function(t){return q.call(t)};function kt(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||g.test(t))&&t>-1&&t%1==0&&t<e}function xt(t,e){if(Ft(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!zt(t))||(a.test(t)||!s.test(t)||null!=e&&t in Object(e))}function Nt(t){return t==t&&!Ht(t)}function Rt(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}(J&&"[object DataView]"!=Mt(new J(new ArrayBuffer(1)))||Z&&Mt(new Z)!=n||X&&"[object Promise]"!=Mt(X.resolve())||Q&&Mt(new Q)!=o||tt&&"[object WeakMap]"!=Mt(new tt))&&(Mt=function(t){var e=q.call(t),r=e==i?t.constructor:void 0,s=r?jt(r):void 0;if(s)switch(s){case rt:return"[object DataView]";case nt:return n;case it:return"[object Promise]";case ot:return o;case st:return"[object WeakMap]"}return e});var It=Lt((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(zt(t))return ut?ut.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var r=[];return c.test(t)&&r.push(""),t.replace(u,(function(t,e,n,i){r.push(n?i.replace(h,"$1"):e||t)})),r}));function Ct(t){if("string"==typeof t||zt(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function jt(t){if(null!=t){try{return B.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Lt(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s),s};return r.cache=new(Lt.Cache||dt),r}function Pt(t,e){return t===e||t!=t&&e!=e}function Dt(t){return function(t){return Gt(t)&&Bt(t)}(t)&&U.call(t,"callee")&&(!W.call(t,"callee")||q.call(t)==r)}Lt.Cache=dt;var Ft=Array.isArray;function Bt(t){return null!=t&&qt(t.length)&&!Ut(t)}function Ut(t){var e=Ht(t)?q.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}function qt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Ht(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Gt(t){return!!t&&"object"==typeof t}function zt(t){return"symbol"==typeof t||Gt(t)&&"[object Symbol]"==q.call(t)}var Wt=O?function(t){return function(e){return t(e)}}(O):function(t){return Gt(t)&&qt(t.length)&&!!y[q.call(t)]};function $t(t){return Bt(t)?mt(t):Et(t)}function Vt(t){return t}t.exports=function(t,e,r){var n=t?t.length:0;if(!n)return-1;var i,o,s=n-1;return void 0!==r&&(i=function(t){return t?(t=function(t){if("number"==typeof t)return t;if(zt(t))return NaN;if(Ht(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ht(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(l,"");var r=f.test(t);return r||m.test(t)?_(t.slice(2),r?2:8):d.test(t)?NaN:+t}(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}(r),o=i%1,s=i==i?o?i-o:i:0,s=r<0?Y(n+s,0):K(s,n-1)),function(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,wt(e),s,!0)}}).call(this,r(8)(t))},function(t,e,r){(function(t){var r="[object Arguments]",n="[object Map]",i="[object Object]",o="[object Set]",s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,c=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f[r]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f[n]=f["[object Number]"]=f[i]=f["[object RegExp]"]=f[o]=f["[object String]"]=f["[object WeakMap]"]=!1;var p="object"==typeof global&&global&&global.Object===Object&&global,m="object"==typeof self&&self&&self.Object===Object&&self,g=p||m||Function("return this")(),y=e&&!e.nodeType&&e,_=y&&"object"==typeof t&&t&&!t.nodeType&&t,v=_&&_.exports===y&&p.process,b=function(){try{return v&&v.binding("util")}catch(t){}}(),w=b&&b.isTypedArray;function E(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function S(t,e){return!!(t?t.length:0)&&function(t,e,r){if(e!=e)return function(t,e,r,n){var i=t.length,o=r+(n?1:-1);for(;n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,M,r);var n=r-1,i=t.length;for(;++n<i;)if(t[n]===e)return n;return-1}(t,e,0)>-1}function T(t,e,r){for(var n=-1,i=t?t.length:0;++n<i;)if(r(e,t[n]))return!0;return!1}function A(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function O(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function M(t){return t!=t}function k(t){return function(e){return t(e)}}function x(t,e){return t.has(e)}function N(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function R(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function I(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var C,j,L,P=Array.prototype,D=Function.prototype,F=Object.prototype,B=g["__core-js_shared__"],U=(C=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"",q=D.toString,H=F.hasOwnProperty,G=F.toString,z=RegExp("^"+q.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=g.Symbol,$=g.Uint8Array,V=F.propertyIsEnumerable,Y=P.splice,K=W?W.isConcatSpreadable:void 0,J=(j=Object.keys,L=Object,function(t){return j(L(t))}),Z=Math.max,X=xt(g,"DataView"),Q=xt(g,"Map"),tt=xt(g,"Promise"),et=xt(g,"Set"),rt=xt(g,"WeakMap"),nt=xt(Object,"create"),it=Ft(X),ot=Ft(Q),st=Ft(tt),at=Ft(et),ct=Ft(rt),ut=W?W.prototype:void 0,lt=ut?ut.valueOf:void 0,ht=ut?ut.toString:void 0;function dt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ft(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function pt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function mt(t){var e=-1,r=t?t.length:0;for(this.__data__=new pt;++e<r;)this.add(t[e])}function gt(t){this.__data__=new ft(t)}function yt(t,e){var r=Gt(t)||Ht(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,i=!!n;for(var o in t)!e&&!H.call(t,o)||i&&("length"==o||It(o,n))||r.push(o);return r}function _t(t,e){for(var r=t.length;r--;)if(qt(t[r][0],e))return r;return-1}function vt(t,e,r,n){var i=-1,o=S,s=!0,a=t.length,c=[],u=e.length;if(!a)return c;r&&(e=function(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}(e,k(r))),n?(o=T,s=!1):e.length>=200&&(o=x,s=!1,e=new mt(e));t:for(;++i<a;){var l=t[i],h=r?r(l):l;if(l=n||0!==l?l:0,s&&h==h){for(var d=u;d--;)if(e[d]===h)continue t;c.push(l)}else o(e,h,n)||c.push(l)}return c}function bt(t,e){for(var r=0,n=(e=Ct(e,t)?[e]:Ot(e)).length;null!=t&&r<n;)t=t[Dt(e[r++])];return r&&r==n?t:void 0}function wt(t,e){return null!=t&&e in Object(t)}function Et(t,e,s,a,c){return t===e||(null==t||null==e||!Yt(t)&&!Kt(e)?t!=t&&e!=e:function(t,e,s,a,c,u){var l=Gt(t),h=Gt(e),d="[object Array]",f="[object Array]";l||(d=(d=Nt(t))==r?i:d);h||(f=(f=Nt(e))==r?i:f);var p=d==i&&!N(t),m=f==i&&!N(e),g=d==f;if(g&&!p)return u||(u=new gt),l||Zt(t)?Mt(t,e,s,a,c,u):function(t,e,r,i,s,a,c){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new $(t),new $(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return qt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case n:var u=R;case o:var l=2&a;if(u||(u=I),t.size!=e.size&&!l)return!1;var h=c.get(t);if(h)return h==e;a|=1,c.set(t,e);var d=Mt(u(t),u(e),i,s,a,c);return c.delete(t),d;case"[object Symbol]":if(lt)return lt.call(t)==lt.call(e)}return!1}(t,e,d,s,a,c,u);if(!(2&c)){var y=p&&H.call(t,"__wrapped__"),_=m&&H.call(e,"__wrapped__");if(y||_){var v=y?t.value():t,b=_?e.value():e;return u||(u=new gt),s(v,b,a,c,u)}}if(!g)return!1;return u||(u=new gt),function(t,e,r,n,i,o){var s=2&i,a=Xt(t),c=a.length,u=Xt(e).length;if(c!=u&&!s)return!1;var l=c;for(;l--;){var h=a[l];if(!(s?h in e:H.call(e,h)))return!1}var d=o.get(t);if(d&&o.get(e))return d==e;var f=!0;o.set(t,e),o.set(e,t);var p=s;for(;++l<c;){h=a[l];var m=t[h],g=e[h];if(n)var y=s?n(g,m,h,e,t,o):n(m,g,h,t,e,o);if(!(void 0===y?m===g||r(m,g,n,i,o):y)){f=!1;break}p||(p="constructor"==h)}if(f&&!p){var _=t.constructor,v=e.constructor;_==v||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof v&&v instanceof v||(f=!1)}return o.delete(t),o.delete(e),f}(t,e,s,a,c,u)}(t,e,Et,s,a,c))}function St(t){return!(!Yt(t)||function(t){return!!U&&U in t}(t))&&($t(t)||N(t)?z:h).test(Ft(t))}function Tt(t){return"function"==typeof t?t:null==t?Qt:"object"==typeof t?Gt(t)?function(t,e){if(Ct(t)&&jt(e))return Lt(Dt(t),e);return function(r){var n=function(t,e,r){var n=null==t?void 0:bt(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,r){e=Ct(e,t)?[e]:Ot(e);var n,i=-1,o=e.length;for(;++i<o;){var s=Dt(e[i]);if(!(n=null!=t&&r(t,s)))break;t=t[s]}if(n)return n;return!!(o=t?t.length:0)&&Vt(o)&&It(s,o)&&(Gt(t)||Ht(t))}(t,e,wt)}(r,t):Et(e,n,void 0,3)}}(t[0],t[1]):function(t){var e=function(t){var e=Xt(t),r=e.length;for(;r--;){var n=e[r],i=t[n];e[r]=[n,i,jt(i)]}return e}(t);if(1==e.length&&e[0][2])return Lt(e[0][0],e[0][1]);return function(r){return r===t||function(t,e,r,n){var i=r.length,o=i,s=!n;if(null==t)return!o;for(t=Object(t);i--;){var a=r[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){var c=(a=r[i])[0],u=t[c],l=a[1];if(s&&a[2]){if(void 0===u&&!(c in t))return!1}else{var h=new gt;if(n)var d=n(u,l,c,t,e,h);if(!(void 0===d?Et(l,u,n,3,h):d))return!1}}return!0}(r,t,e)}}(t):Ct(e=t)?(r=Dt(e),function(t){return null==t?void 0:t[r]}):function(t){return function(e){return bt(e,t)}}(e);var e,r}function At(t){if(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||F,e!==n)return J(t);var e,r,n,i=[];for(var o in Object(t))H.call(t,o)&&"constructor"!=o&&i.push(o);return i}function Ot(t){return Gt(t)?t:Pt(t)}function Mt(t,e,r,n,i,o){var s=2&i,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var l=-1,h=!0,d=1&i?new mt:void 0;for(o.set(t,e),o.set(e,t);++l<a;){var f=t[l],p=e[l];if(n)var m=s?n(p,f,l,e,t,o):n(f,p,l,t,e,o);if(void 0!==m){if(m)continue;h=!1;break}if(d){if(!O(e,(function(t,e){if(!d.has(e)&&(f===t||r(f,t,n,i,o)))return d.add(e)}))){h=!1;break}}else if(f!==p&&!r(f,p,n,i,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function kt(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function xt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return St(r)?r:void 0}dt.prototype.clear=function(){this.__data__=nt?nt(null):{}},dt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},dt.prototype.get=function(t){var e=this.__data__;if(nt){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return H.call(e,t)?e[t]:void 0},dt.prototype.has=function(t){var e=this.__data__;return nt?void 0!==e[t]:H.call(e,t)},dt.prototype.set=function(t,e){return this.__data__[t]=nt&&void 0===e?"__lodash_hash_undefined__":e,this},ft.prototype.clear=function(){this.__data__=[]},ft.prototype.delete=function(t){var e=this.__data__,r=_t(e,t);return!(r<0)&&(r==e.length-1?e.pop():Y.call(e,r,1),!0)},ft.prototype.get=function(t){var e=this.__data__,r=_t(e,t);return r<0?void 0:e[r][1]},ft.prototype.has=function(t){return _t(this.__data__,t)>-1},ft.prototype.set=function(t,e){var r=this.__data__,n=_t(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},pt.prototype.clear=function(){this.__data__={hash:new dt,map:new(Q||ft),string:new dt}},pt.prototype.delete=function(t){return kt(this,t).delete(t)},pt.prototype.get=function(t){return kt(this,t).get(t)},pt.prototype.has=function(t){return kt(this,t).has(t)},pt.prototype.set=function(t,e){return kt(this,t).set(t,e),this},mt.prototype.add=mt.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},mt.prototype.has=function(t){return this.__data__.has(t)},gt.prototype.clear=function(){this.__data__=new ft},gt.prototype.delete=function(t){return this.__data__.delete(t)},gt.prototype.get=function(t){return this.__data__.get(t)},gt.prototype.has=function(t){return this.__data__.has(t)},gt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof ft){var n=r.__data__;if(!Q||n.length<199)return n.push([t,e]),this;r=this.__data__=new pt(n)}return r.set(t,e),this};var Nt=function(t){return G.call(t)};function Rt(t){return Gt(t)||Ht(t)||!!(K&&t&&t[K])}function It(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||d.test(t))&&t>-1&&t%1==0&&t<e}function Ct(t,e){if(Gt(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Jt(t))||(a.test(t)||!s.test(t)||null!=e&&t in Object(e))}function jt(t){return t==t&&!Yt(t)}function Lt(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}(X&&"[object DataView]"!=Nt(new X(new ArrayBuffer(1)))||Q&&Nt(new Q)!=n||tt&&"[object Promise]"!=Nt(tt.resolve())||et&&Nt(new et)!=o||rt&&"[object WeakMap]"!=Nt(new rt))&&(Nt=function(t){var e=G.call(t),r=e==i?t.constructor:void 0,s=r?Ft(r):void 0;if(s)switch(s){case it:return"[object DataView]";case ot:return n;case st:return"[object Promise]";case at:return o;case ct:return"[object WeakMap]"}return e});var Pt=Ut((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(Jt(t))return ht?ht.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var r=[];return c.test(t)&&r.push(""),t.replace(u,(function(t,e,n,i){r.push(n?i.replace(l,"$1"):e||t)})),r}));function Dt(t){if("string"==typeof t||Jt(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ft(t){if(null!=t){try{return q.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var Bt=function(t,e){return e=Z(void 0===e?t.length-1:e,0),function(){for(var r=arguments,n=-1,i=Z(r.length-e,0),o=Array(i);++n<i;)o[n]=r[e+n];n=-1;for(var s=Array(e+1);++n<e;)s[n]=r[n];return s[e]=o,E(t,this,s)}}((function(t,e){var r=function(t){var e=t?t.length:0;return e?t[e-1]:void 0}(e);return Wt(r)&&(r=void 0),Wt(t)?vt(t,function t(e,r,n,i,o){var s=-1,a=e.length;for(n||(n=Rt),o||(o=[]);++s<a;){var c=e[s];r>0&&n(c)?r>1?t(c,r-1,n,i,o):A(o,c):i||(o[o.length]=c)}return o}(e,1,Wt,!0),Tt(r)):[]}));function Ut(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s),s};return r.cache=new(Ut.Cache||pt),r}function qt(t,e){return t===e||t!=t&&e!=e}function Ht(t){return Wt(t)&&H.call(t,"callee")&&(!V.call(t,"callee")||G.call(t)==r)}Ut.Cache=pt;var Gt=Array.isArray;function zt(t){return null!=t&&Vt(t.length)&&!$t(t)}function Wt(t){return Kt(t)&&zt(t)}function $t(t){var e=Yt(t)?G.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}function Vt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Yt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Kt(t){return!!t&&"object"==typeof t}function Jt(t){return"symbol"==typeof t||Kt(t)&&"[object Symbol]"==G.call(t)}var Zt=w?k(w):function(t){return Kt(t)&&Vt(t.length)&&!!f[G.call(t)]};function Xt(t){return zt(t)?yt(t):At(t)}function Qt(t){return t}t.exports=Bt}).call(this,r(8)(t))},function(t,e,r){const n=r(131);t.exports={csvIntegration:(t,e)=>{const r=n(t);return{transferredGrain:[],outputFile:{fileName:`Payouts-${Date.now()}.csv`,content:r}}}}},function(t,e,r){"use strict";t.exports=r(80)},function(t,e,r){"use strict";const n=r(15),i=r(188),o=r(82),s=r(83),a=r(241),c=r(243),{FilterStream:u,UniqueStream:l}=r(246),h=()=>!1,d=t=>"!"===t[0],f=(t,e)=>{(t=>{if(!t.every(t=>"string"==typeof t))throw new TypeError("Patterns must be a string or an array of strings")})(t=i([].concat(t))),((t={})=>{if(!t.cwd)return;let e;try{e=n.statSync(t.cwd)}catch{return}if(!e.isDirectory())throw new Error("The `cwd` option must be a path to a directory")})(e);const r=[];e={ignore:[],expandDirectories:!0,...e};for(const[n,i]of t.entries()){if(d(i))continue;const o=t.slice(n).filter(t=>d(t)).map(t=>t.slice(1)),s={...e,ignore:e.ignore.concat(o)};r.push({pattern:i,options:s})}return r},p=(t,e)=>t.options.expandDirectories?((t,e)=>{let r={};return t.options.cwd&&(r.cwd=t.options.cwd),Array.isArray(t.options.expandDirectories)?r={...r,files:t.options.expandDirectories}:"object"==typeof t.options.expandDirectories&&(r={...r,...t.options.expandDirectories}),e(t.pattern,r)})(t,e):[t.pattern],m=t=>t&&t.gitignore?c.sync({cwd:t.cwd,ignore:t.ignore}):h,g=t=>e=>{const{options:r}=t;return r.ignore&&Array.isArray(r.ignore)&&r.expandDirectories&&(r.ignore=a.sync(r.ignore)),{pattern:e,options:r}};t.exports=async(t,e)=>{const r=f(t,e),[o,u]=await Promise.all([(async()=>e&&e.gitignore?c({cwd:e.cwd,ignore:e.ignore}):h)(),(async()=>{const t=await Promise.all(r.map(async t=>{const e=await p(t,a);return Promise.all(e.map(g(t)))}));return i(...t)})()]),l=await Promise.all(u.map(t=>s(t.pattern,t.options)));return i(...l).filter(t=>{return!o((e=t,e.stats instanceof n.Stats?e.path:e));var e})},t.exports.sync=(t,e)=>{const r=f(t,e),n=[];for(const t of r){const e=p(t,a.sync).map(g(t));n.push(...e)}const o=m(e);let c=[];for(const t of n)c=i(c,s.sync(t.pattern,t.options));return c.filter(t=>!o(t))},t.exports.stream=(t,e)=>{const r=f(t,e),n=[];for(const t of r){const e=p(t,a.sync).map(g(t));n.push(...e)}const i=m(e),c=new u(t=>!i(t)),h=new l;return o(n.map(t=>s.stream(t.pattern,t.options))).pipe(c).pipe(h)},t.exports.generateGlobTasks=f,t.exports.hasMagic=(t,e)=>[].concat(t).some(t=>s.isDynamicPattern(t,e)),t.exports.gitignore=c},function(t,e,r){e.parse=r(103),e.stringify=r(104)},function(t,e){var r,n,i,o,s={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},a=function(t){throw{name:"SyntaxError",message:t,at:r,text:i}},c=function(t){return t&&t!==n&&a("Expected '"+t+"' instead of '"+n+"'"),n=i.charAt(r),r+=1,n},u=function(){var t,e="";for("-"===n&&(e="-",c("-"));n>="0"&&n<="9";)e+=n,c();if("."===n)for(e+=".";c()&&n>="0"&&n<="9";)e+=n;if("e"===n||"E"===n)for(e+=n,c(),"-"!==n&&"+"!==n||(e+=n,c());n>="0"&&n<="9";)e+=n,c();if(t=+e,isFinite(t))return t;a("Bad number")},l=function(){var t,e,r,i="";if('"'===n)for(;c();){if('"'===n)return c(),i;if("\\"===n)if(c(),"u"===n){for(r=0,e=0;e<4&&(t=parseInt(c(),16),isFinite(t));e+=1)r=16*r+t;i+=String.fromCharCode(r)}else{if("string"!=typeof s[n])break;i+=s[n]}else i+=n}a("Bad string")},h=function(){for(;n&&n<=" ";)c()};o=function(){switch(h(),n){case"{":return function(){var t,e={};if("{"===n){if(c("{"),h(),"}"===n)return c("}"),e;for(;n;){if(t=l(),h(),c(":"),Object.hasOwnProperty.call(e,t)&&a('Duplicate key "'+t+'"'),e[t]=o(),h(),"}"===n)return c("}"),e;c(","),h()}}a("Bad object")}();case"[":return function(){var t=[];if("["===n){if(c("["),h(),"]"===n)return c("]"),t;for(;n;){if(t.push(o()),h(),"]"===n)return c("]"),t;c(","),h()}}a("Bad array")}();case'"':return l();case"-":return u();default:return n>="0"&&n<="9"?u():function(){switch(n){case"t":return c("t"),c("r"),c("u"),c("e"),!0;case"f":return c("f"),c("a"),c("l"),c("s"),c("e"),!1;case"n":return c("n"),c("u"),c("l"),c("l"),null}a("Unexpected '"+n+"'")}()}},t.exports=function(t,e){var s;return i=t,r=0,n=" ",s=o(),h(),n&&a("Syntax error"),"function"==typeof e?function t(r,n){var i,o,s=r[n];if(s&&"object"==typeof s)for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(void 0!==(o=t(s,i))?s[i]=o:delete s[i]);return e.call(r,n,s)}({"":s},""):s}},function(t,e){var r,n,i,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function a(t){return o.lastIndex=0,o.test(t)?'"'+t.replace(o,(function(t){var e=s[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+t+'"'}t.exports=function(t,e,o){var s;if(r="",n="","number"==typeof o)for(s=0;s<o;s+=1)n+=" ";else"string"==typeof o&&(n=o);if(i=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return function t(e,o){var s,c,u,l,h,d=r,f=o[e];switch(f&&"object"==typeof f&&"function"==typeof f.toJSON&&(f=f.toJSON(e)),"function"==typeof i&&(f=i.call(o,e,f)),typeof f){case"string":return a(f);case"number":return isFinite(f)?String(f):"null";case"boolean":case"null":return String(f);case"object":if(!f)return"null";if(r+=n,h=[],"[object Array]"===Object.prototype.toString.apply(f)){for(l=f.length,s=0;s<l;s+=1)h[s]=t(s,f)||"null";return u=0===h.length?"[]":r?"[\n"+r+h.join(",\n"+r)+"\n"+d+"]":"["+h.join(",")+"]",r=d,u}if(i&&"object"==typeof i)for(l=i.length,s=0;s<l;s+=1)"string"==typeof(c=i[s])&&(u=t(c,f))&&h.push(a(c)+(r?": ":":")+u);else for(c in f)Object.prototype.hasOwnProperty.call(f,c)&&(u=t(c,f))&&h.push(a(c)+(r?": ":":")+u);return u=0===h.length?"{}":r?"{\n"+r+h.join(",\n"+r)+"\n"+d+"}":"{"+h.join(",")+"}",r=d,u}}("",{"":t})}},function(t){t.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},function(t,e,r){"use strict";var n=r(107),i=r(62),o=new n(0),s=new n(-1),a={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};function c(t){var e=t?t.toLowerCase():"ether",r=a[e];if("string"!=typeof r)throw new Error("[ethjs-unit] the unit provided "+t+" doesn't exists, please use the one of the following units "+JSON.stringify(a,null,2));return new n(r,10)}function u(t){if("string"==typeof t){if(!t.match(/^-?[0-9.]+$/))throw new Error("while converting number to string, invalid number value '"+t+"', should be a number matching (^-?[0-9.]+).");return t}if("number"==typeof t)return String(t);if("object"==typeof t&&t.toString&&(t.toTwos||t.dividedToIntegerBy))return t.toPrecision?String(t.toPrecision()):t.toString(10);throw new Error("while converting number to string, invalid number value '"+t+"' type "+typeof t+".")}t.exports={unitMap:a,numberToString:u,getValueOfUnit:c,fromWei:function(t,e,r){var n=i(t),u=n.lt(o),l=c(e),h=a[e].length-1||1,d=r||{};u&&(n=n.mul(s));for(var f=n.mod(l).toString(10);f.length<h;)f="0"+f;d.pad||(f=f.match(/^([0-9]*[1-9]|0)(0*)/)[1]);var p=n.div(l).toString(10);d.commify&&(p=p.replace(/\B(?=(\d{3})+(?!\d))/g,","));var m=p+("0"==f?"":"."+f);return u&&(m="-"+m),m},toWei:function(t,e){var r=u(t),i=c(e),o=a[e].length-1||1,l="-"===r.substring(0,1);if(l&&(r=r.substring(1)),"."===r)throw new Error("[ethjs-unit] while converting number "+t+" to wei, invalid value");var h=r.split(".");if(h.length>2)throw new Error("[ethjs-unit] while converting number "+t+" to wei,  too many decimal points");var d=h[0],f=h[1];if(d||(d="0"),f||(f="0"),f.length>o)throw new Error("[ethjs-unit] while converting number "+t+" to wei, too many decimal places");for(;f.length<o;)f+="0";d=new n(d),f=new n(f);var p=d.mul(i).add(f);return l&&(p=p.mul(s)),new n(p.toString(10),10)}}},function(t,e,r){(function(t){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s=r(41).Buffer}catch(t){}function a(t,e,r){for(var n=0,i=Math.min(t.length,r),o=e;o<i;o++){var s=t.charCodeAt(o)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function c(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,l=r;l<a;l+=n)u=c(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var h=1;for(u=c(t,l,t.length,e),l=0;l<s;l++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,c=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var l=c>>>26,h=67108863&c,d=Math.min(u,e.length-1),f=Math.max(0,u-t.length+1);f<=d;f++){var p=u-f|0;l+=(s=(i=0|t.words[p])*(o=0|e.words[f])+h)/67108864|0,h=67108863&s}r.words[u]=0|h,c=0|l}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?u[6-c.length]+c+r:c+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var d=l[t],f=h[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(t);r=(p=p.idivn(f)).isZero()?m+r:u[d-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,c="le"===e,u=new t(o),l=this.clone();if(c){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-i;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s}return u},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var f=function(t,e,r){var n,i,o,s=t.words,a=e.words,c=r.words,u=0,l=0|s[0],h=8191&l,d=l>>>13,f=0|s[1],p=8191&f,m=f>>>13,g=0|s[2],y=8191&g,_=g>>>13,v=0|s[3],b=8191&v,w=v>>>13,E=0|s[4],S=8191&E,T=E>>>13,A=0|s[5],O=8191&A,M=A>>>13,k=0|s[6],x=8191&k,N=k>>>13,R=0|s[7],I=8191&R,C=R>>>13,j=0|s[8],L=8191&j,P=j>>>13,D=0|s[9],F=8191&D,B=D>>>13,U=0|a[0],q=8191&U,H=U>>>13,G=0|a[1],z=8191&G,W=G>>>13,$=0|a[2],V=8191&$,Y=$>>>13,K=0|a[3],J=8191&K,Z=K>>>13,X=0|a[4],Q=8191&X,tt=X>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ct=8191&at,ut=at>>>13,lt=0|a[8],ht=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(u+(n=Math.imul(h,q))|0)+((8191&(i=(i=Math.imul(h,H))+Math.imul(d,q)|0))<<13)|0;u=((o=Math.imul(d,H))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,q),i=(i=Math.imul(p,H))+Math.imul(m,q)|0,o=Math.imul(m,H);var yt=(u+(n=n+Math.imul(h,z)|0)|0)+((8191&(i=(i=i+Math.imul(h,W)|0)+Math.imul(d,z)|0))<<13)|0;u=((o=o+Math.imul(d,W)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,q),i=(i=Math.imul(y,H))+Math.imul(_,q)|0,o=Math.imul(_,H),n=n+Math.imul(p,z)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,z)|0,o=o+Math.imul(m,W)|0;var _t=(u+(n=n+Math.imul(h,V)|0)|0)+((8191&(i=(i=i+Math.imul(h,Y)|0)+Math.imul(d,V)|0))<<13)|0;u=((o=o+Math.imul(d,Y)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(b,q),i=(i=Math.imul(b,H))+Math.imul(w,q)|0,o=Math.imul(w,H),n=n+Math.imul(y,z)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(_,z)|0,o=o+Math.imul(_,W)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,Y)|0;var vt=(u+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(d,J)|0))<<13)|0;u=((o=o+Math.imul(d,Z)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(S,q),i=(i=Math.imul(S,H))+Math.imul(T,q)|0,o=Math.imul(T,H),n=n+Math.imul(b,z)|0,i=(i=i+Math.imul(b,W)|0)+Math.imul(w,z)|0,o=o+Math.imul(w,W)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,Y)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,Z)|0;var bt=(u+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(d,Q)|0))<<13)|0;u=((o=o+Math.imul(d,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(O,q),i=(i=Math.imul(O,H))+Math.imul(M,q)|0,o=Math.imul(M,H),n=n+Math.imul(S,z)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(T,z)|0,o=o+Math.imul(T,W)|0,n=n+Math.imul(b,V)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,Y)|0,n=n+Math.imul(y,J)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var wt=(u+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(d,rt)|0))<<13)|0;u=((o=o+Math.imul(d,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(x,q),i=(i=Math.imul(x,H))+Math.imul(N,q)|0,o=Math.imul(N,H),n=n+Math.imul(O,z)|0,i=(i=i+Math.imul(O,W)|0)+Math.imul(M,z)|0,o=o+Math.imul(M,W)|0,n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,Y)|0)+Math.imul(T,V)|0,o=o+Math.imul(T,Y)|0,n=n+Math.imul(b,J)|0,i=(i=i+Math.imul(b,Z)|0)+Math.imul(w,J)|0,o=o+Math.imul(w,Z)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var Et=(u+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,st)|0)+Math.imul(d,ot)|0))<<13)|0;u=((o=o+Math.imul(d,st)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(I,q),i=(i=Math.imul(I,H))+Math.imul(C,q)|0,o=Math.imul(C,H),n=n+Math.imul(x,z)|0,i=(i=i+Math.imul(x,W)|0)+Math.imul(N,z)|0,o=o+Math.imul(N,W)|0,n=n+Math.imul(O,V)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,Y)|0,n=n+Math.imul(S,J)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(T,J)|0,o=o+Math.imul(T,Z)|0,n=n+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var St=(u+(n=n+Math.imul(h,ct)|0)|0)+((8191&(i=(i=i+Math.imul(h,ut)|0)+Math.imul(d,ct)|0))<<13)|0;u=((o=o+Math.imul(d,ut)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(L,q),i=(i=Math.imul(L,H))+Math.imul(P,q)|0,o=Math.imul(P,H),n=n+Math.imul(I,z)|0,i=(i=i+Math.imul(I,W)|0)+Math.imul(C,z)|0,o=o+Math.imul(C,W)|0,n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(N,V)|0,o=o+Math.imul(N,Y)|0,n=n+Math.imul(O,J)|0,i=(i=i+Math.imul(O,Z)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(y,ot)|0,i=(i=i+Math.imul(y,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ut)|0;var Tt=(u+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,dt)|0)+Math.imul(d,ht)|0))<<13)|0;u=((o=o+Math.imul(d,dt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(F,q),i=(i=Math.imul(F,H))+Math.imul(B,q)|0,o=Math.imul(B,H),n=n+Math.imul(L,z)|0,i=(i=i+Math.imul(L,W)|0)+Math.imul(P,z)|0,o=o+Math.imul(P,W)|0,n=n+Math.imul(I,V)|0,i=(i=i+Math.imul(I,Y)|0)+Math.imul(C,V)|0,o=o+Math.imul(C,Y)|0,n=n+Math.imul(x,J)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,Z)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(T,rt)|0,o=o+Math.imul(T,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,n=n+Math.imul(y,ct)|0,i=(i=i+Math.imul(y,ut)|0)+Math.imul(_,ct)|0,o=o+Math.imul(_,ut)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,dt)|0;var At=(u+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(d,pt)|0))<<13)|0;u=((o=o+Math.imul(d,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(F,z),i=(i=Math.imul(F,W))+Math.imul(B,z)|0,o=Math.imul(B,W),n=n+Math.imul(L,V)|0,i=(i=i+Math.imul(L,Y)|0)+Math.imul(P,V)|0,o=o+Math.imul(P,Y)|0,n=n+Math.imul(I,J)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,Z)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(O,rt)|0,i=(i=i+Math.imul(O,nt)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,st)|0,n=n+Math.imul(b,ct)|0,i=(i=i+Math.imul(b,ut)|0)+Math.imul(w,ct)|0,o=o+Math.imul(w,ut)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,dt)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,dt)|0;var Ot=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(F,V),i=(i=Math.imul(F,Y))+Math.imul(B,V)|0,o=Math.imul(B,Y),n=n+Math.imul(L,J)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(P,J)|0,o=o+Math.imul(P,Z)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(x,rt)|0,i=(i=i+Math.imul(x,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(O,ot)|0,i=(i=i+Math.imul(O,st)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,st)|0,n=n+Math.imul(S,ct)|0,i=(i=i+Math.imul(S,ut)|0)+Math.imul(T,ct)|0,o=o+Math.imul(T,ut)|0,n=n+Math.imul(b,ht)|0,i=(i=i+Math.imul(b,dt)|0)+Math.imul(w,ht)|0,o=o+Math.imul(w,dt)|0;var Mt=(u+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(F,J),i=(i=Math.imul(F,Z))+Math.imul(B,J)|0,o=Math.imul(B,Z),n=n+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(x,ot)|0,i=(i=i+Math.imul(x,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,n=n+Math.imul(O,ct)|0,i=(i=i+Math.imul(O,ut)|0)+Math.imul(M,ct)|0,o=o+Math.imul(M,ut)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,dt)|0)+Math.imul(T,ht)|0,o=o+Math.imul(T,dt)|0;var kt=(u+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(w,pt)|0))<<13)|0;u=((o=o+Math.imul(w,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(F,Q),i=(i=Math.imul(F,tt))+Math.imul(B,Q)|0,o=Math.imul(B,tt),n=n+Math.imul(L,rt)|0,i=(i=i+Math.imul(L,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(I,ot)|0,i=(i=i+Math.imul(I,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,n=n+Math.imul(x,ct)|0,i=(i=i+Math.imul(x,ut)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,ut)|0,n=n+Math.imul(O,ht)|0,i=(i=i+Math.imul(O,dt)|0)+Math.imul(M,ht)|0,o=o+Math.imul(M,dt)|0;var xt=(u+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(T,pt)|0))<<13)|0;u=((o=o+Math.imul(T,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(F,rt),i=(i=Math.imul(F,nt))+Math.imul(B,rt)|0,o=Math.imul(B,nt),n=n+Math.imul(L,ot)|0,i=(i=i+Math.imul(L,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,n=n+Math.imul(I,ct)|0,i=(i=i+Math.imul(I,ut)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,ut)|0,n=n+Math.imul(x,ht)|0,i=(i=i+Math.imul(x,dt)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,dt)|0;var Nt=(u+(n=n+Math.imul(O,pt)|0)|0)+((8191&(i=(i=i+Math.imul(O,mt)|0)+Math.imul(M,pt)|0))<<13)|0;u=((o=o+Math.imul(M,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(F,ot),i=(i=Math.imul(F,st))+Math.imul(B,ot)|0,o=Math.imul(B,st),n=n+Math.imul(L,ct)|0,i=(i=i+Math.imul(L,ut)|0)+Math.imul(P,ct)|0,o=o+Math.imul(P,ut)|0,n=n+Math.imul(I,ht)|0,i=(i=i+Math.imul(I,dt)|0)+Math.imul(C,ht)|0,o=o+Math.imul(C,dt)|0;var Rt=(u+(n=n+Math.imul(x,pt)|0)|0)+((8191&(i=(i=i+Math.imul(x,mt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(F,ct),i=(i=Math.imul(F,ut))+Math.imul(B,ct)|0,o=Math.imul(B,ut),n=n+Math.imul(L,ht)|0,i=(i=i+Math.imul(L,dt)|0)+Math.imul(P,ht)|0,o=o+Math.imul(P,dt)|0;var It=(u+(n=n+Math.imul(I,pt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(C,pt)|0))<<13)|0;u=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(F,ht),i=(i=Math.imul(F,dt))+Math.imul(B,ht)|0,o=Math.imul(B,dt);var Ct=(u+(n=n+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,mt)|0)+Math.imul(P,pt)|0))<<13)|0;u=((o=o+Math.imul(P,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863;var jt=(u+(n=Math.imul(F,pt))|0)+((8191&(i=(i=Math.imul(F,mt))+Math.imul(B,pt)|0))<<13)|0;return u=((o=Math.imul(B,mt))+(i>>>13)|0)+(jt>>>26)|0,jt&=67108863,c[0]=gt,c[1]=yt,c[2]=_t,c[3]=vt,c[4]=bt,c[5]=wt,c[6]=Et,c[7]=St,c[8]=Tt,c[9]=At,c[10]=Ot,c[11]=Mt,c[12]=kt,c[13]=xt,c[14]=Nt,c[15]=Rt,c[16]=It,c[17]=Ct,c[18]=jt,0!==u&&(c[19]=u,r.length++),r};function p(t,e,r){return(new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(f=d),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?f(this,t,e):r<63?d(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,c=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=c;u++){var l=o-u,h=(0|t.words[l])*(0|e.words[u]),d=67108863&h;a=67108863&(d=d+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):p(this,t,e)},m.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},m.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},m.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=c,d=u,f=0;f<s;f++){var p=r[l+f],m=n[l+f],g=r[l+f+s],y=n[l+f+s],_=h*g-d*y;y=h*y+d*g,g=_,r[l+f]=p+g,n[l+f]=m+y,r[l+f+s]=p-g,n[l+f+s]=m-y,f!==a&&(_=c*h-u*d,d=c*d+u*h,h=_)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},m.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),c=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),d=r.words;d.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,u,n),this.transform(s,o,a,c,n,i),this.transform(u,o,l,h,n,i);for(var f=0;f<n;f++){var p=a[f]*l[f]-c[f]*h[f];c[f]=a[f]*h[f]+c[f]*l[f],a[f]=p}return this.conjugate(a,c,n),this.transform(a,c,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),p(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,c=(0|this.words[e])-a<<r;this.words[e]=c|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,c=r;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var h=0|this.words[u];this.words[u]=l<<26-o|h>>>o,l=h&a}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var c=(0|t.words[i])*e;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,c=n.length-i.length;if("mod"!==e){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=n.clone()._ishlnsubmul(i,1,c);0===l.negative&&(n=l,a&&(a.words[c]=1));for(var h=c-1;h>=0;h--){var d=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(d=Math.min(d/s|0,67108863),n._ishlnsubmul(i,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=d)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++u;for(var l=r.clone(),h=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(h)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(h)),a.iushrn(1),c.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(c)):(r.isub(e),a.isub(i),c.isub(s))}return{a:a,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),c=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var h=0,d=1;0==(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new E(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function S(t){E.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(_,y),_.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},_.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(v,y),i(b,y),i(w,y),w.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new _;else if("p224"===t)e=new v;else if("p192"===t)e=new b;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new w}return g[t]=e,e},E.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},E.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},E.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},E.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},E.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var h=this.pow(l,i),d=this.pow(t,i.addn(1).iushrn(1)),f=this.pow(t,i),p=s;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(h,new o(1).iushln(p-g-1));d=d.redMul(y),h=y.redSqr(),f=f.redMul(h),p=g}return d},E.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},E.prototype.pow=function(t,e){if(e.isZero())return new o(1);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,c=e.bitLength()%26;for(0===c&&(c=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],l=c-1;l>=0;l--){var h=u>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}c=26}return i},E.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},E.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new S(t)},i(S,E),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},S.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},S.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,r(8)(t))},function(t,e,r){(function(t){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s=r(41).Buffer}catch(t){}function a(t,e,r){for(var n=0,i=Math.min(t.length,r),o=e;o<i;o++){var s=t.charCodeAt(o)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function c(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,l=r;l<a;l+=n)u=c(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var h=1;for(u=c(t,l,t.length,e),l=0;l<s;l++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,c=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var l=c>>>26,h=67108863&c,d=Math.min(u,e.length-1),f=Math.max(0,u-t.length+1);f<=d;f++){var p=u-f|0;l+=(s=(i=0|t.words[p])*(o=0|e.words[f])+h)/67108864|0,h=67108863&s}r.words[u]=0|h,c=0|l}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?u[6-c.length]+c+r:c+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var d=l[t],f=h[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(t);r=(p=p.idivn(f)).isZero()?m+r:u[d-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,c="le"===e,u=new t(o),l=this.clone();if(c){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-i;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s}return u},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var f=function(t,e,r){var n,i,o,s=t.words,a=e.words,c=r.words,u=0,l=0|s[0],h=8191&l,d=l>>>13,f=0|s[1],p=8191&f,m=f>>>13,g=0|s[2],y=8191&g,_=g>>>13,v=0|s[3],b=8191&v,w=v>>>13,E=0|s[4],S=8191&E,T=E>>>13,A=0|s[5],O=8191&A,M=A>>>13,k=0|s[6],x=8191&k,N=k>>>13,R=0|s[7],I=8191&R,C=R>>>13,j=0|s[8],L=8191&j,P=j>>>13,D=0|s[9],F=8191&D,B=D>>>13,U=0|a[0],q=8191&U,H=U>>>13,G=0|a[1],z=8191&G,W=G>>>13,$=0|a[2],V=8191&$,Y=$>>>13,K=0|a[3],J=8191&K,Z=K>>>13,X=0|a[4],Q=8191&X,tt=X>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ct=8191&at,ut=at>>>13,lt=0|a[8],ht=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(u+(n=Math.imul(h,q))|0)+((8191&(i=(i=Math.imul(h,H))+Math.imul(d,q)|0))<<13)|0;u=((o=Math.imul(d,H))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,q),i=(i=Math.imul(p,H))+Math.imul(m,q)|0,o=Math.imul(m,H);var yt=(u+(n=n+Math.imul(h,z)|0)|0)+((8191&(i=(i=i+Math.imul(h,W)|0)+Math.imul(d,z)|0))<<13)|0;u=((o=o+Math.imul(d,W)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,q),i=(i=Math.imul(y,H))+Math.imul(_,q)|0,o=Math.imul(_,H),n=n+Math.imul(p,z)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,z)|0,o=o+Math.imul(m,W)|0;var _t=(u+(n=n+Math.imul(h,V)|0)|0)+((8191&(i=(i=i+Math.imul(h,Y)|0)+Math.imul(d,V)|0))<<13)|0;u=((o=o+Math.imul(d,Y)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(b,q),i=(i=Math.imul(b,H))+Math.imul(w,q)|0,o=Math.imul(w,H),n=n+Math.imul(y,z)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(_,z)|0,o=o+Math.imul(_,W)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,Y)|0;var vt=(u+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(d,J)|0))<<13)|0;u=((o=o+Math.imul(d,Z)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(S,q),i=(i=Math.imul(S,H))+Math.imul(T,q)|0,o=Math.imul(T,H),n=n+Math.imul(b,z)|0,i=(i=i+Math.imul(b,W)|0)+Math.imul(w,z)|0,o=o+Math.imul(w,W)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,Y)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,Z)|0;var bt=(u+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(d,Q)|0))<<13)|0;u=((o=o+Math.imul(d,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(O,q),i=(i=Math.imul(O,H))+Math.imul(M,q)|0,o=Math.imul(M,H),n=n+Math.imul(S,z)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(T,z)|0,o=o+Math.imul(T,W)|0,n=n+Math.imul(b,V)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,Y)|0,n=n+Math.imul(y,J)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var wt=(u+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(d,rt)|0))<<13)|0;u=((o=o+Math.imul(d,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(x,q),i=(i=Math.imul(x,H))+Math.imul(N,q)|0,o=Math.imul(N,H),n=n+Math.imul(O,z)|0,i=(i=i+Math.imul(O,W)|0)+Math.imul(M,z)|0,o=o+Math.imul(M,W)|0,n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,Y)|0)+Math.imul(T,V)|0,o=o+Math.imul(T,Y)|0,n=n+Math.imul(b,J)|0,i=(i=i+Math.imul(b,Z)|0)+Math.imul(w,J)|0,o=o+Math.imul(w,Z)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var Et=(u+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,st)|0)+Math.imul(d,ot)|0))<<13)|0;u=((o=o+Math.imul(d,st)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(I,q),i=(i=Math.imul(I,H))+Math.imul(C,q)|0,o=Math.imul(C,H),n=n+Math.imul(x,z)|0,i=(i=i+Math.imul(x,W)|0)+Math.imul(N,z)|0,o=o+Math.imul(N,W)|0,n=n+Math.imul(O,V)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,Y)|0,n=n+Math.imul(S,J)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(T,J)|0,o=o+Math.imul(T,Z)|0,n=n+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var St=(u+(n=n+Math.imul(h,ct)|0)|0)+((8191&(i=(i=i+Math.imul(h,ut)|0)+Math.imul(d,ct)|0))<<13)|0;u=((o=o+Math.imul(d,ut)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(L,q),i=(i=Math.imul(L,H))+Math.imul(P,q)|0,o=Math.imul(P,H),n=n+Math.imul(I,z)|0,i=(i=i+Math.imul(I,W)|0)+Math.imul(C,z)|0,o=o+Math.imul(C,W)|0,n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(N,V)|0,o=o+Math.imul(N,Y)|0,n=n+Math.imul(O,J)|0,i=(i=i+Math.imul(O,Z)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(y,ot)|0,i=(i=i+Math.imul(y,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ut)|0;var Tt=(u+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,dt)|0)+Math.imul(d,ht)|0))<<13)|0;u=((o=o+Math.imul(d,dt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(F,q),i=(i=Math.imul(F,H))+Math.imul(B,q)|0,o=Math.imul(B,H),n=n+Math.imul(L,z)|0,i=(i=i+Math.imul(L,W)|0)+Math.imul(P,z)|0,o=o+Math.imul(P,W)|0,n=n+Math.imul(I,V)|0,i=(i=i+Math.imul(I,Y)|0)+Math.imul(C,V)|0,o=o+Math.imul(C,Y)|0,n=n+Math.imul(x,J)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,Z)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(T,rt)|0,o=o+Math.imul(T,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,n=n+Math.imul(y,ct)|0,i=(i=i+Math.imul(y,ut)|0)+Math.imul(_,ct)|0,o=o+Math.imul(_,ut)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,dt)|0;var At=(u+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(d,pt)|0))<<13)|0;u=((o=o+Math.imul(d,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(F,z),i=(i=Math.imul(F,W))+Math.imul(B,z)|0,o=Math.imul(B,W),n=n+Math.imul(L,V)|0,i=(i=i+Math.imul(L,Y)|0)+Math.imul(P,V)|0,o=o+Math.imul(P,Y)|0,n=n+Math.imul(I,J)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,Z)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(O,rt)|0,i=(i=i+Math.imul(O,nt)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,st)|0,n=n+Math.imul(b,ct)|0,i=(i=i+Math.imul(b,ut)|0)+Math.imul(w,ct)|0,o=o+Math.imul(w,ut)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,dt)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,dt)|0;var Ot=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(F,V),i=(i=Math.imul(F,Y))+Math.imul(B,V)|0,o=Math.imul(B,Y),n=n+Math.imul(L,J)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(P,J)|0,o=o+Math.imul(P,Z)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(x,rt)|0,i=(i=i+Math.imul(x,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(O,ot)|0,i=(i=i+Math.imul(O,st)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,st)|0,n=n+Math.imul(S,ct)|0,i=(i=i+Math.imul(S,ut)|0)+Math.imul(T,ct)|0,o=o+Math.imul(T,ut)|0,n=n+Math.imul(b,ht)|0,i=(i=i+Math.imul(b,dt)|0)+Math.imul(w,ht)|0,o=o+Math.imul(w,dt)|0;var Mt=(u+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(F,J),i=(i=Math.imul(F,Z))+Math.imul(B,J)|0,o=Math.imul(B,Z),n=n+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(x,ot)|0,i=(i=i+Math.imul(x,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,n=n+Math.imul(O,ct)|0,i=(i=i+Math.imul(O,ut)|0)+Math.imul(M,ct)|0,o=o+Math.imul(M,ut)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,dt)|0)+Math.imul(T,ht)|0,o=o+Math.imul(T,dt)|0;var kt=(u+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(w,pt)|0))<<13)|0;u=((o=o+Math.imul(w,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(F,Q),i=(i=Math.imul(F,tt))+Math.imul(B,Q)|0,o=Math.imul(B,tt),n=n+Math.imul(L,rt)|0,i=(i=i+Math.imul(L,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(I,ot)|0,i=(i=i+Math.imul(I,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,n=n+Math.imul(x,ct)|0,i=(i=i+Math.imul(x,ut)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,ut)|0,n=n+Math.imul(O,ht)|0,i=(i=i+Math.imul(O,dt)|0)+Math.imul(M,ht)|0,o=o+Math.imul(M,dt)|0;var xt=(u+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(T,pt)|0))<<13)|0;u=((o=o+Math.imul(T,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(F,rt),i=(i=Math.imul(F,nt))+Math.imul(B,rt)|0,o=Math.imul(B,nt),n=n+Math.imul(L,ot)|0,i=(i=i+Math.imul(L,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,n=n+Math.imul(I,ct)|0,i=(i=i+Math.imul(I,ut)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,ut)|0,n=n+Math.imul(x,ht)|0,i=(i=i+Math.imul(x,dt)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,dt)|0;var Nt=(u+(n=n+Math.imul(O,pt)|0)|0)+((8191&(i=(i=i+Math.imul(O,mt)|0)+Math.imul(M,pt)|0))<<13)|0;u=((o=o+Math.imul(M,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(F,ot),i=(i=Math.imul(F,st))+Math.imul(B,ot)|0,o=Math.imul(B,st),n=n+Math.imul(L,ct)|0,i=(i=i+Math.imul(L,ut)|0)+Math.imul(P,ct)|0,o=o+Math.imul(P,ut)|0,n=n+Math.imul(I,ht)|0,i=(i=i+Math.imul(I,dt)|0)+Math.imul(C,ht)|0,o=o+Math.imul(C,dt)|0;var Rt=(u+(n=n+Math.imul(x,pt)|0)|0)+((8191&(i=(i=i+Math.imul(x,mt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(F,ct),i=(i=Math.imul(F,ut))+Math.imul(B,ct)|0,o=Math.imul(B,ut),n=n+Math.imul(L,ht)|0,i=(i=i+Math.imul(L,dt)|0)+Math.imul(P,ht)|0,o=o+Math.imul(P,dt)|0;var It=(u+(n=n+Math.imul(I,pt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(C,pt)|0))<<13)|0;u=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(F,ht),i=(i=Math.imul(F,dt))+Math.imul(B,ht)|0,o=Math.imul(B,dt);var Ct=(u+(n=n+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,mt)|0)+Math.imul(P,pt)|0))<<13)|0;u=((o=o+Math.imul(P,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863;var jt=(u+(n=Math.imul(F,pt))|0)+((8191&(i=(i=Math.imul(F,mt))+Math.imul(B,pt)|0))<<13)|0;return u=((o=Math.imul(B,mt))+(i>>>13)|0)+(jt>>>26)|0,jt&=67108863,c[0]=gt,c[1]=yt,c[2]=_t,c[3]=vt,c[4]=bt,c[5]=wt,c[6]=Et,c[7]=St,c[8]=Tt,c[9]=At,c[10]=Ot,c[11]=Mt,c[12]=kt,c[13]=xt,c[14]=Nt,c[15]=Rt,c[16]=It,c[17]=Ct,c[18]=jt,0!==u&&(c[19]=u,r.length++),r};function p(t,e,r){return(new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(f=d),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?f(this,t,e):r<63?d(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,c=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=c;u++){var l=o-u,h=(0|t.words[l])*(0|e.words[u]),d=67108863&h;a=67108863&(d=d+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):p(this,t,e)},m.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},m.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},m.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=c,d=u,f=0;f<s;f++){var p=r[l+f],m=n[l+f],g=r[l+f+s],y=n[l+f+s],_=h*g-d*y;y=h*y+d*g,g=_,r[l+f]=p+g,n[l+f]=m+y,r[l+f+s]=p-g,n[l+f+s]=m-y,f!==a&&(_=c*h-u*d,d=c*d+u*h,h=_)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},m.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),c=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),d=r.words;d.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,u,n),this.transform(s,o,a,c,n,i),this.transform(u,o,l,h,n,i);for(var f=0;f<n;f++){var p=a[f]*l[f]-c[f]*h[f];c[f]=a[f]*h[f]+c[f]*l[f],a[f]=p}return this.conjugate(a,c,n),this.transform(a,c,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),p(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,c=(0|this.words[e])-a<<r;this.words[e]=c|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,c=r;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var h=0|this.words[u];this.words[u]=l<<26-o|h>>>o,l=h&a}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var c=(0|t.words[i])*e;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,c=n.length-i.length;if("mod"!==e){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=n.clone()._ishlnsubmul(i,1,c);0===l.negative&&(n=l,a&&(a.words[c]=1));for(var h=c-1;h>=0;h--){var d=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(d=Math.min(d/s|0,67108863),n._ishlnsubmul(i,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=d)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++u;for(var l=r.clone(),h=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(h)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(h)),a.iushrn(1),c.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(c)):(r.isub(e),a.isub(i),c.isub(s))}return{a:a,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),c=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var h=0,d=1;0==(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new E(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function S(t){E.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(_,y),_.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},_.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(v,y),i(b,y),i(w,y),w.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new _;else if("p224"===t)e=new v;else if("p192"===t)e=new b;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new w}return g[t]=e,e},E.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},E.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},E.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},E.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},E.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var h=this.pow(l,i),d=this.pow(t,i.addn(1).iushrn(1)),f=this.pow(t,i),p=s;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(h,new o(1).iushln(p-g-1));d=d.redMul(y),h=y.redSqr(),f=f.redMul(h),p=g}return d},E.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},E.prototype.pow=function(t,e){if(e.isZero())return new o(1);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,c=e.bitLength()%26;for(0===c&&(c=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],l=c-1;l>=0;l--){var h=u>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}c=26}return i},E.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},E.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new S(t)},i(S,E),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},S.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},S.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,r(8)(t))},function(t,e,r){var n=r(110);t.exports=function(t){return"string"!=typeof t?t:n(t)?t.slice(2):t}},function(t,e){t.exports=function(t){if("string"!=typeof t)throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof t+", while checking isHexPrefixed.");return"0x"===t.slice(0,2)}},function(t,e,r){!function(t){var e,r,n,i=String.fromCharCode;function o(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function s(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function a(t,e){return i(t>>e&63|128)}function c(t){if(0==(4294967168&t))return i(t);var e="";return 0==(4294965248&t)?e=i(t>>6&31|192):0==(4294901760&t)?(s(t),e=i(t>>12&15|224),e+=a(t,6)):0==(4292870144&t)&&(e=i(t>>18&7|240),e+=a(t,12),e+=a(t,6)),e+=i(63&t|128)}function u(){if(n>=r)throw Error("Invalid byte index");var t=255&e[n];if(n++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function l(){var t,i;if(n>r)throw Error("Invalid byte index");if(n==r)return!1;if(t=255&e[n],n++,0==(128&t))return t;if(192==(224&t)){if((i=(31&t)<<6|u())>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&t)){if((i=(15&t)<<12|u()<<6|u())>=2048)return s(i),i;throw Error("Invalid continuation byte")}if(240==(248&t)&&(i=(7&t)<<18|u()<<12|u()<<6|u())>=65536&&i<=1114111)return i;throw Error("Invalid UTF-8 detected")}t.version="3.0.0",t.encode=function(t){for(var e=o(t),r=e.length,n=-1,i="";++n<r;)i+=c(e[n]);return i},t.decode=function(t){e=o(t),r=e.length,n=0;for(var s,a=[];!1!==(s=l());)a.push(s);return function(t){for(var e,r=t.length,n=-1,o="";++n<r;)(e=t[n])>65535&&(o+=i((e-=65536)>>>10&1023|55296),e=56320|1023&e),o+=i(e);return o}(a)}}(e)},function(t,e){const r="0123456789abcdef".split(""),n=[1,256,65536,16777216],i=[0,8,16,24],o=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],s=t=>{var e,r,n,i,s,a,c,u,l,h,d,f,p,m,g,y,_,v,b,w,E,S,T,A,O,M,k,x,N,R,I,C,j,L,P,D,F,B,U,q,H,G,z,W,$,V,Y,K,J,Z,X,Q,tt,et,rt,nt,it,ot,st,at,ct,ut,lt;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],s=t[1]^t[11]^t[21]^t[31]^t[41],a=t[2]^t[12]^t[22]^t[32]^t[42],c=t[3]^t[13]^t[23]^t[33]^t[43],u=t[4]^t[14]^t[24]^t[34]^t[44],l=t[5]^t[15]^t[25]^t[35]^t[45],h=t[6]^t[16]^t[26]^t[36]^t[46],d=t[7]^t[17]^t[27]^t[37]^t[47],e=(f=t[8]^t[18]^t[28]^t[38]^t[48])^(a<<1|c>>>31),r=(p=t[9]^t[19]^t[29]^t[39]^t[49])^(c<<1|a>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(u<<1|l>>>31),r=s^(l<<1|u>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=a^(h<<1|d>>>31),r=c^(d<<1|h>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=u^(f<<1|p>>>31),r=l^(p<<1|f>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=h^(i<<1|s>>>31),r=d^(s<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,m=t[0],g=t[1],V=t[11]<<4|t[10]>>>28,Y=t[10]<<4|t[11]>>>28,x=t[20]<<3|t[21]>>>29,N=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ct=t[30]<<9|t[31]>>>23,G=t[40]<<18|t[41]>>>14,z=t[41]<<18|t[40]>>>14,L=t[2]<<1|t[3]>>>31,P=t[3]<<1|t[2]>>>31,y=t[13]<<12|t[12]>>>20,_=t[12]<<12|t[13]>>>20,K=t[22]<<10|t[23]>>>22,J=t[23]<<10|t[22]>>>22,R=t[33]<<13|t[32]>>>19,I=t[32]<<13|t[33]>>>19,ut=t[42]<<2|t[43]>>>30,lt=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,D=t[14]<<6|t[15]>>>26,F=t[15]<<6|t[14]>>>26,v=t[25]<<11|t[24]>>>21,b=t[24]<<11|t[25]>>>21,Z=t[34]<<15|t[35]>>>17,X=t[35]<<15|t[34]>>>17,C=t[45]<<29|t[44]>>>3,j=t[44]<<29|t[45]>>>3,A=t[6]<<28|t[7]>>>4,O=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,B=t[26]<<25|t[27]>>>7,U=t[27]<<25|t[26]>>>7,w=t[36]<<21|t[37]>>>11,E=t[37]<<21|t[36]>>>11,Q=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,W=t[8]<<27|t[9]>>>5,$=t[9]<<27|t[8]>>>5,M=t[18]<<20|t[19]>>>12,k=t[19]<<20|t[18]>>>12,ot=t[29]<<7|t[28]>>>25,st=t[28]<<7|t[29]>>>25,q=t[38]<<8|t[39]>>>24,H=t[39]<<8|t[38]>>>24,S=t[48]<<14|t[49]>>>18,T=t[49]<<14|t[48]>>>18,t[0]=m^~y&v,t[1]=g^~_&b,t[10]=A^~M&x,t[11]=O^~k&N,t[20]=L^~D&B,t[21]=P^~F&U,t[30]=W^~V&K,t[31]=$^~Y&J,t[40]=et^~nt&ot,t[41]=rt^~it&st,t[2]=y^~v&w,t[3]=_^~b&E,t[12]=M^~x&R,t[13]=k^~N&I,t[22]=D^~B&q,t[23]=F^~U&H,t[32]=V^~K&Z,t[33]=Y^~J&X,t[42]=nt^~ot&at,t[43]=it^~st&ct,t[4]=v^~w&S,t[5]=b^~E&T,t[14]=x^~R&C,t[15]=N^~I&j,t[24]=B^~q&G,t[25]=U^~H&z,t[34]=K^~Z&Q,t[35]=J^~X&tt,t[44]=ot^~at&ut,t[45]=st^~ct&lt,t[6]=w^~S&m,t[7]=E^~T&g,t[16]=R^~C&A,t[17]=I^~j&O,t[26]=q^~G&L,t[27]=H^~z&P,t[36]=Z^~Q&W,t[37]=X^~tt&$,t[46]=at^~ut&et,t[47]=ct^~lt&rt,t[8]=S^~m&y,t[9]=T^~g&_,t[18]=C^~A&M,t[19]=j^~O&k,t[28]=G^~L&D,t[29]=z^~P&F,t[38]=Q^~W&V,t[39]=tt^~$&Y,t[48]=ut^~et&nt,t[49]=lt^~rt&it,t[0]^=o[n],t[1]^=o[n+1]},a=t=>e=>{var o;if("0x"===e.slice(0,2)){o=[];for(var a=2,c=e.length;a<c;a+=2)o.push(parseInt(e.slice(a,a+2),16))}else o=e;return((t,e)=>{for(var o,a=e.length,c=t.blocks,u=t.blockCount<<2,l=t.blockCount,h=t.outputBlocks,d=t.s,f=0;f<a;){if(t.reset)for(t.reset=!1,c[0]=t.block,g=1;g<l+1;++g)c[g]=0;if("string"!=typeof e)for(g=t.start;f<a&&g<u;++f)c[g>>2]|=e[f]<<i[3&g++];else for(g=t.start;f<a&&g<u;++f)(o=e.charCodeAt(f))<128?c[g>>2]|=o<<i[3&g++]:o<2048?(c[g>>2]|=(192|o>>6)<<i[3&g++],c[g>>2]|=(128|63&o)<<i[3&g++]):o<55296||o>=57344?(c[g>>2]|=(224|o>>12)<<i[3&g++],c[g>>2]|=(128|o>>6&63)<<i[3&g++],c[g>>2]|=(128|63&o)<<i[3&g++]):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++f)),c[g>>2]|=(240|o>>18)<<i[3&g++],c[g>>2]|=(128|o>>12&63)<<i[3&g++],c[g>>2]|=(128|o>>6&63)<<i[3&g++],c[g>>2]|=(128|63&o)<<i[3&g++]);if(t.lastByteIndex=g,g>=u){for(t.start=g-u,t.block=c[l],g=0;g<l;++g)d[g]^=c[g];s(d),t.reset=!0}else t.start=g}if(c[(g=t.lastByteIndex)>>2]|=n[3&g],t.lastByteIndex===u)for(c[0]=c[l],g=1;g<l+1;++g)c[g]=0;for(c[l-1]|=2147483648,g=0;g<l;++g)d[g]^=c[g];s(d);for(var p,m="",g=0,y=0;y<h;){for(g=0;g<l&&y<h;++g,++y)p=d[g],m+=r[p>>4&15]+r[15&p]+r[p>>12&15]+r[p>>8&15]+r[p>>20&15]+r[p>>16&15]+r[p>>28&15]+r[p>>24&15];y%l==0&&(s(d),g=0)}return"0x"+m})((t=>{return{blocks:[],reset:!0,block:0,start:0,blockCount:1600-(t<<1)>>5,outputBlocks:t>>5,s:(e=[0,0,0,0,0,0,0,0,0,0],[].concat(e,e,e,e,e))};var e})(t),o)};t.exports={keccak256:a(256),keccak512:a(512),keccak256s:a(256),keccak512s:a(512)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(114);function i(t){return"string"==typeof t&&(!!/^(0x)?[0-9a-f]{512}$/i.test(t)&&!(!/^(0x)?[0-9a-f]{512}$/.test(t)&&!/^(0x)?[0-9A-F]{512}$/.test(t)))}function o(t,e){"object"==typeof e&&e.constructor===Uint8Array&&(e=n.bytesToHex(e));const r=n.keccak256(e).replace("0x","");for(let e=0;e<12;e+=4){const n=(parseInt(r.substr(e,2),16)<<8)+parseInt(r.substr(e+2,2),16)&2047,i=1<<n%4;if((s(t.charCodeAt(t.length-1-Math.floor(n/4)))&i)!==i)return!1}return!0}function s(t){if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-55;if(t>=97&&t<=102)return t-87;throw new Error("invalid bloom")}function a(t){return"string"==typeof t&&(!!/^(0x)?[0-9a-f]{64}$/i.test(t)&&!(!/^(0x)?[0-9a-f]{64}$/.test(t)&&!/^(0x)?[0-9A-F]{64}$/.test(t)))}function c(t){return"string"==typeof t&&(!!t.match(/^(0x)?[0-9a-fA-F]{40}$/)||!!t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/))}e.isBloom=i,e.isInBloom=o,e.isUserEthereumAddressInBloom=function(t,e){if(!i(t))throw new Error("Invalid bloom given");if(!c(e))throw new Error(`Invalid ethereum address given: "${e}"`);return o(t,n.padLeft(e,64))},e.isContractAddressInBloom=function(t,e){if(!i(t))throw new Error("Invalid bloom given");if(!c(e))throw new Error(`Invalid contract address given: "${e}"`);return o(t,e)},e.isTopicInBloom=function(t,e){if(!i(t))throw new Error("Invalid bloom given");if(!a(e))throw new Error("Invalid topic");return o(t,e)},e.isTopic=a,e.isAddress=c},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(115);function i(t){if(null==t)throw new Error("cannot convert null value to array");if("string"==typeof t){const e=t.match(/^(0x)?[0-9a-fA-F]*$/);if(!e)throw new Error("invalid hexidecimal string");if("0x"!==e[1])throw new Error("hex string must have 0x prefix");(t=t.substring(2)).length%2&&(t="0"+t);const r=[];for(let e=0;e<t.length;e+=2)r.push(parseInt(t.substr(e,2),16));return o(new Uint8Array(r))}if(function(t){if(!t||parseInt(String(t.length))!=t.length||"string"==typeof t)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(r<0||r>=256||parseInt(String(r))!=r)return!1}return!0}(t))return o(new Uint8Array(t));throw new Error("invalid arrayify value")}function o(t){return void 0!==t.slice||(t.slice=()=>{const e=Array.prototype.slice.call(arguments);return o(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}e.keccak256=function(t){return"0x"+n.keccak_256(i(t))},e.padLeft=(t,e)=>{const r=/^0x/i.test(t)||"number"==typeof t,n=e-(t=t.toString().replace(/^0x/i,"")).length+1>=0?e-t.length+1:0;return(r?"0x":"")+new Array(n).join("0")+t},e.bytesToHex=function(t){const e=[];for(let r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((15&t[r]).toString(16));return"0x"+e.join("").replace(/^0+/,"")},e.toByteArray=i},function(t,e,r){var n;
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */!function(){"use strict";var i="input is invalid type",o="object"==typeof window,s=o?window:{};s.JS_SHA3_NO_WINDOW&&(o=!1);var a=!o&&"object"==typeof self;!s.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?s=global:a&&(s=self);var c=!s.JS_SHA3_NO_COMMON_JS&&"object"==typeof t&&t.exports,u=r(116),l=!s.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,h="0123456789abcdef".split(""),d=[4,1024,262144,67108864],f=[0,8,16,24],p=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],m=[224,256,384,512],g=[128,256],y=["hex","buffer","arrayBuffer","array","digest"],_={128:168,256:136};!s.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!l||!s.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var v=function(t,e,r){return function(n){return new j(t,e,t).update(n)[r]()}},b=function(t,e,r){return function(n,i){return new j(t,e,i).update(n)[r]()}},w=function(t,e,r){return function(e,n,i,o){return O["cshake"+t].update(e,n,i,o)[r]()}},E=function(t,e,r){return function(e,n,i,o){return O["kmac"+t].update(e,n,i,o)[r]()}},S=function(t,e,r,n){for(var i=0;i<y.length;++i){var o=y[i];t[o]=e(r,n,o)}return t},T=function(t,e){var r=v(t,e,"hex");return r.create=function(){return new j(t,e,t)},r.update=function(t){return r.create().update(t)},S(r,v,t,e)},A=[{name:"keccak",padding:[1,256,65536,16777216],bits:m,createMethod:T},{name:"sha3",padding:[6,1536,393216,100663296],bits:m,createMethod:T},{name:"shake",padding:[31,7936,2031616,520093696],bits:g,createMethod:function(t,e){var r=b(t,e,"hex");return r.create=function(r){return new j(t,e,r)},r.update=function(t,e){return r.create(e).update(t)},S(r,b,t,e)}},{name:"cshake",padding:d,bits:g,createMethod:function(t,e){var r=_[t],n=w(t,0,"hex");return n.create=function(n,i,o){return i||o?new j(t,e,n).bytepad([i,o],r):O["shake"+t].create(n)},n.update=function(t,e,r,i){return n.create(e,r,i).update(t)},S(n,w,t,e)}},{name:"kmac",padding:d,bits:g,createMethod:function(t,e){var r=_[t],n=E(t,0,"hex");return n.create=function(n,i,o){return new L(t,e,i).bytepad(["KMAC",o],r).bytepad([n],r)},n.update=function(t,e,r,i){return n.create(t,r,i).update(e)},S(n,E,t,e)}}],O={},M=[],k=0;k<A.length;++k)for(var x=A[k],N=x.bits,R=0;R<N.length;++R){var I=x.name+"_"+N[R];if(M.push(I),O[I]=x.createMethod(N[R],x.padding),"sha3"!==x.name){var C=x.name+N[R];M.push(C),O[C]=O[I]}}function j(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function L(t,e,r){j.call(this,t,e,r)}j.prototype.update=function(t){if(this.finalized)throw new Error("finalize already called");var e,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(i);if(null===t)throw new Error(i);if(l&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||l&&ArrayBuffer.isView(t)))throw new Error(i);e=!0}for(var n,o,s=this.blocks,a=this.byteCount,c=t.length,u=this.blockCount,h=0,d=this.s;h<c;){if(this.reset)for(this.reset=!1,s[0]=this.block,n=1;n<u+1;++n)s[n]=0;if(e)for(n=this.start;h<c&&n<a;++h)s[n>>2]|=t[h]<<f[3&n++];else for(n=this.start;h<c&&n<a;++h)(o=t.charCodeAt(h))<128?s[n>>2]|=o<<f[3&n++]:o<2048?(s[n>>2]|=(192|o>>6)<<f[3&n++],s[n>>2]|=(128|63&o)<<f[3&n++]):o<55296||o>=57344?(s[n>>2]|=(224|o>>12)<<f[3&n++],s[n>>2]|=(128|o>>6&63)<<f[3&n++],s[n>>2]|=(128|63&o)<<f[3&n++]):(o=65536+((1023&o)<<10|1023&t.charCodeAt(++h)),s[n>>2]|=(240|o>>18)<<f[3&n++],s[n>>2]|=(128|o>>12&63)<<f[3&n++],s[n>>2]|=(128|o>>6&63)<<f[3&n++],s[n>>2]|=(128|63&o)<<f[3&n++]);if(this.lastByteIndex=n,n>=a){for(this.start=n-a,this.block=s[u],n=0;n<u;++n)d[n]^=s[n];P(d),this.reset=!0}else this.start=n}return this},j.prototype.encode=function(t,e){var r=255&t,n=1,i=[r];for(r=255&(t>>=8);r>0;)i.unshift(r),r=255&(t>>=8),++n;return e?i.push(n):i.unshift(n),this.update(i),i.length},j.prototype.encodeString=function(t){var e,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(i);if(null===t)throw new Error(i);if(l&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||l&&ArrayBuffer.isView(t)))throw new Error(i);e=!0}var n=0,o=t.length;if(e)n=o;else for(var s=0;s<t.length;++s){var a=t.charCodeAt(s);a<128?n+=1:a<2048?n+=2:a<55296||a>=57344?n+=3:(a=65536+((1023&a)<<10|1023&t.charCodeAt(++s)),n+=4)}return n+=this.encode(8*n),this.update(t),n},j.prototype.bytepad=function(t,e){for(var r=this.encode(e),n=0;n<t.length;++n)r+=this.encodeString(t[n]);var i=e-r%e,o=[];return o.length=i,this.update(o),this},j.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,n=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)n[e]^=t[e];P(n)}},j.prototype.toString=j.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a="";s<n;){for(o=0;o<e&&s<n;++o,++s)t=r[o],a+=h[t>>4&15]+h[15&t]+h[t>>12&15]+h[t>>8&15]+h[t>>20&15]+h[t>>16&15]+h[t>>28&15]+h[t>>24&15];s%e==0&&(P(r),o=0)}return i&&(t=r[o],a+=h[t>>4&15]+h[15&t],i>1&&(a+=h[t>>12&15]+h[t>>8&15]),i>2&&(a+=h[t>>20&15]+h[t>>16&15])),a},j.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=this.outputBits>>3;t=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var c=new Uint32Array(t);s<n;){for(o=0;o<e&&s<n;++o,++s)c[s]=r[o];s%e==0&&P(r)}return i&&(c[o]=r[o],t=t.slice(0,a)),t},j.prototype.buffer=j.prototype.arrayBuffer,j.prototype.digest=j.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,c=[];a<i;){for(s=0;s<r&&a<i;++s,++a)t=a<<2,e=n[s],c[t]=255&e,c[t+1]=e>>8&255,c[t+2]=e>>16&255,c[t+3]=e>>24&255;a%r==0&&P(n)}return o&&(t=a<<2,e=n[s],c[t]=255&e,o>1&&(c[t+1]=e>>8&255),o>2&&(c[t+2]=e>>16&255)),c},L.prototype=new j,L.prototype.finalize=function(){return this.encode(this.outputBits,!0),j.prototype.finalize.call(this)};var P=function(t){var e,r,n,i,o,s,a,c,u,l,h,d,f,m,g,y,_,v,b,w,E,S,T,A,O,M,k,x,N,R,I,C,j,L,P,D,F,B,U,q,H,G,z,W,$,V,Y,K,J,Z,X,Q,tt,et,rt,nt,it,ot,st,at,ct,ut,lt;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],o=t[1]^t[11]^t[21]^t[31]^t[41],s=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],c=t[4]^t[14]^t[24]^t[34]^t[44],u=t[5]^t[15]^t[25]^t[35]^t[45],l=t[6]^t[16]^t[26]^t[36]^t[46],h=t[7]^t[17]^t[27]^t[37]^t[47],e=(d=t[8]^t[18]^t[28]^t[38]^t[48])^(s<<1|a>>>31),r=(f=t[9]^t[19]^t[29]^t[39]^t[49])^(a<<1|s>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(c<<1|u>>>31),r=o^(u<<1|c>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=s^(l<<1|h>>>31),r=a^(h<<1|l>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=c^(d<<1|f>>>31),r=u^(f<<1|d>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=l^(i<<1|o>>>31),r=h^(o<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,m=t[0],g=t[1],V=t[11]<<4|t[10]>>>28,Y=t[10]<<4|t[11]>>>28,x=t[20]<<3|t[21]>>>29,N=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ct=t[30]<<9|t[31]>>>23,G=t[40]<<18|t[41]>>>14,z=t[41]<<18|t[40]>>>14,L=t[2]<<1|t[3]>>>31,P=t[3]<<1|t[2]>>>31,y=t[13]<<12|t[12]>>>20,_=t[12]<<12|t[13]>>>20,K=t[22]<<10|t[23]>>>22,J=t[23]<<10|t[22]>>>22,R=t[33]<<13|t[32]>>>19,I=t[32]<<13|t[33]>>>19,ut=t[42]<<2|t[43]>>>30,lt=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,D=t[14]<<6|t[15]>>>26,F=t[15]<<6|t[14]>>>26,v=t[25]<<11|t[24]>>>21,b=t[24]<<11|t[25]>>>21,Z=t[34]<<15|t[35]>>>17,X=t[35]<<15|t[34]>>>17,C=t[45]<<29|t[44]>>>3,j=t[44]<<29|t[45]>>>3,A=t[6]<<28|t[7]>>>4,O=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,B=t[26]<<25|t[27]>>>7,U=t[27]<<25|t[26]>>>7,w=t[36]<<21|t[37]>>>11,E=t[37]<<21|t[36]>>>11,Q=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,W=t[8]<<27|t[9]>>>5,$=t[9]<<27|t[8]>>>5,M=t[18]<<20|t[19]>>>12,k=t[19]<<20|t[18]>>>12,ot=t[29]<<7|t[28]>>>25,st=t[28]<<7|t[29]>>>25,q=t[38]<<8|t[39]>>>24,H=t[39]<<8|t[38]>>>24,S=t[48]<<14|t[49]>>>18,T=t[49]<<14|t[48]>>>18,t[0]=m^~y&v,t[1]=g^~_&b,t[10]=A^~M&x,t[11]=O^~k&N,t[20]=L^~D&B,t[21]=P^~F&U,t[30]=W^~V&K,t[31]=$^~Y&J,t[40]=et^~nt&ot,t[41]=rt^~it&st,t[2]=y^~v&w,t[3]=_^~b&E,t[12]=M^~x&R,t[13]=k^~N&I,t[22]=D^~B&q,t[23]=F^~U&H,t[32]=V^~K&Z,t[33]=Y^~J&X,t[42]=nt^~ot&at,t[43]=it^~st&ct,t[4]=v^~w&S,t[5]=b^~E&T,t[14]=x^~R&C,t[15]=N^~I&j,t[24]=B^~q&G,t[25]=U^~H&z,t[34]=K^~Z&Q,t[35]=J^~X&tt,t[44]=ot^~at&ut,t[45]=st^~ct&lt,t[6]=w^~S&m,t[7]=E^~T&g,t[16]=R^~C&A,t[17]=I^~j&O,t[26]=q^~G&L,t[27]=H^~z&P,t[36]=Z^~Q&W,t[37]=X^~tt&$,t[46]=at^~ut&et,t[47]=ct^~lt&rt,t[8]=S^~m&y,t[9]=T^~g&_,t[18]=C^~A&M,t[19]=j^~O&k,t[28]=G^~L&D,t[29]=z^~P&F,t[38]=Q^~W&V,t[39]=tt^~$&Y,t[48]=ut^~et&nt,t[49]=lt^~rt&it,t[0]^=p[n],t[1]^=p[n+1]};if(c)t.exports=O;else{for(k=0;k<M.length;++k)s[M[k]]=O[M[k]];u&&(void 0===(n=function(){return O}.call(e,r,e,t))||(t.exports=n))}}()},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,r){var n=r(40),i=r(42),o=r(63),s=function(t){var e=typeof t;if("string"===e)return o.isHexStrict(t)?new i(t.replace(/0x/i,""),16):new i(t,10);if("number"===e)return new i(t);if(o.isBigNumber(t))return new i(t.toString(10));if(o.isBN(t))return t;throw new Error(t+" is not a number")},a=function(t,e,r){var n,a,c;if("bytes"===(t=(c=t).startsWith("int[")?"int256"+c.slice(3):"int"===c?"int256":c.startsWith("uint[")?"uint256"+c.slice(4):"uint"===c?"uint256":c.startsWith("fixed[")?"fixed128x128"+c.slice(5):"fixed"===c?"fixed128x128":c.startsWith("ufixed[")?"ufixed128x128"+c.slice(6):"ufixed"===c?"ufixed128x128":c)){if(e.replace(/^0x/i,"").length%2!=0)throw new Error("Invalid bytes characters "+e.length);return e}if("string"===t)return o.utf8ToHex(e);if("bool"===t)return e?"01":"00";if(t.startsWith("address")){if(n=r?64:40,!o.isAddress(e))throw new Error(e+" is not a valid address, or the checksum is invalid.");return o.leftPad(e.toLowerCase(),n)}if(n=function(t){var e=/^\D+(\d+).*$/.exec(t);return e?parseInt(e[1],10):null}(t),t.startsWith("bytes")){if(!n)throw new Error("bytes[] not yet supported in solidity");if(r&&(n=32),n<1||n>32||n<e.replace(/^0x/i,"").length/2)throw new Error("Invalid bytes"+n+" for "+e);return o.rightPad(e,2*n)}if(t.startsWith("uint")){if(n%8||n<8||n>256)throw new Error("Invalid uint"+n+" size");if((a=s(e)).bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+a.bitLength());if(a.lt(new i(0)))throw new Error("Supplied uint "+a.toString()+" is negative");return n?o.leftPad(a.toString("hex"),n/8*2):a}if(t.startsWith("int")){if(n%8||n<8||n>256)throw new Error("Invalid int"+n+" size");if((a=s(e)).bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+a.bitLength());return a.lt(new i(0))?a.toTwos(n).toString("hex"):n?o.leftPad(a.toString("hex"),n/8*2):a}throw new Error("Unsupported or invalid type: "+t)},c=function(t){if(n.isArray(t))throw new Error("Autodetection of array types is not supported.");var e,r,s="";if(n.isObject(t)&&(t.hasOwnProperty("v")||t.hasOwnProperty("t")||t.hasOwnProperty("value")||t.hasOwnProperty("type"))?(e=t.hasOwnProperty("t")?t.t:t.type,s=t.hasOwnProperty("v")?t.v:t.value):(e=o.toHex(t,!0),s=o.toHex(t),e.startsWith("int")||e.startsWith("uint")||(e="bytes")),!e.startsWith("int")&&!e.startsWith("uint")||"string"!=typeof s||/^(-)?0x/i.test(s)||(s=new i(s)),n.isArray(s)){if((r=function(t){var e=/^\D+\d*\[(\d+)\]$/.exec(t);return e?parseInt(e[1],10):null}(e))&&s.length!==r)throw new Error(e+" is not matching the given array "+JSON.stringify(s));r=s.length}return n.isArray(s)?s.map((function(t){return a(e,t,r).toString("hex").replace("0x","")})).join(""):a(e,s,r).toString("hex").replace("0x","")};t.exports={soliditySha3:function(){var t=Array.prototype.slice.call(arguments),e=n.map(t,c);return o.sha3("0x"+e.join(""))},soliditySha3Raw:function(){return o.sha3Raw("0x"+n.map(Array.prototype.slice.call(arguments),c).join(""))},encodePacked:function(){var t=Array.prototype.slice.call(arguments),e=n.map(t,c);return"0x"+e.join("").toLowerCase()}}},function(t,e,r){t.exports=r(119).randomBytes},function(t,e){t.exports=require("crypto")},function(t,e){function r(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}r.keys=function(){return[]},r.resolve=r,t.exports=r,r.id=120},function(t,e,r){"use strict";const n=r(122),{stdout:i,stderr:o}=r(126),{stringReplaceAll:s,stringEncaseCRLFWithFirstIndex:a}=r(129),{isArray:c}=Array,u=["ansi","ansi","ansi256","ansi16m"],l=Object.create(null);class h{constructor(t){return d(t)}}const d=t=>{const e={};return((t,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const r=i?i.level:0;t.level=void 0===e.level?r:e.level})(e,t),e.template=(...t)=>b(e.template,...t),Object.setPrototypeOf(e,f.prototype),Object.setPrototypeOf(e.template,e),e.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},e.template.Instance=h,e.template};function f(t){return d(t)}for(const[t,e]of Object.entries(n))l[t]={get(){const r=y(this,g(e.open,e.close,this._styler),this._isEmpty);return Object.defineProperty(this,t,{value:r}),r}};l.visible={get(){const t=y(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:t}),t}};const p=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(const t of p)l[t]={get(){const{level:e}=this;return function(...r){const i=g(n.color[u[e]][t](...r),n.color.close,this._styler);return y(this,i,this._isEmpty)}}};for(const t of p){l["bg"+t[0].toUpperCase()+t.slice(1)]={get(){const{level:e}=this;return function(...r){const i=g(n.bgColor[u[e]][t](...r),n.bgColor.close,this._styler);return y(this,i,this._isEmpty)}}}}const m=Object.defineProperties(()=>{},{...l,level:{enumerable:!0,get(){return this._generator.level},set(t){this._generator.level=t}}}),g=(t,e,r)=>{let n,i;return void 0===r?(n=t,i=e):(n=r.openAll+t,i=e+r.closeAll),{open:t,close:e,openAll:n,closeAll:i,parent:r}},y=(t,e,r)=>{const n=(...t)=>c(t[0])&&c(t[0].raw)?_(n,b(n,...t)):_(n,1===t.length?""+t[0]:t.join(" "));return Object.setPrototypeOf(n,m),n._generator=t,n._styler=e,n._isEmpty=r,n},_=(t,e)=>{if(t.level<=0||!e)return t._isEmpty?"":e;let r=t._styler;if(void 0===r)return e;const{openAll:n,closeAll:i}=r;if(-1!==e.indexOf(""))for(;void 0!==r;)e=s(e,r.close,r.open),r=r.parent;const o=e.indexOf("\n");return-1!==o&&(e=a(e,i,n,o)),n+e+i};let v;const b=(t,...e)=>{const[n]=e;if(!c(n)||!c(n.raw))return e.join(" ");const i=e.slice(1),o=[n.raw[0]];for(let t=1;t<n.length;t++)o.push(String(i[t-1]).replace(/[{}\\]/g,"\\$&"),String(n.raw[t]));return void 0===v&&(v=r(130)),v(t,o.join(""))};Object.defineProperties(f.prototype,l);const w=f();w.supportsColor=i,w.stderr=f({level:o?o.level:0}),w.stderr.supportsColor=o,t.exports=w},function(t,e,r){"use strict";(function(t){const e=(t,e)=>(...r)=>`[${t(...r)+e}m`,n=(t,e)=>(...r)=>{const n=t(...r);return`[${38+e};5;${n}m`},i=(t,e)=>(...r)=>{const n=t(...r);return`[${38+e};2;${n[0]};${n[1]};${n[2]}m`},o=t=>t,s=(t,e,r)=>[t,e,r],a=(t,e,r)=>{Object.defineProperty(t,e,{get:()=>{const n=r();return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})};let c;const u=(t,e,n,i)=>{void 0===c&&(c=r(123));const o=i?10:0,s={};for(const[r,i]of Object.entries(c)){const a="ansi16"===r?"ansi":r;r===e?s[a]=t(n,o):"object"==typeof i&&(s[a]=t(i[e],o))}return s};Object.defineProperty(t,"exports",{enumerable:!0,get:function(){const t=new Map,r={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};r.color.gray=r.color.blackBright,r.bgColor.bgGray=r.bgColor.bgBlackBright,r.color.grey=r.color.blackBright,r.bgColor.bgGrey=r.bgColor.bgBlackBright;for(const[e,n]of Object.entries(r)){for(const[e,i]of Object.entries(n))r[e]={open:`[${i[0]}m`,close:`[${i[1]}m`},n[e]=r[e],t.set(i[0],i[1]);Object.defineProperty(r,e,{value:n,enumerable:!1})}return Object.defineProperty(r,"codes",{value:t,enumerable:!1}),r.color.close="[39m",r.bgColor.close="[49m",a(r.color,"ansi",()=>u(e,"ansi16",o,!1)),a(r.color,"ansi256",()=>u(n,"ansi256",o,!1)),a(r.color,"ansi16m",()=>u(i,"rgb",s,!1)),a(r.bgColor,"ansi",()=>u(e,"ansi16",o,!0)),a(r.bgColor,"ansi256",()=>u(n,"ansi256",o,!0)),a(r.bgColor,"ansi16m",()=>u(i,"rgb",s,!0)),r}})}).call(this,r(8)(t))},function(t,e,r){const n=r(66),i=r(125),o={};Object.keys(n).forEach(t=>{o[t]={},Object.defineProperty(o[t],"channels",{value:n[t].channels}),Object.defineProperty(o[t],"labels",{value:n[t].labels});const e=i(t);Object.keys(e).forEach(r=>{const n=e[r];o[t][r]=function(t){const e=function(...e){const r=e[0];if(null==r)return r;r.length>1&&(e=r);const n=t(e);if("object"==typeof n)for(let t=n.length,e=0;e<t;e++)n[e]=Math.round(n[e]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}(n),o[t][r].raw=function(t){const e=function(...e){const r=e[0];return null==r?r:(r.length>1&&(e=r),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(n)})}),t.exports=o},function(t,e,r){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(t,e,r){const n=r(66);function i(t){const e=function(){const t={},e=Object.keys(n);for(let r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}(),r=[t];for(e[t].distance=0;r.length;){const t=r.pop(),i=Object.keys(n[t]);for(let n=i.length,o=0;o<n;o++){const n=i[o],s=e[n];-1===s.distance&&(s.distance=e[t].distance+1,s.parent=t,r.unshift(n))}}return e}function o(t,e){return function(r){return e(t(r))}}function s(t,e){const r=[e[t].parent,t];let i=n[e[t].parent][t],s=e[t].parent;for(;e[s].parent;)r.unshift(e[s].parent),i=o(n[e[s].parent][s],i),s=e[s].parent;return i.conversion=r,i}t.exports=function(t){const e=i(t),r={},n=Object.keys(e);for(let t=n.length,i=0;i<t;i++){const t=n[i];null!==e[t].parent&&(r[t]=s(t,e))}return r}},function(t,e,r){"use strict";const n=r(31),i=r(127),o=r(128),{env:s}=process;let a;function c(t){return 0!==t&&{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function u(t,e){if(0===a)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(t&&!e&&void 0===a)return 0;const r=a||0;if("dumb"===s.TERM)return r;if("win32"===process.platform){const t=n.release().split(".");return Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(t=>t in s)||"codeship"===s.CI_NAME?1:r;if("TEAMCITY_VERSION"in s)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0;if("truecolor"===s.COLORTERM)return 3;if("TERM_PROGRAM"in s){const t=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)||"COLORTERM"in s?1:r}o("no-color")||o("no-colors")||o("color=false")||o("color=never")?a=0:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(a=1),"FORCE_COLOR"in s&&(a="true"===s.FORCE_COLOR?1:"false"===s.FORCE_COLOR?0:0===s.FORCE_COLOR.length?1:Math.min(parseInt(s.FORCE_COLOR,10),3)),t.exports={supportsColor:function(t){return c(u(t,t&&t.isTTY))},stdout:c(u(!0,i.isatty(1))),stderr:c(u(!0,i.isatty(2)))}},function(t,e){t.exports=require("tty")},function(t,e,r){"use strict";t.exports=(t,e=process.argv)=>{const r=t.startsWith("-")?"":1===t.length?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return-1!==n&&(-1===i||n<i)}},function(t,e,r){"use strict";t.exports={stringReplaceAll:(t,e,r)=>{let n=t.indexOf(e);if(-1===n)return t;const i=e.length;let o=0,s="";do{s+=t.substr(o,n-o)+e+r,o=n+i,n=t.indexOf(e,o)}while(-1!==n);return s+=t.substr(o),s},stringEncaseCRLFWithFirstIndex:(t,e,r,n)=>{let i=0,o="";do{const s="\r"===t[n-1];o+=t.substr(i,(s?n-1:n)-i)+e+(s?"\r\n":"\n")+r,i=n+1,n=t.indexOf("\n",i)}while(-1!==n);return o+=t.substr(i),o}}},function(t,e,r){"use strict";const n=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,i=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,o=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,s=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,a=new Map([["n","\n"],["r","\r"],["t","\t"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a",""]]);function c(t){const e="u"===t[0],r="{"===t[1];return e&&!r&&5===t.length||"x"===t[0]&&3===t.length?String.fromCharCode(parseInt(t.slice(1),16)):e&&r?String.fromCodePoint(parseInt(t.slice(2,-1),16)):a.get(t)||t}function u(t,e){const r=[],n=e.trim().split(/\s*,\s*/g);let i;for(const e of n){const n=Number(e);if(Number.isNaN(n)){if(!(i=e.match(o)))throw new Error(`Invalid Chalk template style argument: ${e} (in style '${t}')`);r.push(i[2].replace(s,(t,e,r)=>e?c(e):r))}else r.push(n)}return r}function l(t){i.lastIndex=0;const e=[];let r;for(;null!==(r=i.exec(t));){const t=r[1];if(r[2]){const n=u(t,r[2]);e.push([t].concat(n))}else e.push([t])}return e}function h(t,e){const r={};for(const t of e)for(const e of t.styles)r[e[0]]=t.inverse?null:e.slice(1);let n=t;for(const[t,e]of Object.entries(r))if(Array.isArray(e)){if(!(t in n))throw new Error("Unknown Chalk style: "+t);n=e.length>0?n[t](...e):n[t]}return n}t.exports=(t,e)=>{const r=[],i=[];let o=[];if(e.replace(n,(e,n,s,a,u,d)=>{if(n)o.push(c(n));else if(a){const e=o.join("");o=[],i.push(0===r.length?e:h(t,r)(e)),r.push({inverse:s,styles:l(a)})}else if(u){if(0===r.length)throw new Error("Found extraneous } in Chalk template literal");i.push(h(t,r)(o.join(""))),o=[],r.pop()}else o.push(d)}),i.push(o.join("")),r.length>0){const t=`Chalk template literal is missing ${r.length} closing bracket${1===r.length?"":"s"} (\`}\`)`;throw new Error(t)}return i.join("")}},function(t,e){t.exports=function(t){let e="";for(const[r,n]of t)e+=`${r},${n}\n`;return e}},function(t,e,r){var n=r(133),i=process.cwd,o=null,s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return o||(o=i.call(process)),o};try{process.cwd()}catch(t){}if("function"==typeof process.chdir){var a=process.chdir;process.chdir=function(t){o=null,a.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,a)}t.exports=function(t){n.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(t){t.lchmod=function(e,r,i){t.open(e,n.O_WRONLY|n.O_SYMLINK,r,(function(e,n){e?i&&i(e):t.fchmod(n,r,(function(e){t.close(n,(function(t){i&&i(e||t)}))}))}))},t.lchmodSync=function(e,r){var i,o=t.openSync(e,n.O_WRONLY|n.O_SYMLINK,r),s=!0;try{i=t.fchmodSync(o,r),s=!1}finally{if(s)try{t.closeSync(o)}catch(t){}else t.closeSync(o)}return i}}(t);t.lutimes||function(t){n.hasOwnProperty("O_SYMLINK")?(t.lutimes=function(e,r,i,o){t.open(e,n.O_SYMLINK,(function(e,n){e?o&&o(e):t.futimes(n,r,i,(function(e){t.close(n,(function(t){o&&o(e||t)}))}))}))},t.lutimesSync=function(e,r,i){var o,s=t.openSync(e,n.O_SYMLINK),a=!0;try{o=t.futimesSync(s,r,i),a=!1}finally{if(a)try{t.closeSync(s)}catch(t){}else t.closeSync(s)}return o}):(t.lutimes=function(t,e,r,n){n&&process.nextTick(n)},t.lutimesSync=function(){})}(t);t.chown=o(t.chown),t.fchown=o(t.fchown),t.lchown=o(t.lchown),t.chmod=r(t.chmod),t.fchmod=r(t.fchmod),t.lchmod=r(t.lchmod),t.chownSync=a(t.chownSync),t.fchownSync=a(t.fchownSync),t.lchownSync=a(t.lchownSync),t.chmodSync=i(t.chmodSync),t.fchmodSync=i(t.fchmodSync),t.lchmodSync=i(t.lchmodSync),t.stat=c(t.stat),t.fstat=c(t.fstat),t.lstat=c(t.lstat),t.statSync=u(t.statSync),t.fstatSync=u(t.fstatSync),t.lstatSync=u(t.lstatSync),t.lchmod||(t.lchmod=function(t,e,r){r&&process.nextTick(r)},t.lchmodSync=function(){});t.lchown||(t.lchown=function(t,e,r,n){n&&process.nextTick(n)},t.lchownSync=function(){});"win32"===s&&(t.rename=(e=t.rename,function(r,n,i){var o=Date.now(),s=0;e(r,n,(function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code)&&Date.now()-o<6e4)return setTimeout((function(){t.stat(n,(function(t,o){t&&"ENOENT"===t.code?e(r,n,a):i(c)}))}),s),void(s<100&&(s+=10));i&&i(c)}))}));var e;function r(e){return e?function(r,n,i){return e.call(t,r,n,(function(t){l(t)&&(t=null),i&&i.apply(this,arguments)}))}:e}function i(e){return e?function(r,n){try{return e.call(t,r,n)}catch(t){if(!l(t))throw t}}:e}function o(e){return e?function(r,n,i,o){return e.call(t,r,n,i,(function(t){l(t)&&(t=null),o&&o.apply(this,arguments)}))}:e}function a(e){return e?function(r,n,i){try{return e.call(t,r,n,i)}catch(t){if(!l(t))throw t}}:e}function c(e){return e?function(r,n,i){function o(t,e){e&&(e.uid<0&&(e.uid+=4294967296),e.gid<0&&(e.gid+=4294967296)),i&&i.apply(this,arguments)}return"function"==typeof n&&(i=n,n=null),n?e.call(t,r,n,o):e.call(t,r,o)}:e}function u(e){return e?function(r,n){var i=n?e.call(t,r,n):e.call(t,r);return i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296),i}:e}function l(t){return!t||("ENOSYS"===t.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==t.code&&"EPERM"!==t.code))}t.read=function(e){function r(r,n,i,o,s,a){var c;if(a&&"function"==typeof a){var u=0;c=function(l,h,d){if(l&&"EAGAIN"===l.code&&u<10)return u++,e.call(t,r,n,i,o,s,c);a.apply(this,arguments)}}return e.call(t,r,n,i,o,s,c)}return Object.setPrototypeOf&&Object.setPrototypeOf(r,e),r}(t.read),t.readSync=(h=t.readSync,function(e,r,n,i,o){for(var s=0;;)try{return h.call(t,e,r,n,i,o)}catch(t){if("EAGAIN"===t.code&&s<10){s++;continue}throw t}});var h}},function(t,e){t.exports=require("constants")},function(t,e,r){var n=r(4).Stream;t.exports=function(t){return{ReadStream:function e(r,i){if(!(this instanceof e))return new e(r,i);n.call(this);var o=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,i=i||{};for(var s=Object.keys(i),a=0,c=s.length;a<c;a++){var u=s[a];this[u]=i[u]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick((function(){o._read()}));t.open(this.path,this.flags,this.mode,(function(t,e){if(t)return o.emit("error",t),void(o.readable=!1);o.fd=e,o.emit("open",e),o._read()}))},WriteStream:function e(r,i){if(!(this instanceof e))return new e(r,i);n.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),s=0,a=o.length;s<a;s++){var c=o[s];this[c]=i[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},function(t,e,r){"use strict";t.exports=function(t){if(null===t||"object"!=typeof t)return t;if(t instanceof Object)var e={__proto__:n(t)};else e=Object.create(null);return Object.getOwnPropertyNames(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e};var n=Object.getPrototypeOf||function(t){return t.__proto__}},function(t,e,r){"use strict";const n=r(5),i=r(1),o=r(9).mkdirsSync,s=r(69).utimesMillisSync,a=r(23);function c(t,e,r,o){const s=(o.dereference?n.statSync:n.lstatSync)(e);if(s.isDirectory())return function(t,e,r,i,o){return e?h(r,i,o):function(t,e,r,i){return n.mkdirSync(r),h(e,r,i),l(r,t)}(t.mode,r,i,o)}(s,t,e,r,o);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return function(t,e,r,i,o){return e?function(t,e,r,i){if(i.overwrite)return n.unlinkSync(r),u(t,e,r,i);if(i.errorOnExist)throw new Error(`'${r}' already exists`)}(t,r,i,o):u(t,r,i,o)}(s,t,e,r,o);if(s.isSymbolicLink())return function(t,e,r,o){let s=n.readlinkSync(e);o.dereference&&(s=i.resolve(process.cwd(),s));if(t){let t;try{t=n.readlinkSync(r)}catch(t){if("EINVAL"===t.code||"UNKNOWN"===t.code)return n.symlinkSync(s,r);throw t}if(o.dereference&&(t=i.resolve(process.cwd(),t)),a.isSrcSubdir(s,t))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${t}'.`);if(n.statSync(r).isDirectory()&&a.isSrcSubdir(t,s))throw new Error(`Cannot overwrite '${t}' with '${s}'.`);return function(t,e){return n.unlinkSync(e),n.symlinkSync(t,e)}(s,r)}return n.symlinkSync(s,r)}(t,e,r,o);if(s.isSocket())throw new Error("Cannot copy a socket file: "+e);if(s.isFIFO())throw new Error("Cannot copy a FIFO pipe: "+e);throw new Error("Unknown file: "+e)}function u(t,e,r,i){return n.copyFileSync(e,r),i.preserveTimestamps&&function(t,e,r){(function(t){return 0==(128&t)})(t)&&function(t,e){l(t,128|e)}(r,t);(function(t,e){const r=n.statSync(t);s(e,r.atime,r.mtime)})(e,r)}(t.mode,e,r),l(r,t.mode)}function l(t,e){return n.chmodSync(t,e)}function h(t,e,r){n.readdirSync(t).forEach(n=>function(t,e,r,n){const o=i.join(e,t),s=i.join(r,t),{destStat:u}=a.checkPathsSync(o,s,"copy",n);return function(t,e,r,n){if(!n.filter||n.filter(e,r))return c(t,e,r,n)}(u,o,s,n)}(n,t,e,r))}t.exports=function(t,e,r){"function"==typeof r&&(r={filter:r}),(r=r||{}).clobber=!("clobber"in r)||!!r.clobber,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");const{srcStat:s,destStat:u}=a.checkPathsSync(t,e,"copy",r);return a.checkParentPathsSync(t,s,e,"copy"),function(t,e,r,s){if(s.filter&&!s.filter(e,r))return;const a=i.dirname(r);n.existsSync(a)||o(a);return c(t,e,r,s)}(u,t,e,r)}},function(t,e,r){"use strict";const n=r(22),{checkPath:i}=r(138),o=t=>"number"==typeof t?t:{mode:511,...t}.mode;t.exports.makeDir=async(t,e)=>(i(t),n.mkdir(t,{mode:o(e),recursive:!0})),t.exports.makeDirSync=(t,e)=>(i(t),n.mkdirSync(t,{mode:o(e),recursive:!0}))},function(t,e,r){"use strict";const n=r(1);t.exports.checkPath=function(t){if("win32"===process.platform){if(/[<>:"|?*]/.test(t.replace(n.parse(t).root,""))){const e=new Error("Path contains invalid characters: "+t);throw e.code="EINVAL",e}}}},function(t,e,r){"use strict";const n=r(5),i=r(1),o=r(9).mkdirs,s=r(20).pathExists,a=r(69).utimesMillis,c=r(23);function u(t,e,r,n,a){const c=i.dirname(r);s(c,(i,s)=>i?a(i):s?h(t,e,r,n,a):void o(c,i=>i?a(i):h(t,e,r,n,a)))}function l(t,e,r,n,i,o){Promise.resolve(i.filter(r,n)).then(s=>s?t(e,r,n,i,o):o(),t=>o(t))}function h(t,e,r,i,o){(i.dereference?n.stat:n.lstat)(e,(s,a)=>s?o(s):a.isDirectory()?function(t,e,r,i,o,s){return e?m(r,i,o,s):function(t,e,r,i,o){n.mkdir(r,n=>{if(n)return o(n);m(e,r,i,e=>e?o(e):p(r,t,o))})}(t.mode,r,i,o,s)}(a,t,e,r,i,o):a.isFile()||a.isCharacterDevice()||a.isBlockDevice()?function(t,e,r,i,o,s){return e?function(t,e,r,i,o){if(!i.overwrite)return i.errorOnExist?o(new Error(`'${r}' already exists`)):o();n.unlink(r,n=>n?o(n):d(t,e,r,i,o))}(t,r,i,o,s):d(t,r,i,o,s)}(a,t,e,r,i,o):a.isSymbolicLink()?y(t,e,r,i,o):a.isSocket()?o(new Error("Cannot copy a socket file: "+e)):a.isFIFO()?o(new Error("Cannot copy a FIFO pipe: "+e)):o(new Error("Unknown file: "+e)))}function d(t,e,r,i,o){n.copyFile(e,r,n=>n?o(n):i.preserveTimestamps?function(t,e,r,n){if(function(t){return 0==(128&t)}(t))return function(t,e,r){return p(t,128|e,r)}(r,t,i=>i?n(i):f(t,e,r,n));return f(t,e,r,n)}(t.mode,e,r,o):p(r,t.mode,o))}function f(t,e,r,i){!function(t,e,r){n.stat(t,(t,n)=>t?r(t):a(e,n.atime,n.mtime,r))}(e,r,e=>e?i(e):p(r,t,i))}function p(t,e,r){return n.chmod(t,e,r)}function m(t,e,r,i){n.readdir(t,(n,o)=>n?i(n):g(o,t,e,r,i))}function g(t,e,r,n,o){const s=t.pop();return s?function(t,e,r,n,o,s){const a=i.join(r,e),u=i.join(n,e);c.checkPaths(a,u,"copy",o,(e,i)=>{if(e)return s(e);const{destStat:c}=i;!function(t,e,r,n,i){n.filter?l(h,t,e,r,n,i):h(t,e,r,n,i)}(c,a,u,o,e=>e?s(e):g(t,r,n,o,s))})}(t,s,e,r,n,o):o()}function y(t,e,r,o,s){n.readlink(e,(e,a)=>e?s(e):(o.dereference&&(a=i.resolve(process.cwd(),a)),t?void n.readlink(r,(e,u)=>e?"EINVAL"===e.code||"UNKNOWN"===e.code?n.symlink(a,r,s):s(e):(o.dereference&&(u=i.resolve(process.cwd(),u)),c.isSrcSubdir(a,u)?s(new Error(`Cannot copy '${a}' to a subdirectory of itself, '${u}'.`)):t.isDirectory()&&c.isSrcSubdir(u,a)?s(new Error(`Cannot overwrite '${u}' with '${a}'.`)):function(t,e,r){n.unlink(e,i=>i?r(i):n.symlink(t,e,r))}(a,r,s))):n.symlink(a,r,s)))}t.exports=function(t,e,r,n){"function"!=typeof r||n?"function"==typeof r&&(r={filter:r}):(n=r,r={}),n=n||function(){},(r=r||{}).clobber=!("clobber"in r)||!!r.clobber,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),c.checkPaths(t,e,"copy",r,(i,o)=>{if(i)return n(i);const{srcStat:s,destStat:a}=o;c.checkParentPaths(t,s,e,"copy",i=>i?n(i):r.filter?l(u,a,t,e,r,n):u(a,t,e,r,n))})}},function(t,e,r){"use strict";const n=r(6).fromPromise,i=r(22),o=r(1),s=r(9),a=r(32),c=n((async function(t){let e;try{e=await i.readdir(t)}catch{return s.mkdirs(t)}return Promise.all(e.map(e=>a.remove(o.join(t,e))))}));function u(t){let e;try{e=i.readdirSync(t)}catch{return s.mkdirsSync(t)}e.forEach(e=>{e=o.join(t,e),a.removeSync(e)})}t.exports={emptyDirSync:u,emptydirSync:u,emptyDir:c,emptydir:c}},function(t,e,r){"use strict";const n=r(5),i=r(1),o=r(67),s="win32"===process.platform;function a(t){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(e=>{t[e]=t[e]||n[e],t[e+="Sync"]=t[e]||n[e]}),t.maxBusyTries=t.maxBusyTries||3}function c(t,e,r){let n=0;"function"==typeof e&&(r=e,e={}),o(t,"rimraf: missing path"),o.strictEqual(typeof t,"string","rimraf: path should be a string"),o.strictEqual(typeof r,"function","rimraf: callback function required"),o(e,"rimraf: invalid options argument provided"),o.strictEqual(typeof e,"object","rimraf: options should be object"),a(e),u(t,e,(function i(o){if(o){if(("EBUSY"===o.code||"ENOTEMPTY"===o.code||"EPERM"===o.code)&&n<e.maxBusyTries){n++;return setTimeout(()=>u(t,e,i),100*n)}"ENOENT"===o.code&&(o=null)}r(o)}))}function u(t,e,r){o(t),o(e),o("function"==typeof r),e.lstat(t,(n,i)=>n&&"ENOENT"===n.code?r(null):n&&"EPERM"===n.code&&s?l(t,e,n,r):i&&i.isDirectory()?d(t,e,n,r):void e.unlink(t,n=>{if(n){if("ENOENT"===n.code)return r(null);if("EPERM"===n.code)return s?l(t,e,n,r):d(t,e,n,r);if("EISDIR"===n.code)return d(t,e,n,r)}return r(n)}))}function l(t,e,r,n){o(t),o(e),o("function"==typeof n),e.chmod(t,438,i=>{i?n("ENOENT"===i.code?null:r):e.stat(t,(i,o)=>{i?n("ENOENT"===i.code?null:r):o.isDirectory()?d(t,e,r,n):e.unlink(t,n)})})}function h(t,e,r){let n;o(t),o(e);try{e.chmodSync(t,438)}catch(t){if("ENOENT"===t.code)return;throw r}try{n=e.statSync(t)}catch(t){if("ENOENT"===t.code)return;throw r}n.isDirectory()?p(t,e,r):e.unlinkSync(t)}function d(t,e,r,n){o(t),o(e),o("function"==typeof n),e.rmdir(t,s=>{!s||"ENOTEMPTY"!==s.code&&"EEXIST"!==s.code&&"EPERM"!==s.code?s&&"ENOTDIR"===s.code?n(r):n(s):function(t,e,r){o(t),o(e),o("function"==typeof r),e.readdir(t,(n,o)=>{if(n)return r(n);let s,a=o.length;if(0===a)return e.rmdir(t,r);o.forEach(n=>{c(i.join(t,n),e,n=>{if(!s)return n?r(s=n):void(0==--a&&e.rmdir(t,r))})})})}(t,e,n)})}function f(t,e){let r;a(e=e||{}),o(t,"rimraf: missing path"),o.strictEqual(typeof t,"string","rimraf: path should be a string"),o(e,"rimraf: missing options"),o.strictEqual(typeof e,"object","rimraf: options should be object");try{r=e.lstatSync(t)}catch(r){if("ENOENT"===r.code)return;"EPERM"===r.code&&s&&h(t,e,r)}try{r&&r.isDirectory()?p(t,e,null):e.unlinkSync(t)}catch(r){if("ENOENT"===r.code)return;if("EPERM"===r.code)return s?h(t,e,r):p(t,e,r);if("EISDIR"!==r.code)throw r;p(t,e,r)}}function p(t,e,r){o(t),o(e);try{e.rmdirSync(t)}catch(n){if("ENOTDIR"===n.code)throw r;if("ENOTEMPTY"===n.code||"EEXIST"===n.code||"EPERM"===n.code)!function(t,e){if(o(t),o(e),e.readdirSync(t).forEach(r=>f(i.join(t,r),e)),!s){return e.rmdirSync(t,e)}{const r=Date.now();do{try{return e.rmdirSync(t,e)}catch{}}while(Date.now()-r<500)}}(t,e);else if("ENOENT"!==n.code)throw n}}t.exports=c,c.sync=f},function(t,e,r){"use strict";const n=r(143),i=r(144),o=r(145);t.exports={createFile:n.createFile,createFileSync:n.createFileSync,ensureFile:n.createFile,ensureFileSync:n.createFileSync,createLink:i.createLink,createLinkSync:i.createLinkSync,ensureLink:i.createLink,ensureLinkSync:i.createLinkSync,createSymlink:o.createSymlink,createSymlinkSync:o.createSymlinkSync,ensureSymlink:o.createSymlink,ensureSymlinkSync:o.createSymlinkSync}},function(t,e,r){"use strict";const n=r(6).fromCallback,i=r(1),o=r(5),s=r(9);t.exports={createFile:n((function(t,e){function r(){o.writeFile(t,"",t=>{if(t)return e(t);e()})}o.stat(t,(n,a)=>{if(!n&&a.isFile())return e();const c=i.dirname(t);o.stat(c,(t,n)=>{if(t)return"ENOENT"===t.code?s.mkdirs(c,t=>{if(t)return e(t);r()}):e(t);n.isDirectory()?r():o.readdir(c,t=>{if(t)return e(t)})})})})),createFileSync:function(t){let e;try{e=o.statSync(t)}catch{}if(e&&e.isFile())return;const r=i.dirname(t);try{o.statSync(r).isDirectory()||o.readdirSync(r)}catch(t){if(!t||"ENOENT"!==t.code)throw t;s.mkdirsSync(r)}o.writeFileSync(t,"")}}},function(t,e,r){"use strict";const n=r(6).fromCallback,i=r(1),o=r(5),s=r(9),a=r(20).pathExists,{areIdentical:c}=r(23);t.exports={createLink:n((function(t,e,r){function n(t,e){o.link(t,e,t=>{if(t)return r(t);r(null)})}o.lstat(e,(u,l)=>{o.lstat(t,(o,u)=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),r(o);if(l&&c(u,l))return r(null);const h=i.dirname(e);a(h,(i,o)=>i?r(i):o?n(t,e):void s.mkdirs(h,i=>{if(i)return r(i);n(t,e)}))})})})),createLinkSync:function(t,e){let r;try{r=o.lstatSync(e)}catch{}try{const e=o.lstatSync(t);if(r&&c(e,r))return}catch(t){throw t.message=t.message.replace("lstat","ensureLink"),t}const n=i.dirname(e);return o.existsSync(n)||s.mkdirsSync(n),o.linkSync(t,e)}}},function(t,e,r){"use strict";const n=r(6).fromCallback,i=r(1),o=r(22),s=r(9),a=s.mkdirs,c=s.mkdirsSync,u=r(146),l=u.symlinkPaths,h=u.symlinkPathsSync,d=r(147),f=d.symlinkType,p=d.symlinkTypeSync,m=r(20).pathExists,{areIdentical:g}=r(23);function y(t,e,r,n){l(t,e,(s,c)=>{if(s)return n(s);t=c.toDst,f(c.toCwd,r,(r,s)=>{if(r)return n(r);const c=i.dirname(e);m(c,(r,i)=>r?n(r):i?o.symlink(t,e,s,n):void a(c,r=>{if(r)return n(r);o.symlink(t,e,s,n)}))})})}t.exports={createSymlink:n((function(t,e,r,n){n="function"==typeof r?r:n,r="function"!=typeof r&&r,o.lstat(e,(i,s)=>{!i&&s.isSymbolicLink()?Promise.all([o.stat(t),o.stat(e)]).then(([i,o])=>{if(g(i,o))return n(null);y(t,e,r,n)}):y(t,e,r,n)})})),createSymlinkSync:function(t,e,r){let n;try{n=o.lstatSync(e)}catch{}if(n&&n.isSymbolicLink()){const r=o.statSync(t),n=o.statSync(e);if(g(r,n))return}const s=h(t,e);t=s.toDst,r=p(s.toCwd,r);const a=i.dirname(e);return o.existsSync(a)||c(a),o.symlinkSync(t,e,r)}}},function(t,e,r){"use strict";const n=r(1),i=r(5),o=r(20).pathExists;t.exports={symlinkPaths:function(t,e,r){if(n.isAbsolute(t))return i.lstat(t,e=>e?(e.message=e.message.replace("lstat","ensureSymlink"),r(e)):r(null,{toCwd:t,toDst:t}));{const s=n.dirname(e),a=n.join(s,t);return o(a,(e,o)=>e?r(e):o?r(null,{toCwd:a,toDst:t}):i.lstat(t,e=>e?(e.message=e.message.replace("lstat","ensureSymlink"),r(e)):r(null,{toCwd:t,toDst:n.relative(s,t)})))}},symlinkPathsSync:function(t,e){let r;if(n.isAbsolute(t)){if(r=i.existsSync(t),!r)throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}{const o=n.dirname(e),s=n.join(o,t);if(r=i.existsSync(s),r)return{toCwd:s,toDst:t};if(r=i.existsSync(t),!r)throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:n.relative(o,t)}}}}},function(t,e,r){"use strict";const n=r(5);t.exports={symlinkType:function(t,e,r){if(r="function"==typeof e?e:r,e="function"!=typeof e&&e)return r(null,e);n.lstat(t,(t,n)=>{if(t)return r(null,"file");e=n&&n.isDirectory()?"dir":"file",r(null,e)})},symlinkTypeSync:function(t,e){let r;if(e)return e;try{r=n.lstatSync(t)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}}},function(t,e,r){"use strict";const n=r(6).fromPromise,i=r(149);i.outputJson=n(r(151)),i.outputJsonSync=r(152),i.outputJSON=i.outputJson,i.outputJSONSync=i.outputJsonSync,i.writeJSON=i.writeJson,i.writeJSONSync=i.writeJsonSync,i.readJSON=i.readJson,i.readJSONSync=i.readJsonSync,t.exports=i},function(t,e,r){"use strict";const n=r(150);t.exports={readJson:n.readFile,readJsonSync:n.readFileSync,writeJson:n.writeFile,writeJsonSync:n.writeFileSync}},function(t,e,r){let n;try{n=r(5)}catch(t){n=r(15)}const i=r(6),{stringify:o,stripBom:s}=r(43);const a={readFile:i.fromPromise((async function(t,e={}){"string"==typeof e&&(e={encoding:e});const r=e.fs||n,o=!("throws"in e)||e.throws;let a,c=await i.fromCallback(r.readFile)(t,e);c=s(c);try{a=JSON.parse(c,e?e.reviver:null)}catch(e){if(o)throw e.message=`${t}: ${e.message}`,e;return null}return a})),readFileSync:function(t,e={}){"string"==typeof e&&(e={encoding:e});const r=e.fs||n,i=!("throws"in e)||e.throws;try{let n=r.readFileSync(t,e);return n=s(n),JSON.parse(n,e.reviver)}catch(e){if(i)throw e.message=`${t}: ${e.message}`,e;return null}},writeFile:i.fromPromise((async function(t,e,r={}){const s=r.fs||n,a=o(e,r);await i.fromCallback(s.writeFile)(t,a,r)})),writeFileSync:function(t,e,r={}){const i=r.fs||n,s=o(e,r);return i.writeFileSync(t,s,r)}};t.exports=a},function(t,e,r){"use strict";const{stringify:n}=r(43),{outputFile:i}=r(44);t.exports=async function(t,e,r={}){const o=n(e,r);await i(t,o,r)}},function(t,e,r){"use strict";const{stringify:n}=r(43),{outputFileSync:i}=r(44);t.exports=function(t,e,r){const o=n(e,r);i(t,o,r)}},function(t,e,r){"use strict";t.exports={moveSync:r(154)}},function(t,e,r){"use strict";const n=r(5),i=r(1),o=r(68).copySync,s=r(32).removeSync,a=r(9).mkdirpSync,c=r(23);function u(t,e,r){try{n.renameSync(t,e)}catch(n){if("EXDEV"!==n.code)throw n;return function(t,e,r){return o(t,e,{overwrite:r,errorOnExist:true}),s(t)}(t,e,r)}}t.exports=function(t,e,r){const o=(r=r||{}).overwrite||r.clobber||!1,{srcStat:l,isChangingCase:h=!1}=c.checkPathsSync(t,e,"move",r);return c.checkParentPathsSync(t,l,e,"move"),function(t){const e=i.dirname(t);return i.parse(e).root===e}(e)||a(i.dirname(e)),function(t,e,r,i){if(i)return u(t,e,r);if(r)return s(e),u(t,e,r);if(n.existsSync(e))throw new Error("dest already exists.");return u(t,e,r)}(t,e,o,h)}},function(t,e,r){"use strict";const n=r(6).fromCallback;t.exports={move:n(r(156))}},function(t,e,r){"use strict";const n=r(5),i=r(1),o=r(70).copy,s=r(32).remove,a=r(9).mkdirp,c=r(20).pathExists,u=r(23);function l(t,e,r,n,i){return n?h(t,e,r,i):r?s(e,n=>n?i(n):h(t,e,r,i)):void c(e,(n,o)=>n?i(n):o?i(new Error("dest already exists.")):h(t,e,r,i))}function h(t,e,r,i){n.rename(t,e,n=>n?"EXDEV"!==n.code?i(n):function(t,e,r,n){o(t,e,{overwrite:r,errorOnExist:!0},e=>e?n(e):s(t,n))}(t,e,r,i):i())}t.exports=function(t,e,r,n){"function"==typeof r&&(n=r,r={});const o=r.overwrite||r.clobber||!1;u.checkPaths(t,e,"move",r,(r,s)=>{if(r)return n(r);const{srcStat:c,isChangingCase:h=!1}=s;u.checkParentPaths(t,c,e,"move",r=>r?n(r):function(t){const e=i.dirname(t);return i.parse(e).root===e}(e)?l(t,e,o,h,n):void a(i.dirname(e),r=>r?n(r):l(t,e,o,h,n)))})}},function(t,e,r){"use strict";var n=r(45),i=r(12).unescapeString,o=r(12).OPENTAG,s=r(12).CLOSETAG,a=r(164),c=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+o+"|"+s+")\\s*$","i")],u=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],l=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,h=/^[#`~*+_=<>0-9-]/,d=/[^ \t\f\v\r\n]/,f=/^[*+-]/,p=/^(\d{1,9})([.)])/,m=/^#{1,6}(?:[ \t]+|$)/,g=/^`{3,}(?!.*`)|^~{3,}/,y=/^(?:`{3,}|~{3,})(?= *$)/,_=/^(?:=+|-+)[ \t]*$/,v=/\r\n|\n|\r/,b=function(t){return 32===t||9===t},w=function(t,e){return e<t.length?t.charCodeAt(e):-1},E=function(t){for(;t;){if(t._lastLineBlank)return!0;var e=t.type;if(t._lastLineChecked||"list"!==e&&"item"!==e){t._lastLineChecked=!0;break}t._lastLineChecked=!0,t=t._lastChild}return!1},S=function(){if(this.partiallyConsumedTab){this.offset+=1;var t=4-this.column%4;this.tip._string_content+=" ".repeat(t)}this.tip._string_content+=this.currentLine.slice(this.offset)+"\n"},T=function(t,e){for(;!this.blocks[this.tip.type].canContain(t);)this.finalize(this.tip,this.lineNumber-1);var r=e+1,i=new n(t,[[this.lineNumber,r],[0,0]]);return i._string_content="",this.tip.appendChild(i),this.tip=i,i},A=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var t=this.oldtip._parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=t}this.allClosed=!0}},O={document:{continue:function(){return 0},finalize:function(){},canContain:function(t){return"item"!==t},acceptsLines:!1},list:{continue:function(){return 0},finalize:function(t,e){for(var r=e._firstChild;r;){if(E(r)&&r._next){e._listData.tight=!1;break}for(var n=r._firstChild;n;){if(E(n)&&(r._next||n._next)){e._listData.tight=!1;break}n=n._next}r=r._next}},canContain:function(t){return"item"===t},acceptsLines:!1},block_quote:{continue:function(t){var e=t.currentLine;return t.indented||62!==w(e,t.nextNonspace)?1:(t.advanceNextNonspace(),t.advanceOffset(1,!1),b(w(e,t.offset))&&t.advanceOffset(1,!0),0)},finalize:function(){},canContain:function(t){return"item"!==t},acceptsLines:!1},item:{continue:function(t,e){if(t.blank){if(null==e._firstChild)return 1;t.advanceNextNonspace()}else{if(!(t.indent>=e._listData.markerOffset+e._listData.padding))return 1;t.advanceOffset(e._listData.markerOffset+e._listData.padding,!0)}return 0},finalize:function(){},canContain:function(t){return"item"!==t},acceptsLines:!1},heading:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},thematic_break:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},code_block:{continue:function(t,e){var r=t.currentLine,n=t.indent;if(e._isFenced){var i=n<=3&&r.charAt(t.nextNonspace)===e._fenceChar&&r.slice(t.nextNonspace).match(y);if(i&&i[0].length>=e._fenceLength)return t.lastLineLength=i[0].length,t.finalize(e,t.lineNumber),2;for(var o=e._fenceOffset;o>0&&b(w(r,t.offset));)t.advanceOffset(1,!0),o--}else if(n>=4)t.advanceOffset(4,!0);else{if(!t.blank)return 1;t.advanceNextNonspace()}return 0},finalize:function(t,e){if(e._isFenced){var r=e._string_content,n=r.indexOf("\n"),o=r.slice(0,n),s=r.slice(n+1);e.info=i(o.trim()),e._literal=s}else e._literal=e._string_content.replace(/(\n *)+$/,"\n");e._string_content=null},canContain:function(){return!1},acceptsLines:!0},html_block:{continue:function(t,e){return!t.blank||6!==e._htmlBlockType&&7!==e._htmlBlockType?0:1},finalize:function(t,e){e._literal=e._string_content.replace(/(\n *)+$/,""),e._string_content=null},canContain:function(){return!1},acceptsLines:!0},paragraph:{continue:function(t){return t.blank?1:0},finalize:function(t,e){for(var r,n,i=!1;91===w(e._string_content,0)&&(r=t.inlineParser.parseReference(e._string_content,t.refmap));)e._string_content=e._string_content.slice(r),i=!0;i&&(n=e._string_content,!d.test(n))&&e.unlink()},canContain:function(){return!1},acceptsLines:!0}},M=[function(t){return t.indented||62!==w(t.currentLine,t.nextNonspace)?0:(t.advanceNextNonspace(),t.advanceOffset(1,!1),b(w(t.currentLine,t.offset))&&t.advanceOffset(1,!0),t.closeUnmatchedBlocks(),t.addChild("block_quote",t.nextNonspace),1)},function(t){var e;if(!t.indented&&(e=t.currentLine.slice(t.nextNonspace).match(m))){t.advanceNextNonspace(),t.advanceOffset(e[0].length,!1),t.closeUnmatchedBlocks();var r=t.addChild("heading",t.nextNonspace);return r.level=e[0].trim().length,r._string_content=t.currentLine.slice(t.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),t.advanceOffset(t.currentLine.length-t.offset),2}return 0},function(t){var e;if(!t.indented&&(e=t.currentLine.slice(t.nextNonspace).match(g))){var r=e[0].length;t.closeUnmatchedBlocks();var n=t.addChild("code_block",t.nextNonspace);return n._isFenced=!0,n._fenceLength=r,n._fenceChar=e[0][0],n._fenceOffset=t.indent,t.advanceNextNonspace(),t.advanceOffset(r,!1),2}return 0},function(t,e){if(!t.indented&&60===w(t.currentLine,t.nextNonspace)){var r,n=t.currentLine.slice(t.nextNonspace);for(r=1;r<=7;r++){if(c[r].test(n)&&(r<7||"paragraph"!==e.type))return t.closeUnmatchedBlocks(),t.addChild("html_block",t.offset)._htmlBlockType=r,2}}return 0},function(t,e){var r;if(!t.indented&&"paragraph"===e.type&&(r=t.currentLine.slice(t.nextNonspace).match(_))){var i;for(t.closeUnmatchedBlocks();91===w(e._string_content,0)&&(i=t.inlineParser.parseReference(e._string_content,t.refmap));)e._string_content=e._string_content.slice(i);if(e._string_content.length>0){var o=new n("heading",e.sourcepos);return o.level="="===r[0][0]?1:2,o._string_content=e._string_content,e.insertAfter(o),e.unlink(),t.tip=o,t.advanceOffset(t.currentLine.length-t.offset,!1),2}return 0}return 0},function(t){return!t.indented&&l.test(t.currentLine.slice(t.nextNonspace))?(t.closeUnmatchedBlocks(),t.addChild("thematic_break",t.nextNonspace),t.advanceOffset(t.currentLine.length-t.offset,!1),2):0},function(t,e){var r,n,i;return t.indented&&"list"!==e.type||!(r=function(t,e){var r,n,i,o,s=t.currentLine.slice(t.nextNonspace),a={type:null,tight:!0,bulletChar:null,start:null,delimiter:null,padding:null,markerOffset:t.indent};if(t.indent>=4)return null;if(r=s.match(f))a.type="bullet",a.bulletChar=r[0][0];else{if(!(r=s.match(p))||"paragraph"===e.type&&"1"!==r[1])return null;a.type="ordered",a.start=parseInt(r[1]),a.delimiter=r[2]}if(-1!==(n=w(t.currentLine,t.nextNonspace+r[0].length))&&9!==n&&32!==n)return null;if("paragraph"===e.type&&!t.currentLine.slice(t.nextNonspace+r[0].length).match(d))return null;t.advanceNextNonspace(),t.advanceOffset(r[0].length,!0),i=t.column,o=t.offset;do{t.advanceOffset(1,!0),n=w(t.currentLine,t.offset)}while(t.column-i<5&&b(n));var c=-1===w(t.currentLine,t.offset),u=t.column-i;return u>=5||u<1||c?(a.padding=r[0].length+1,t.column=i,t.offset=o,b(w(t.currentLine,t.offset))&&t.advanceOffset(1,!0)):a.padding=r[0].length+u,a}(t,e))?0:(t.closeUnmatchedBlocks(),"list"===t.tip.type&&(n=e._listData,i=r,n.type===i.type&&n.delimiter===i.delimiter&&n.bulletChar===i.bulletChar)||((e=t.addChild("list",t.nextNonspace))._listData=r),(e=t.addChild("item",t.nextNonspace))._listData=r,1)},function(t){return t.indented&&"paragraph"!==t.tip.type&&!t.blank?(t.advanceOffset(4,!0),t.closeUnmatchedBlocks(),t.addChild("code_block",t.offset),2):0}],k=function(t,e){for(var r,n,i,o=this.currentLine;t>0&&(i=o[this.offset]);)"\t"===i?(r=4-this.column%4,e?(this.partiallyConsumedTab=r>t,n=r>t?t:r,this.column+=n,this.offset+=this.partiallyConsumedTab?0:1,t-=n):(this.partiallyConsumedTab=!1,this.column+=r,this.offset+=1,t-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,t-=1)},x=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},N=function(){for(var t,e=this.currentLine,r=this.offset,n=this.column;""!==(t=e.charAt(r));)if(" "===t)r++,n++;else{if("\t"!==t)break;r++,n+=4-n%4}this.blank="\n"===t||"\r"===t||""===t,this.nextNonspace=r,this.nextNonspaceColumn=n,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=4},R=function(t){var e,r,n=!0,i=this.doc;for(this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,-1!==t.indexOf("\0")&&(t=t.replace(/\0/g,"")),this.currentLine=t;(r=i._lastChild)&&r._open;){switch(i=r,this.findNextNonspace(),this.blocks[i.type].continue(this,i)){case 0:break;case 1:n=!1;break;case 2:return;default:throw"continue returned illegal value, must be 0, 1, or 2"}if(!n){i=i._parent;break}}this.allClosed=i===this.oldtip,this.lastMatchedContainer=i;for(var o="paragraph"!==i.type&&O[i.type].acceptsLines,s=this.blockStarts,a=s.length;!o;){if(this.findNextNonspace(),!this.indented&&!h.test(t.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var c=0;c<a;){var l=s[c](this,i);if(1===l){i=this.tip;break}if(2===l){i=this.tip,o=!0;break}c++}if(c===a){this.advanceNextNonspace();break}}if(this.allClosed||this.blank||"paragraph"!==this.tip.type){this.closeUnmatchedBlocks(),this.blank&&i.lastChild&&(i.lastChild._lastLineBlank=!0),e=i.type;for(var d=this.blank&&!("block_quote"===e||"code_block"===e&&i._isFenced||"item"===e&&!i._firstChild&&i.sourcepos[0][0]===this.lineNumber),f=i;f;)f._lastLineBlank=d,f=f._parent;this.blocks[e].acceptsLines?(this.addLine(),"html_block"===e&&i._htmlBlockType>=1&&i._htmlBlockType<=5&&u[i._htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=t.length,this.finalize(i,this.lineNumber))):this.offset<t.length&&!this.blank&&(i=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}else this.addLine();this.lastLineLength=t.length},I=function(t,e){var r=t._parent;t._open=!1,t.sourcepos[1]=[e,this.lastLineLength],this.blocks[t.type].finalize(this,t),this.tip=r},C=function(t){var e,r,n,i=t.walker();for(this.inlineParser.refmap=this.refmap,this.inlineParser.options=this.options;r=i.next();)n=(e=r.node).type,r.entering||"paragraph"!==n&&"heading"!==n||this.inlineParser.parse(e)},j=function(){return new n("document",[[1,1],[0,0]])},L=function(t){this.doc=new j,this.tip=this.doc,this.refmap={},this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="",this.options.time&&console.time("preparing input");var e=t.split(v),r=e.length;10===t.charCodeAt(t.length-1)&&(r-=1),this.options.time&&console.timeEnd("preparing input"),this.options.time&&console.time("block parsing");for(var n=0;n<r;n++)this.incorporateLine(e[n]);for(;this.tip;)this.finalize(this.tip,r);return this.options.time&&console.timeEnd("block parsing"),this.options.time&&console.time("inline parsing"),this.processInlines(this.doc),this.options.time&&console.timeEnd("inline parsing"),this.doc};t.exports=function(t){return{doc:new j,blocks:O,blockStarts:M,tip:this.doc,oldtip:this.doc,currentLine:"",lineNumber:0,offset:0,column:0,nextNonspace:0,nextNonspaceColumn:0,indent:0,indented:!1,blank:!1,partiallyConsumedTab:!1,allClosed:!0,lastMatchedContainer:this.doc,refmap:{},lastLineLength:0,inlineParser:new a(t),findNextNonspace:N,advanceOffset:k,advanceNextNonspace:x,addLine:S,addChild:T,incorporateLine:R,finalize:I,processInlines:C,closeUnmatchedBlocks:A,parse:L,options:t||{}}}},function(t,e,r){"use strict";var n={};function i(t,e,r){var o,s,a,c,u,l="";for("string"!=typeof e&&(r=e,e=i.defaultChars),void 0===r&&(r=!0),u=function(t){var e,r,i=n[t];if(i)return i;for(i=n[t]=[],e=0;e<128;e++)r=String.fromCharCode(e),/^[0-9a-z]$/i.test(r)?i.push(r):i.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<t.length;e++)i[t.charCodeAt(e)]=t[e];return i}(e),o=0,s=t.length;o<s;o++)if(a=t.charCodeAt(o),r&&37===a&&o+2<s&&/^[0-9a-f]{2}$/i.test(t.slice(o+1,o+3)))l+=t.slice(o,o+3),o+=2;else if(a<128)l+=u[a];else if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&o+1<s&&(c=t.charCodeAt(o+1))>=56320&&c<=57343){l+=encodeURIComponent(t[o]+t[o+1]),o++;continue}l+="%EF%BF%BD"}else l+=encodeURIComponent(t[o]);return l}i.defaultChars=";/?:@&=+$,-_.!~*'()#",i.componentChars="-_.!~*'()",t.exports=i},function(t,e,r){var n=a(r(72)),i=c(n);e.XML=f(n,i);var o=a(r(73)),s=c(o);function a(t){return Object.keys(t).sort().reduce((function(e,r){return e[t[r]]="&"+r+";",e}),{})}function c(t){var e=[],r=[];return Object.keys(t).forEach((function(t){1===t.length?e.push("\\"+t):r.push(t)})),r.unshift("["+e.join("")+"]"),new RegExp(r.join("|"),"g")}e.HTML=f(o,s);var u=/[^\0-\x7F]/g,l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function h(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"}function d(t){return"&#x"+(1024*(t.charCodeAt(0)-55296)+t.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function f(t,e){function r(e){return t[e]}return function(t){return t.replace(e,r).replace(l,d).replace(u,h)}}var p=c(n);e.escape=function(t){return t.replace(p,h).replace(l,d).replace(u,h)}},function(t,e,r){var n=r(73),i=r(161),o=r(72),s=r(162),a=u(o),c=u(n);function u(t){var e=Object.keys(t).join("|"),r=d(t),n=new RegExp("&(?:"+(e+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(t){return String(t).replace(n,r)}}var l=function(){for(var t=Object.keys(i).sort(h),e=Object.keys(n).sort(h),r=0,o=0;r<e.length;r++)t[o]===e[r]?(e[r]+=";?",o++):e[r]+=";";var s=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),a=d(n);function c(t){return";"!==t.substr(-1)&&(t+=";"),a(t)}return function(t){return String(t).replace(s,c)}}();function h(t,e){return t<e?1:-1}function d(t){return function(e){return"#"===e.charAt(1)?"X"===e.charAt(2)||"x"===e.charAt(2)?s(parseInt(e.substr(3),16)):s(parseInt(e.substr(2),10)):t[e.slice(1,-1)]}}t.exports={XML:a,HTML:l,HTMLStrict:c}},function(t){t.exports=JSON.parse('{"Aacute":"","aacute":"","Acirc":"","acirc":"","acute":"","AElig":"","aelig":"","Agrave":"","agrave":"","amp":"&","AMP":"&","Aring":"","aring":"","Atilde":"","atilde":"","Auml":"","auml":"","brvbar":"","Ccedil":"","ccedil":"","cedil":"","cent":"","copy":"","COPY":"","curren":"","deg":"","divide":"","Eacute":"","eacute":"","Ecirc":"","ecirc":"","Egrave":"","egrave":"","ETH":"","eth":"","Euml":"","euml":"","frac12":"","frac14":"","frac34":"","gt":">","GT":">","Iacute":"","iacute":"","Icirc":"","icirc":"","iexcl":"","Igrave":"","igrave":"","iquest":"","Iuml":"","iuml":"","laquo":"","lt":"<","LT":"<","macr":"","micro":"","middot":"","nbsp":"","not":"","Ntilde":"","ntilde":"","Oacute":"","oacute":"","Ocirc":"","ocirc":"","Ograve":"","ograve":"","ordf":"","ordm":"","Oslash":"","oslash":"","Otilde":"","otilde":"","Ouml":"","ouml":"","para":"","plusmn":"","pound":"","quot":"\\"","QUOT":"\\"","raquo":"","reg":"","REG":"","sect":"","shy":"","sup1":"","sup2":"","sup3":"","szlig":"","THORN":"","thorn":"","times":"","Uacute":"","uacute":"","Ucirc":"","ucirc":"","Ugrave":"","ugrave":"","uml":"","Uuml":"","uuml":"","Yacute":"","yacute":"","yen":"","yuml":""}')},function(t,e,r){var n=r(163);t.exports=function(t){if(t>=55296&&t<=57343||t>1114111)return"";t in n&&(t=n[t]);var e="";t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t);return e+=String.fromCharCode(t)}},function(t){t.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},function(t,e,r){"use strict";var n=r(45),i=r(12),o=r(165),s=i.normalizeURI,a=i.unescapeString,c=r(166),u=r(71).decodeHTML;r(167);var l=i.ESCAPABLE,h="\\\\"+l,d=i.ENTITY,f=i.reHtmlTag,p=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),m=new RegExp('^(?:"('+h+'|[^"\\x00])*"|\'('+h+"|[^'\\x00])*'|\\(("+h+"|[^()\\x00])*\\))"),g=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,y=new RegExp("^"+l),_=new RegExp("^"+d,"i"),v=/`+/,b=/^`+/,w=/\.\.\./g,E=/--+/g,S=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,T=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,A=/^ *(?:\n *)?/,O=/^[ \t\n\x0b\x0c\x0d]/,M=/^\s/,k=/ *$/,x=/^ */,N=/^ *(?:\n|$)/,R=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,I=/^[^\n`\[\]\\!<&*_'"]+/m,C=function(t){var e=new n("text");return e._literal=t,e},j=function(t){var e=t.exec(this.subject.slice(this.pos));return null===e?null:(this.pos+=e.index+e[0].length,e[0])},L=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},P=function(){return this.match(A),!0},D=function(t){var e=this.match(b);if(null===e)return!1;for(var r,i,o,s=this.pos;null!==(r=this.match(v));)if(r===e)return i=new n("code"),(o=this.subject.slice(s,this.pos-e.length).replace(/\n/gm," ")).length>0&&null!==o.match(/[^ ]/)&&" "==o[0]&&" "==o[o.length-1]?i._literal=o.slice(1,o.length-1):i._literal=o,t.appendChild(i),!0;return this.pos=s,t.appendChild(C(e)),!0},F=function(t){var e,r=this.subject;return this.pos+=1,10===this.peek()?(this.pos+=1,e=new n("linebreak"),t.appendChild(e)):y.test(r.charAt(this.pos))?(t.appendChild(C(r.charAt(this.pos))),this.pos+=1):t.appendChild(C("\\")),!0},B=function(t){var e,r,i;return(e=this.match(S))?(r=e.slice(1,e.length-1),(i=new n("link"))._destination=s("mailto:"+r),i._title="",i.appendChild(C(r)),t.appendChild(i),!0):!!(e=this.match(T))&&(r=e.slice(1,e.length-1),(i=new n("link"))._destination=s(r),i._title="",i.appendChild(C(r)),t.appendChild(i),!0)},U=function(t){var e=this.match(f);if(null===e)return!1;var r=new n("html_inline");return r._literal=e,t.appendChild(r),!0},q=function(t){var e,r,n,i,o,s,a,u,l,h,d,f=0,m=this.pos;if(39===t||34===t)f++,this.pos++;else for(;this.peek()===t;)f++,this.pos++;return 0===f?null:(e=0===m?"\n":this.subject.charAt(m-1),r=-1===(n=this.peek())?"\n":c(n),u=M.test(r),l=p.test(r),h=M.test(e),d=p.test(e),i=!u&&(!l||h||d),o=!h&&(!d||u||l),95===t?(s=i&&(!o||d),a=o&&(!i||l)):39===t||34===t?(s=i&&!o,a=o):(s=i,a=o),this.pos=m,{numdelims:f,can_open:s,can_close:a})},H=function(t,e){var r=this.scanDelims(t);if(!r)return!1;var n,i=r.numdelims,o=this.pos;this.pos+=i,n=39===t?"":34===t?"":this.subject.slice(o,this.pos);var s=C(n);return e.appendChild(s),!r.can_open&&!r.can_close||!this.options.smart&&39===t&&34===t||(this.delimiters={cc:t,numdelims:i,origdelims:i,node:s,previous:this.delimiters,next:null,can_open:r.can_open,can_close:r.can_close},null!==this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},G=function(t){null!==t.previous&&(t.previous.next=t.next),null===t.next?this.delimiters=t.previous:t.next.previous=t.previous},z=function(t){for(var e,r,i,o,s,a,c,u,l,h,d,f,p=[[],[],[]],m=!1,g=0;g<3;g++)p[g][95]=t,p[g][42]=t,p[g][39]=t,p[g][34]=t;for(r=this.delimiters;null!==r&&r.previous!==t;)r=r.previous;for(;null!==r;){var y=r.cc;if(r.can_close){for(e=r.previous,h=!1;null!==e&&e!==t&&e!==p[r.origdelims%3][y];){if(m=(r.can_open||e.can_close)&&r.origdelims%3!=0&&(e.origdelims+r.origdelims)%3==0,e.cc===r.cc&&e.can_open&&!m){h=!0;break}e=e.previous}if(i=r,42===y||95===y)if(h){c=r.numdelims>=2&&e.numdelims>=2?2:1,o=e.node,s=r.node,e.numdelims-=c,r.numdelims-=c,o._literal=o._literal.slice(0,o._literal.length-c),s._literal=s._literal.slice(0,s._literal.length-c);var _=new n(1===c?"emph":"strong");for(u=o._next;u&&u!==s;)l=u._next,u.unlink(),_.appendChild(u),u=l;o.insertAfter(_),f=r,(d=e).next!==f&&(d.next=f,f.previous=d),0===e.numdelims&&(o.unlink(),this.removeDelimiter(e)),0===r.numdelims&&(s.unlink(),a=r.next,this.removeDelimiter(r),r=a)}else r=r.next;else 39===y?(r.node._literal="",h&&(e.node._literal=""),r=r.next):34===y&&(r.node._literal="",h&&(e.node.literal=""),r=r.next);h||(p[i.origdelims%3][y]=i.previous,i.can_open||this.removeDelimiter(i))}else r=r.next}for(;null!==this.delimiters&&this.delimiters!==t;)this.removeDelimiter(this.delimiters)},W=function(){var t=this.match(m);return null===t?null:a(t.substr(1,t.length-2))},$=function(){var t=this.match(g);if(null===t){if(60===this.peek())return null;for(var e,r=this.pos,n=0;-1!==(e=this.peek());)if(92===e&&y.test(this.subject.charAt(this.pos+1)))this.pos+=1,-1!==this.peek()&&(this.pos+=1);else if(40===e)this.pos+=1,n+=1;else if(41===e){if(n<1)break;this.pos+=1,n-=1}else{if(null!==O.exec(c(e)))break;this.pos+=1}return this.pos===r&&41!==e||0!==n?null:(t=this.subject.substr(r,this.pos-r),s(a(t)))}return s(a(t.substr(1,t.length-2)))},V=function(){var t=this.match(R);return null===t||t.length>1001?0:t.length},Y=function(t){var e=this.pos;this.pos+=1;var r=C("[");return t.appendChild(r),this.addBracket(r,e,!1),!0},K=function(t){var e=this.pos;if(this.pos+=1,91===this.peek()){this.pos+=1;var r=C("![");t.appendChild(r),this.addBracket(r,e+1,!0)}else t.appendChild(C("!"));return!0},J=function(t){var e,r,i,s,a,c,u=!1;if(this.pos+=1,e=this.pos,null===(c=this.brackets))return t.appendChild(C("]")),!0;if(!c.active)return t.appendChild(C("]")),this.removeBracket(),!0;r=c.image;var l=this.pos;if(40===this.peek()&&(this.pos++,this.spnl()&&null!==(i=this.parseLinkDestination())&&this.spnl()&&(O.test(this.subject.charAt(this.pos-1))&&(s=this.parseLinkTitle()),1)&&this.spnl()&&41===this.peek()?(this.pos+=1,u=!0):this.pos=l),!u){var h=this.pos,d=this.parseLinkLabel();if(d>2?a=this.subject.slice(h,h+d):c.bracketAfter||(a=this.subject.slice(c.index,e)),0===d&&(this.pos=l),a){var f=this.refmap[o(a)];f&&(i=f.destination,s=f.title,u=!0)}}if(u){var p,m,g=new n(r?"image":"link");for(g._destination=i,g._title=s||"",p=c.node._next;p;)m=p._next,p.unlink(),g.appendChild(p),p=m;if(t.appendChild(g),this.processEmphasis(c.previousDelimiter),this.removeBracket(),c.node.unlink(),!r)for(c=this.brackets;null!==c;)c.image||(c.active=!1),c=c.previous;return!0}return this.removeBracket(),this.pos=e,t.appendChild(C("]")),!0},Z=function(t,e,r){null!==this.brackets&&(this.brackets.bracketAfter=!0),this.brackets={node:t,previous:this.brackets,previousDelimiter:this.delimiters,index:e,image:r,active:!0}},X=function(){this.brackets=this.brackets.previous},Q=function(t){var e;return!!(e=this.match(_))&&(t.appendChild(C(u(e))),!0)},tt=function(t){var e;return!!(e=this.match(I))&&(this.options.smart?t.appendChild(C(e.replace(w,"").replace(E,(function(t){var e=0,r=0;return t.length%3==0?r=t.length/3:t.length%2==0?e=t.length/2:t.length%3==2?(e=1,r=(t.length-2)/3):(e=2,r=(t.length-4)/3),"".repeat(r)+"".repeat(e)})))):t.appendChild(C(e)),!0)},et=function(t){this.pos+=1;var e=t._lastChild;if(e&&"text"===e.type&&" "===e._literal[e._literal.length-1]){var r=" "===e._literal[e._literal.length-2];e._literal=e._literal.replace(k,""),t.appendChild(new n(r?"linebreak":"softbreak"))}else t.appendChild(new n("softbreak"));return this.match(x),!0},rt=function(t,e){var r,n,i,s;this.subject=t,this.pos=0;var a=this.pos;if(0===(s=this.parseLinkLabel()))return 0;if(r=this.subject.substr(0,s),58!==this.peek())return this.pos=a,0;if(this.pos++,this.spnl(),null===(n=this.parseLinkDestination()))return this.pos=a,0;var c=this.pos;this.spnl(),this.pos!==c&&(i=this.parseLinkTitle()),null===i&&(i="",this.pos=c);var u=!0;if(null===this.match(N)&&(""===i?u=!1:(i="",this.pos=c,u=null!==this.match(N))),!u)return this.pos=a,0;var l=o(r);return""===l?(this.pos=a,0):(e[l]||(e[l]={destination:n,title:i}),this.pos-a)},nt=function(t){var e=!1,r=this.peek();if(-1===r)return!1;switch(r){case 10:e=this.parseNewline(t);break;case 92:e=this.parseBackslash(t);break;case 96:e=this.parseBackticks(t);break;case 42:case 95:e=this.handleDelim(r,t);break;case 39:case 34:e=this.options.smart&&this.handleDelim(r,t);break;case 91:e=this.parseOpenBracket(t);break;case 33:e=this.parseBang(t);break;case 93:e=this.parseCloseBracket(t);break;case 60:e=this.parseAutolink(t)||this.parseHtmlTag(t);break;case 38:e=this.parseEntity(t);break;default:e=this.parseString(t)}return e||(this.pos+=1,t.appendChild(C(c(r)))),!0},it=function(t){for(this.subject=t._string_content.trim(),this.pos=0,this.delimiters=null,this.brackets=null;this.parseInline(t););t._string_content=null,this.processEmphasis(null)};t.exports=function(t){return{subject:"",delimiters:null,brackets:null,pos:0,refmap:{},match:j,peek:L,spnl:P,parseBackticks:D,parseBackslash:F,parseAutolink:B,parseHtmlTag:U,scanDelims:q,handleDelim:H,parseLinkTitle:W,parseLinkDestination:$,parseLinkLabel:V,parseOpenBracket:Y,parseBang:K,parseCloseBracket:J,addBracket:Z,removeBracket:X,parseEntity:Q,parseString:tt,parseNewline:et,parseReference:rt,parseInline:nt,processEmphasis:z,removeDelimiter:G,options:t||{},parse:it}}},function(t,e,r){"use strict";var n=/[ \t\r\n]+|[A-Z\xB5\xC0-\xD6\xD8-\xDF\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u0149\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u017F\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C5\u01C7\u01C8\u01CA\u01CB\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F0-\u01F2\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0345\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03AB\u03B0\u03C2\u03CF-\u03D1\u03D5\u03D6\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F0\u03F1\u03F4\u03F5\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u0587\u10A0-\u10C5\u10C7\u10CD\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E96-\u1E9B\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F50\u1F52\u1F54\u1F56\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1F80-\u1FAF\u1FB2-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD2\u1FD3\u1FD6-\u1FDB\u1FE2-\u1FE4\u1FE6-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2126\u212A\u212B\u2132\u2160-\u216F\u2183\u24B6-\u24CF\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0\uA7B1\uFB00-\uFB06\uFB13-\uFB17\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27]|\uD806[\uDCA0-\uDCBF]/g,i={A:"a",B:"b",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",J:"j",K:"k",L:"l",M:"m",N:"n",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",U:"u",V:"v",W:"w",X:"x",Y:"y",Z:"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"s","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"k","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"ss","":"i","":"n","":"j","":"","":"","":"","":"h","":"t","":"w","":"y","":"a","":"ss","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"ff","":"fi","":"fl","":"ffi","":"ffl","":"st","":"st","":"","":"","":"","":"","":""};t.exports=function(t){return t.slice(1,t.length-1).trim().replace(n,(function(t){return i[t]||" "}))}},function(t,e,r){"use strict";
/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */if(String.fromCodePoint)t.exports=function(t){try{return String.fromCodePoint(t)}catch(t){if(t instanceof RangeError)return String.fromCharCode(65533);throw t}};else{var n=String.fromCharCode,i=Math.floor;t.exports=function(){var t,e,r=16384,o=[],s=-1,a=arguments.length;if(!a)return"";for(var c="";++s<a;){var u=Number(arguments[s]);if(!isFinite(u)||u<0||u>1114111||i(u)!==u)return String.fromCharCode(65533);u<=65535?o.push(u):(t=55296+((u-=65536)>>10),e=u%1024+56320,o.push(t,e)),(s+1===a||o.length>r)&&(c+=n.apply(null,o),o.length=0)}return c}}},function(t,e){
/*! http://mths.be/repeat v0.2.0 by @mathias */
String.prototype.repeat||function(){"use strict";var t=function(){try{var t={},e=Object.defineProperty,r=e(t,t,t)&&e}catch(t){}return r}(),e=function(t){if(null==this)throw TypeError();var e=String(this),r=t?Number(t):0;if(r!=r&&(r=0),r<0||r==1/0)throw RangeError();for(var n="";r;)r%2==1&&(n+=e),r>1&&(e+=e),r>>=1;return n};t?t(String.prototype,"repeat",{value:e,configurable:!0,writable:!0}):String.prototype.repeat=e}()},function(t,e,r){"use strict";var n=r(46),i=/^javascript:|vbscript:|file:|data:/i,o=/^data:image\/(?:png|gif|jpeg|webp)/i,s=function(t){return i.test(t)&&!o.test(t)};function a(t){(t=t||{}).softbreak=t.softbreak||"\n",this.disableTags=0,this.lastOut="\n",this.options=t}a.prototype=Object.create(n.prototype),a.prototype.text=function(t){this.out(t.literal)},a.prototype.html_inline=function(t){this.options.safe?this.lit("\x3c!-- raw HTML omitted --\x3e"):this.lit(t.literal)},a.prototype.html_block=function(t){this.cr(),this.options.safe?this.lit("\x3c!-- raw HTML omitted --\x3e"):this.lit(t.literal),this.cr()},a.prototype.softbreak=function(){this.lit(this.options.softbreak)},a.prototype.linebreak=function(){this.tag("br",[],!0),this.cr()},a.prototype.link=function(t,e){var r=this.attrs(t);e?(this.options.safe&&s(t.destination)||r.push(["href",this.esc(t.destination)]),t.title&&r.push(["title",this.esc(t.title)]),this.tag("a",r)):this.tag("/a")},a.prototype.image=function(t,e){e?(0===this.disableTags&&(this.options.safe&&s(t.destination)?this.lit('<img src="" alt="'):this.lit('<img src="'+this.esc(t.destination)+'" alt="')),this.disableTags+=1):(this.disableTags-=1,0===this.disableTags&&(t.title&&this.lit('" title="'+this.esc(t.title)),this.lit('" />')))},a.prototype.emph=function(t,e){this.tag(e?"em":"/em")},a.prototype.strong=function(t,e){this.tag(e?"strong":"/strong")},a.prototype.paragraph=function(t,e){var r=t.parent.parent,n=this.attrs(t);null!==r&&"list"===r.type&&r.listTight||(e?(this.cr(),this.tag("p",n)):(this.tag("/p"),this.cr()))},a.prototype.heading=function(t,e){var r="h"+t.level,n=this.attrs(t);e?(this.cr(),this.tag(r,n)):(this.tag("/"+r),this.cr())},a.prototype.code=function(t){this.tag("code"),this.out(t.literal),this.tag("/code")},a.prototype.code_block=function(t){var e=t.info?t.info.split(/\s+/):[],r=this.attrs(t);e.length>0&&e[0].length>0&&r.push(["class","language-"+this.esc(e[0])]),this.cr(),this.tag("pre"),this.tag("code",r),this.out(t.literal),this.tag("/code"),this.tag("/pre"),this.cr()},a.prototype.thematic_break=function(t){var e=this.attrs(t);this.cr(),this.tag("hr",e,!0),this.cr()},a.prototype.block_quote=function(t,e){var r=this.attrs(t);e?(this.cr(),this.tag("blockquote",r),this.cr()):(this.cr(),this.tag("/blockquote"),this.cr())},a.prototype.list=function(t,e){var r="bullet"===t.listType?"ul":"ol",n=this.attrs(t);if(e){var i=t.listStart;null!==i&&1!==i&&n.push(["start",i.toString()]),this.cr(),this.tag(r,n),this.cr()}else this.cr(),this.tag("/"+r),this.cr()},a.prototype.item=function(t,e){var r=this.attrs(t);e?this.tag("li",r):(this.tag("/li"),this.cr())},a.prototype.custom_inline=function(t,e){e&&t.onEnter?this.lit(t.onEnter):!e&&t.onExit&&this.lit(t.onExit)},a.prototype.custom_block=function(t,e){this.cr(),e&&t.onEnter?this.lit(t.onEnter):!e&&t.onExit&&this.lit(t.onExit),this.cr()},a.prototype.esc=r(12).escapeXml,a.prototype.out=function(t){this.lit(this.esc(t))},a.prototype.tag=function(t,e,r){if(!(this.disableTags>0)){if(this.buffer+="<"+t,e&&e.length>0)for(var n,i=0;void 0!==(n=e[i]);)this.buffer+=" "+n[0]+'="'+n[1]+'"',i++;r&&(this.buffer+=" /"),this.buffer+=">",this.lastOut=">"}},a.prototype.attrs=function(t){var e=[];if(this.options.sourcepos){var r=t.sourcepos;r&&e.push(["data-sourcepos",String(r[0][0])+":"+String(r[0][1])+"-"+String(r[1][0])+":"+String(r[1][1])])}return e},t.exports=a},function(t,e,r){"use strict";var n=r(46),i=/\<[^>]*\>/;function o(t){t=t||{},this.disableTags=0,this.lastOut="\n",this.indentLevel=0,this.indent="  ",this.options=t}o.prototype=Object.create(n.prototype),o.prototype.render=function(t){var e,r;this.buffer="";var n,i,o,s,a,c,u=t.walker(),l=this.options;for(l.time&&console.time("rendering"),this.buffer+='<?xml version="1.0" encoding="UTF-8"?>\n',this.buffer+='<!DOCTYPE document SYSTEM "CommonMark.dtd">\n';n=u.next();)if(o=n.entering,c=(i=n.node).type,s=i.isContainer,a="thematic_break"===c||"linebreak"===c||"softbreak"===c,r=c.replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase(),o){switch(e=[],c){case"document":e.push(["xmlns","http://commonmark.org/xml/1.0"]);break;case"list":null!==i.listType&&e.push(["type",i.listType.toLowerCase()]),null!==i.listStart&&e.push(["start",String(i.listStart)]),null!==i.listTight&&e.push(["tight",i.listTight?"true":"false"]);var h=i.listDelimiter;if(null!==h){var d="";d="."===h?"period":"paren",e.push(["delimiter",d])}break;case"code_block":i.info&&e.push(["info",i.info]);break;case"heading":e.push(["level",String(i.level)]);break;case"link":case"image":e.push(["destination",i.destination]),e.push(["title",i.title]);break;case"custom_inline":case"custom_block":e.push(["on_enter",i.onEnter]),e.push(["on_exit",i.onExit])}if(l.sourcepos){var f=i.sourcepos;f&&e.push(["sourcepos",String(f[0][0])+":"+String(f[0][1])+"-"+String(f[1][0])+":"+String(f[1][1])])}if(this.cr(),this.out(this.tag(r,e,a)),s)this.indentLevel+=1;else if(!s&&!a){var p=i.literal;p&&this.out(this.esc(p)),this.out(this.tag("/"+r))}}else this.indentLevel-=1,this.cr(),this.out(this.tag("/"+r));return l.time&&console.timeEnd("rendering"),this.buffer+="\n",this.buffer},o.prototype.out=function(t){this.disableTags>0?this.buffer+=t.replace(i,""):this.buffer+=t,this.lastOut=t},o.prototype.cr=function(){if("\n"!==this.lastOut){this.buffer+="\n",this.lastOut="\n";for(var t=this.indentLevel;t>0;t--)this.buffer+=this.indent}},o.prototype.tag=function(t,e,r){var n="<"+t;if(e&&e.length>0)for(var i,o=0;void 0!==(i=e[o]);)n+=" "+i[0]+'="'+this.esc(i[1])+'"',o++;return r&&(n+=" /"),n+=">"},o.prototype.esc=r(12).escapeXml,t.exports=o},function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e},s=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.RssHandler=e.DefaultHandler=e.DomUtils=e.ElementType=e.Tokenizer=e.createDomStream=e.parseDOM=e.parseDocument=e.DomHandler=e.Parser=void 0;var c=r(74);Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return c.Parser}});var u=r(16);function l(t,e){var r=new u.DomHandler(void 0,e);return new c.Parser(r,e).end(t),r.root}Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return u.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return u.DomHandler}}),e.parseDocument=l,e.parseDOM=function(t,e){return l(t,e).children},e.createDomStream=function(t,e,r){var n=new u.DomHandler(t,e,r);return new c.Parser(n,e)};var h=r(75);Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return a(h).default}});var d=o(r(33));e.ElementType=d,s(r(77),e),e.DomUtils=o(r(78));var f=r(77);Object.defineProperty(e,"RssHandler",{enumerable:!0,get:function(){return f.FeedHandler}})},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getText=e.getInnerHTML=e.getOuterHTML=void 0;var i=r(16),o=n(r(172));function s(t,e){return o.default(t,e)}e.getOuterHTML=s,e.getInnerHTML=function(t,e){return i.hasChildren(t)?t.children.map((function(t){return s(t,e)})).join(""):""},e.getText=function t(e){return Array.isArray(e)?e.map(t).join(""):i.isTag(e)?"br"===e.name?"\n":t(e.children):i.isCDATA(e)?t(e.children):i.isText(e)?e.data:""}},function(t,e,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var a=s(r(33)),c=r(26),u=r(173),l=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);var h=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function d(t,e){void 0===e&&(e={});for(var r=Array.isArray(t)||t.cheerio?t:[t],n="",i=0;i<r.length;i++)n+=f(r[i],e);return n}function f(t,e){switch(t.type){case a.Root:return d(t.children,e);case a.Directive:case a.Doctype:return"<"+t.data+">";case a.Comment:return function(t){return"\x3c!--"+t.data+"--\x3e"}(t);case a.CDATA:return function(t){return"<![CDATA["+t.children[0].data+"]]>"}(t);case a.Script:case a.Style:case a.Tag:return function(t,e){var r;"foreign"===e.xmlMode&&(t.name=null!==(r=u.elementNames.get(t.name))&&void 0!==r?r:t.name,t.parent&&p.has(t.parent.name)&&(e=n(n({},e),{xmlMode:!1})));!e.xmlMode&&m.has(t.name)&&(e=n(n({},e),{xmlMode:"foreign"}));var i="<"+t.name,o=function(t,e){if(t)return Object.keys(t).map((function(r){var n,i,o=null!==(n=t[r])&&void 0!==n?n:"";return"foreign"===e.xmlMode&&(r=null!==(i=u.attributeNames.get(r))&&void 0!==i?i:r),e.emptyAttrs||e.xmlMode||""!==o?r+'="'+(!1!==e.decodeEntities?c.encodeXML(o):o.replace(/"/g,"&quot;"))+'"':r})).join(" ")}(t.attribs,e);o&&(i+=" "+o);0===t.children.length&&(e.xmlMode?!1!==e.selfClosingTags:e.selfClosingTags&&h.has(t.name))?(e.xmlMode||(i+=" "),i+="/>"):(i+=">",t.children.length>0&&(i+=d(t.children,e)),!e.xmlMode&&h.has(t.name)||(i+="</"+t.name+">"));return i}(t,e);case a.Text:return function(t,e){var r=t.data||"";!1===e.decodeEntities||!e.xmlMode&&t.parent&&l.has(t.parent.name)||(r=c.encodeXML(r));return r}(t,e)}}e.default=d;var p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),m=new Set(["svg","math"])},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attributeNames=e.elementNames=void 0,e.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]),e.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prevElementSibling=e.nextElementSibling=e.getName=e.hasAttrib=e.getAttributeValue=e.getSiblings=e.getParent=e.getChildren=void 0;var n=r(16),i=[];function o(t){var e;return null!==(e=t.children)&&void 0!==e?e:i}function s(t){return t.parent||null}e.getChildren=o,e.getParent=s,e.getSiblings=function(t){var e=s(t);if(null!=e)return o(e);for(var r=[t],n=t.prev,i=t.next;null!=n;)r.unshift(n),n=n.prev;for(;null!=i;)r.push(i),i=i.next;return r},e.getAttributeValue=function(t,e){var r;return null===(r=t.attribs)||void 0===r?void 0:r[e]},e.hasAttrib=function(t,e){return null!=t.attribs&&Object.prototype.hasOwnProperty.call(t.attribs,e)&&null!=t.attribs[e]},e.getName=function(t){return t.name},e.nextElementSibling=function(t){for(var e=t.next;null!==e&&!n.isTag(e);)e=e.next;return e},e.prevElementSibling=function(t){for(var e=t.prev;null!==e&&!n.isTag(e);)e=e.prev;return e}},function(t,e,r){"use strict";function n(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){var e=t.parent.children;e.splice(e.lastIndexOf(t),1)}}Object.defineProperty(e,"__esModule",{value:!0}),e.prepend=e.prependChild=e.append=e.appendChild=e.replaceElement=e.removeElement=void 0,e.removeElement=n,e.replaceElement=function(t,e){var r=e.prev=t.prev;r&&(r.next=e);var n=e.next=t.next;n&&(n.prev=e);var i=e.parent=t.parent;if(i){var o=i.children;o[o.lastIndexOf(t)]=e}},e.appendChild=function(t,e){if(n(e),e.next=null,e.parent=t,t.children.push(e)>1){var r=t.children[t.children.length-2];r.next=e,e.prev=r}else e.prev=null},e.append=function(t,e){n(e);var r=t.parent,i=t.next;if(e.next=i,e.prev=t,t.next=e,e.parent=r,i){if(i.prev=e,r){var o=r.children;o.splice(o.lastIndexOf(i),0,e)}}else r&&r.children.push(e)},e.prependChild=function(t,e){if(n(e),e.parent=t,e.prev=null,1!==t.children.unshift(e)){var r=t.children[1];r.prev=e,e.next=r}else e.next=null},e.prepend=function(t,e){n(e);var r=t.parent;if(r){var i=r.children;i.splice(i.indexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=r,e.prev=t.prev,e.next=t,t.prev=e}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getElementsByTagType=e.getElementsByTagName=e.getElementById=e.getElements=e.testElement=void 0;var n=r(16),i=r(79),o={tag_name:function(t){return"function"==typeof t?function(e){return n.isTag(e)&&t(e.name)}:"*"===t?n.isTag:function(e){return n.isTag(e)&&e.name===t}},tag_type:function(t){return"function"==typeof t?function(e){return t(e.type)}:function(e){return e.type===t}},tag_contains:function(t){return"function"==typeof t?function(e){return n.isText(e)&&t(e.data)}:function(e){return n.isText(e)&&e.data===t}}};function s(t,e){return"function"==typeof e?function(r){return n.isTag(r)&&e(r.attribs[t])}:function(r){return n.isTag(r)&&r.attribs[t]===e}}function a(t,e){return function(r){return t(r)||e(r)}}function c(t){var e=Object.keys(t).map((function(e){var r=t[e];return e in o?o[e](r):s(e,r)}));return 0===e.length?null:e.reduce(a)}e.testElement=function(t,e){var r=c(t);return!r||r(e)},e.getElements=function(t,e,r,n){void 0===n&&(n=1/0);var o=c(t);return o?i.filter(o,e,r,n):[]},e.getElementById=function(t,e,r){return void 0===r&&(r=!0),Array.isArray(e)||(e=[e]),i.findOne(s("id",t),e,r)},e.getElementsByTagName=function(t,e,r,n){return void 0===r&&(r=!0),void 0===n&&(n=1/0),i.filter(o.tag_name(t),e,r,n)},e.getElementsByTagType=function(t,e,r,n){return void 0===r&&(r=!0),void 0===n&&(n=1/0),i.filter(o.tag_type(t),e,r,n)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uniqueSort=e.compareDocumentPosition=e.removeSubsets=void 0;var n=r(16);function i(t,e){var r=[],i=[];if(t===e)return 0;for(var o=n.hasChildren(t)?t:t.parent;o;)r.unshift(o),o=o.parent;for(o=n.hasChildren(e)?e:e.parent;o;)i.unshift(o),o=o.parent;for(var s=Math.min(r.length,i.length),a=0;a<s&&r[a]===i[a];)a++;if(0===a)return 1;var c=r[a-1],u=c.children,l=r[a],h=i[a];return u.indexOf(l)>u.indexOf(h)?c===e?20:4:c===t?10:2}e.removeSubsets=function(t){for(var e=t.length;--e>=0;){var r=t[e];if(e>0&&t.lastIndexOf(r,e-1)>=0)t.splice(e,1);else for(var n=r.parent;n;n=n.parent)if(t.includes(n)){t.splice(e,1);break}}return t},e.compareDocumentPosition=i,e.uniqueSort=function(t){return(t=t.filter((function(t,e,r){return!r.includes(t,e+1)}))).sort((function(t,e){var r=i(t,e);return 2&r?-1:4&r?1:0})),t}},function(t,e,r){"use strict";var n,i,o;n=r(81),i=r(24),o=class{constructor(t){this.Events=new i(this),this._length=0,this._lists=function(){var e,r,i;for(i=[],e=1,r=t;1<=r?e<=r:e>=r;1<=r?++e:--e)i.push(new n(()=>this.incr(),()=>this.decr()));return i}.call(this)}incr(){if(0==this._length++)return this.Events.trigger("leftzero")}decr(){if(0==--this._length)return this.Events.trigger("zero")}push(t){return this._lists[t.options.priority].push(t)}queued(t){return null!=t?this._lists[t].length:this._length}shiftAll(t){return this._lists.forEach((function(e){return e.forEachShift(t)}))}getFirst(t=this._lists){var e,r,n;for(e=0,r=t.length;e<r;e++)if((n=t[e]).length>0)return n;return[]}shiftLastFrom(t){return this.getFirst(this._lists.slice(t).reverse()).shift()}},t.exports=o},function(t,e,r){"use strict";function n(t,e,r,n,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,i)}function i(t){return function(){var e=this,r=arguments;return new Promise((function(i,o){var s=t.apply(e,r);function a(t){n(s,i,o,a,c,"next",t)}function c(t){n(s,i,o,a,c,"throw",t)}a(void 0)}))}}var o,s,a;a=r(17),o=r(30),s=class{constructor(t,e,r,n,i,o,s,c){this.task=t,this.args=e,this.rejectOnDrop=i,this.Events=o,this._states=s,this.Promise=c,this.options=a.load(r,n),this.options.priority=this._sanitizePriority(this.options.priority),this.options.id===n.id&&(this.options.id=`${this.options.id}-${this._randomIndex()}`),this.promise=new this.Promise((t,e)=>{this._resolve=t,this._reject=e}),this.retryCount=0}_sanitizePriority(t){var e;return(e=~~t!==t?5:t)<0?0:e>9?9:e}_randomIndex(){return Math.random().toString(36).slice(2)}doDrop({error:t,message:e="This job has been dropped by Bottleneck"}={}){return!!this._states.remove(this.options.id)&&(this.rejectOnDrop&&this._reject(null!=t?t:new o(e)),this.Events.trigger("dropped",{args:this.args,options:this.options,task:this.task,promise:this.promise}),!0)}_assertStatus(t){var e;if((e=this._states.jobStatus(this.options.id))!==t&&("DONE"!==t||null!==e))throw new o(`Invalid job status ${e}, expected ${t}. Please open an issue at https://github.com/SGrondin/bottleneck/issues`)}doReceive(){return this._states.start(this.options.id),this.Events.trigger("received",{args:this.args,options:this.options})}doQueue(t,e){return this._assertStatus("RECEIVED"),this._states.next(this.options.id),this.Events.trigger("queued",{args:this.args,options:this.options,reachedHWM:t,blocked:e})}doRun(){return 0===this.retryCount?(this._assertStatus("QUEUED"),this._states.next(this.options.id)):this._assertStatus("EXECUTING"),this.Events.trigger("scheduled",{args:this.args,options:this.options})}doExecute(t,e,r,n){var o=this;return i((function*(){var i,s,a;0===o.retryCount?(o._assertStatus("RUNNING"),o._states.next(o.options.id)):o._assertStatus("EXECUTING"),s={args:o.args,options:o.options,retryCount:o.retryCount},o.Events.trigger("executing",s);try{if(a=yield null!=t?t.schedule(o.options,o.task,...o.args):o.task(...o.args),e())return o.doDone(s),yield n(o.options,s),o._assertStatus("DONE"),o._resolve(a)}catch(t){return i=t,o._onFailure(i,s,e,r,n)}}))()}doExpire(t,e,r){var n,i;return this._states.jobStatus("RUNNING"===this.options.id)&&this._states.next(this.options.id),this._assertStatus("EXECUTING"),i={args:this.args,options:this.options,retryCount:this.retryCount},n=new o(`This job timed out after ${this.options.expiration} ms.`),this._onFailure(n,i,t,e,r)}_onFailure(t,e,r,n,o){var s=this;return i((function*(){var i,a;if(r())return null!=(i=yield s.Events.trigger("failed",t,e))?(a=~~i,s.Events.trigger("retry",`Retrying ${s.options.id} after ${a} ms`,e),s.retryCount++,n(a)):(s.doDone(e),yield o(s.options,e),s._assertStatus("DONE"),s._reject(t))}))()}doDone(t){return this._assertStatus("EXECUTING"),this._states.next(this.options.id),this.Events.trigger("done",t)}},t.exports=s},function(t,e,r){"use strict";function n(t,e,r,n,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,i)}function i(t){return function(){var e=this,r=arguments;return new Promise((function(i,o){var s=t.apply(e,r);function a(t){n(s,i,o,a,c,"next",t)}function c(t){n(s,i,o,a,c,"throw",t)}a(void 0)}))}}var o,s,a;a=r(17),o=r(30),s=class{constructor(t,e,r){this.instance=t,this.storeOptions=e,this.clientId=this.instance._randomIndex(),a.load(r,r,this),this._nextRequest=this._lastReservoirRefresh=this._lastReservoirIncrease=Date.now(),this._running=0,this._done=0,this._unblockTime=0,this.ready=this.Promise.resolve(),this.clients={},this._startHeartbeat()}_startHeartbeat(){var t;return null==this.heartbeat&&(null!=this.storeOptions.reservoirRefreshInterval&&null!=this.storeOptions.reservoirRefreshAmount||null!=this.storeOptions.reservoirIncreaseInterval&&null!=this.storeOptions.reservoirIncreaseAmount)?"function"==typeof(t=this.heartbeat=setInterval(()=>{var t,e,r,n,i;if(n=Date.now(),null!=this.storeOptions.reservoirRefreshInterval&&n>=this._lastReservoirRefresh+this.storeOptions.reservoirRefreshInterval&&(this._lastReservoirRefresh=n,this.storeOptions.reservoir=this.storeOptions.reservoirRefreshAmount,this.instance._drainAll(this.computeCapacity())),null!=this.storeOptions.reservoirIncreaseInterval&&n>=this._lastReservoirIncrease+this.storeOptions.reservoirIncreaseInterval){var o=this.storeOptions;if(t=o.reservoirIncreaseAmount,r=o.reservoirIncreaseMaximum,i=o.reservoir,this._lastReservoirIncrease=n,(e=null!=r?Math.min(t,r-i):t)>0)return this.storeOptions.reservoir+=e,this.instance._drainAll(this.computeCapacity())}},this.heartbeatInterval)).unref?t.unref():void 0:clearInterval(this.heartbeat)}__publish__(t){var e=this;return i((function*(){return yield e.yieldLoop(),e.instance.Events.trigger("message",t.toString())}))()}__disconnect__(t){var e=this;return i((function*(){return yield e.yieldLoop(),clearInterval(e.heartbeat),e.Promise.resolve()}))()}yieldLoop(t=0){return new this.Promise((function(e,r){return setTimeout(e,t)}))}computePenalty(){var t;return null!=(t=this.storeOptions.penalty)?t:15*this.storeOptions.minTime||5e3}__updateSettings__(t){var e=this;return i((function*(){return yield e.yieldLoop(),a.overwrite(t,t,e.storeOptions),e._startHeartbeat(),e.instance._drainAll(e.computeCapacity()),!0}))()}__running__(){var t=this;return i((function*(){return yield t.yieldLoop(),t._running}))()}__queued__(){var t=this;return i((function*(){return yield t.yieldLoop(),t.instance.queued()}))()}__done__(){var t=this;return i((function*(){return yield t.yieldLoop(),t._done}))()}__groupCheck__(t){var e=this;return i((function*(){return yield e.yieldLoop(),e._nextRequest+e.timeout<t}))()}computeCapacity(){var t,e,r=this.storeOptions;return t=r.maxConcurrent,e=r.reservoir,null!=t&&null!=e?Math.min(t-this._running,e):null!=t?t-this._running:null!=e?e:null}conditionsCheck(t){var e;return null==(e=this.computeCapacity())||t<=e}__incrementReservoir__(t){var e=this;return i((function*(){var r;return yield e.yieldLoop(),r=e.storeOptions.reservoir+=t,e.instance._drainAll(e.computeCapacity()),r}))()}__currentReservoir__(){var t=this;return i((function*(){return yield t.yieldLoop(),t.storeOptions.reservoir}))()}isBlocked(t){return this._unblockTime>=t}check(t,e){return this.conditionsCheck(t)&&this._nextRequest-e<=0}__check__(t){var e=this;return i((function*(){var r;return yield e.yieldLoop(),r=Date.now(),e.check(t,r)}))()}__register__(t,e,r){var n=this;return i((function*(){var t,r;return yield n.yieldLoop(),t=Date.now(),n.conditionsCheck(e)?(n._running+=e,null!=n.storeOptions.reservoir&&(n.storeOptions.reservoir-=e),r=Math.max(n._nextRequest-t,0),n._nextRequest=t+r+n.storeOptions.minTime,{success:!0,wait:r,reservoir:n.storeOptions.reservoir}):{success:!1}}))()}strategyIsBlock(){return 3===this.storeOptions.strategy}__submit__(t,e){var r=this;return i((function*(){var n,i,s;if(yield r.yieldLoop(),null!=r.storeOptions.maxConcurrent&&e>r.storeOptions.maxConcurrent)throw new o(`Impossible to add a job having a weight of ${e} to a limiter having a maxConcurrent setting of ${r.storeOptions.maxConcurrent}`);return i=Date.now(),s=null!=r.storeOptions.highWater&&t===r.storeOptions.highWater&&!r.check(e,i),(n=r.strategyIsBlock()&&(s||r.isBlocked(i)))&&(r._unblockTime=i+r.computePenalty(),r._nextRequest=r._unblockTime+r.storeOptions.minTime,r.instance._dropAllQueued()),{reachedHWM:s,blocked:n,strategy:r.storeOptions.strategy}}))()}__free__(t,e){var r=this;return i((function*(){return yield r.yieldLoop(),r._running-=e,r._done+=e,r.instance._drainAll(r.computeCapacity()),{running:r._running}}))()}},t.exports=s},function(t,e,r){"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(t,e,r,n,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,i)}function o(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var s=t.apply(e,r);function a(t){i(s,n,o,a,c,"next",t)}function c(t){i(s,n,o,a,c,"throw",t)}a(void 0)}))}}var s,a,c,u,l;l=r(17),s=r(30),c=r(47),a=r(49),u=class{constructor(t,e,r){this.instance=t,this.storeOptions=e,this.originalId=this.instance.id,this.clientId=this.instance._randomIndex(),l.load(r,r,this),this.clients={},this.capacityPriorityCounters={},this.sharedConnection=null!=this.connection,null==this.connection&&(this.connection="redis"===this.instance.datastore?new c({Redis:this.Redis,clientOptions:this.clientOptions,Promise:this.Promise,Events:this.instance.Events}):"ioredis"===this.instance.datastore?new a({Redis:this.Redis,clientOptions:this.clientOptions,clusterNodes:this.clusterNodes,Promise:this.Promise,Events:this.instance.Events}):void 0),this.instance.connection=this.connection,this.instance.datastore=this.connection.datastore,this.ready=this.connection.ready.then(t=>(this.clients=t,this.runScript("init",this.prepareInitSettings(this.clearDatastore)))).then(()=>this.connection.__addLimiter__(this.instance)).then(()=>this.runScript("register_client",[this.instance.queued()])).then(()=>{var t;return"function"==typeof(t=this.heartbeat=setInterval(()=>this.runScript("heartbeat",[]).catch(t=>this.instance.Events.trigger("error",t)),this.heartbeatInterval)).unref&&t.unref(),this.clients})}__publish__(t){var e=this;return o((function*(){return(yield e.ready).client.publish(e.instance.channel(),"message:"+t.toString())}))()}onMessage(t,e){var r=this;return o((function*(){var t,i,s,a,c,u,l,h,d,f;try{l=e.indexOf(":");var p=[e.slice(0,l),e.slice(l+1)];if(s=p[1],"capacity"===(f=p[0]))return yield r.instance._drainAll(s.length>0?~~s:void 0);if("capacity-priority"===f){var m=n(s.split(":"),3);return d=m[0],h=m[1],i=m[2],t=d.length>0?~~d:void 0,h===r.clientId?(a=yield r.instance._drainAll(t),u=null!=t?t-(a||0):"",yield r.clients.client.publish(r.instance.channel(),`capacity-priority:${u}::${i}`)):""===h?(clearTimeout(r.capacityPriorityCounters[i]),delete r.capacityPriorityCounters[i],r.instance._drainAll(t)):r.capacityPriorityCounters[i]=setTimeout(o((function*(){var e;try{return delete r.capacityPriorityCounters[i],yield r.runScript("blacklist_client",[h]),yield r.instance._drainAll(t)}catch(t){return e=t,r.instance.Events.trigger("error",e)}})),1e3)}if("message"===f)return r.instance.Events.trigger("message",s);if("blocked"===f)return yield r.instance._dropAllQueued()}catch(t){return c=t,r.instance.Events.trigger("error",c)}}))()}__disconnect__(t){return clearInterval(this.heartbeat),this.sharedConnection?this.connection.__removeLimiter__(this.instance):this.connection.disconnect(t)}runScript(t,e){var r=this;return o((function*(){return"init"!==t&&"register_client"!==t&&(yield r.ready),new r.Promise((n,i)=>{var o,s;return o=[Date.now(),r.clientId].concat(e),r.instance.Events.trigger("debug",`Calling Redis script: ${t}.lua`,o),s=r.connection.__scriptArgs__(t,r.originalId,o,(function(t,e){return null!=t?i(t):n(e)})),r.connection.__scriptFn__(t)(...s)}).catch(n=>"SETTINGS_KEY_NOT_FOUND"===n.message?"heartbeat"===t?r.Promise.resolve():r.runScript("init",r.prepareInitSettings(!1)).then(()=>r.runScript(t,e)):"UNKNOWN_CLIENT"===n.message?r.runScript("register_client",[r.instance.queued()]).then(()=>r.runScript(t,e)):r.Promise.reject(n))}))()}prepareArray(t){var e,r,n,i;for(n=[],e=0,r=t.length;e<r;e++)i=t[e],n.push(null!=i?i.toString():"");return n}prepareObject(t){var e,r,n;for(r in e=[],t)n=t[r],e.push(r,null!=n?n.toString():"");return e}prepareInitSettings(t){var e;return(e=this.prepareObject(Object.assign({},this.storeOptions,{id:this.originalId,version:this.instance.version,groupTimeout:this.timeout,clientTimeout:this.clientTimeout}))).unshift(t?1:0,this.instance.version),e}convertBool(t){return!!t}__updateSettings__(t){var e=this;return o((function*(){return yield e.runScript("update_settings",e.prepareObject(t)),l.overwrite(t,t,e.storeOptions)}))()}__running__(){return this.runScript("running",[])}__queued__(){return this.runScript("queued",[])}__done__(){return this.runScript("done",[])}__groupCheck__(){var t=this;return o((function*(){return t.convertBool(yield t.runScript("group_check",[]))}))()}__incrementReservoir__(t){return this.runScript("increment_reservoir",[t])}__currentReservoir__(){return this.runScript("current_reservoir",[])}__check__(t){var e=this;return o((function*(){return e.convertBool(yield e.runScript("check",e.prepareArray([t])))}))()}__register__(t,e,r){var i=this;return o((function*(){var o,s,a,c=n(yield i.runScript("register",i.prepareArray([t,e,r])),3);return s=c[0],a=c[1],o=c[2],{success:i.convertBool(s),wait:a,reservoir:o}}))()}__submit__(t,e){var r=this;return o((function*(){var i,o,a,c,u;try{var l=n(yield r.runScript("submit",r.prepareArray([t,e])),3);return c=l[0],i=l[1],u=l[2],{reachedHWM:r.convertBool(c),blocked:r.convertBool(i),strategy:u}}catch(t){if(0===(o=t).message.indexOf("OVERWEIGHT")){var h=n(o.message.split(":"),3);throw h[0],e=h[1],a=h[2],new s(`Impossible to add a job having a weight of ${e} to a limiter having a maxConcurrent setting of ${a}`)}throw o}}))()}__free__(t,e){var r=this;return o((function*(){return{running:yield r.runScript("free",r.prepareArray([t]))}}))()}},t.exports=u},function(t){t.exports=JSON.parse("{\"blacklist_client.lua\":\"local blacklist = ARGV[num_static_argv + 1]\\n\\nif redis.call('zscore', client_last_seen_key, blacklist) then\\n  redis.call('zadd', client_last_seen_key, 0, blacklist)\\nend\\n\\n\\nreturn {}\\n\",\"check.lua\":\"local weight = tonumber(ARGV[num_static_argv + 1])\\n\\nlocal capacity = process_tick(now, false)['capacity']\\nlocal nextRequest = tonumber(redis.call('hget', settings_key, 'nextRequest'))\\n\\nreturn conditions_check(capacity, weight) and nextRequest - now <= 0\\n\",\"conditions_check.lua\":\"local conditions_check = function (capacity, weight)\\n  return capacity == nil or weight <= capacity\\nend\\n\",\"current_reservoir.lua\":\"return process_tick(now, false)['reservoir']\\n\",\"done.lua\":\"process_tick(now, false)\\n\\nreturn tonumber(redis.call('hget', settings_key, 'done'))\\n\",\"free.lua\":\"local index = ARGV[num_static_argv + 1]\\n\\nredis.call('zadd', job_expirations_key, 0, index)\\n\\nreturn process_tick(now, false)['running']\\n\",\"get_time.lua\":\"redis.replicate_commands()\\n\\nlocal get_time = function ()\\n  local time = redis.call('time')\\n\\n  return tonumber(time[1]..string.sub(time[2], 1, 3))\\nend\\n\",\"group_check.lua\":\"return not (redis.call('exists', settings_key) == 1)\\n\",\"heartbeat.lua\":\"process_tick(now, true)\\n\",\"increment_reservoir.lua\":\"local incr = tonumber(ARGV[num_static_argv + 1])\\n\\nredis.call('hincrby', settings_key, 'reservoir', incr)\\n\\nlocal reservoir = process_tick(now, true)['reservoir']\\n\\nlocal groupTimeout = tonumber(redis.call('hget', settings_key, 'groupTimeout'))\\nrefresh_expiration(0, 0, groupTimeout)\\n\\nreturn reservoir\\n\",\"init.lua\":\"local clear = tonumber(ARGV[num_static_argv + 1])\\nlocal limiter_version = ARGV[num_static_argv + 2]\\nlocal num_local_argv = num_static_argv + 2\\n\\nif clear == 1 then\\n  redis.call('del', unpack(KEYS))\\nend\\n\\nif redis.call('exists', settings_key) == 0 then\\n  -- Create\\n  local args = {'hmset', settings_key}\\n\\n  for i = num_local_argv + 1, #ARGV do\\n    table.insert(args, ARGV[i])\\n  end\\n\\n  redis.call(unpack(args))\\n  redis.call('hmset', settings_key,\\n    'nextRequest', now,\\n    'lastReservoirRefresh', now,\\n    'lastReservoirIncrease', now,\\n    'running', 0,\\n    'done', 0,\\n    'unblockTime', 0,\\n    'capacityPriorityCounter', 0\\n  )\\n\\nelse\\n  -- Apply migrations\\n  local settings = redis.call('hmget', settings_key,\\n    'id',\\n    'version'\\n  )\\n  local id = settings[1]\\n  local current_version = settings[2]\\n\\n  if current_version ~= limiter_version then\\n    local version_digits = {}\\n    for k, v in string.gmatch(current_version, \\\"([^.]+)\\\") do\\n      table.insert(version_digits, tonumber(k))\\n    end\\n\\n    -- 2.10.0\\n    if version_digits[2] < 10 then\\n      redis.call('hsetnx', settings_key, 'reservoirRefreshInterval', '')\\n      redis.call('hsetnx', settings_key, 'reservoirRefreshAmount', '')\\n      redis.call('hsetnx', settings_key, 'lastReservoirRefresh', '')\\n      redis.call('hsetnx', settings_key, 'done', 0)\\n      redis.call('hset', settings_key, 'version', '2.10.0')\\n    end\\n\\n    -- 2.11.1\\n    if version_digits[2] < 11 or (version_digits[2] == 11 and version_digits[3] < 1) then\\n      if redis.call('hstrlen', settings_key, 'lastReservoirRefresh') == 0 then\\n        redis.call('hmset', settings_key,\\n          'lastReservoirRefresh', now,\\n          'version', '2.11.1'\\n        )\\n      end\\n    end\\n\\n    -- 2.14.0\\n    if version_digits[2] < 14 then\\n      local old_running_key = 'b_'..id..'_running'\\n      local old_executing_key = 'b_'..id..'_executing'\\n\\n      if redis.call('exists', old_running_key) == 1 then\\n        redis.call('rename', old_running_key, job_weights_key)\\n      end\\n      if redis.call('exists', old_executing_key) == 1 then\\n        redis.call('rename', old_executing_key, job_expirations_key)\\n      end\\n      redis.call('hset', settings_key, 'version', '2.14.0')\\n    end\\n\\n    -- 2.15.2\\n    if version_digits[2] < 15 or (version_digits[2] == 15 and version_digits[3] < 2) then\\n      redis.call('hsetnx', settings_key, 'capacityPriorityCounter', 0)\\n      redis.call('hset', settings_key, 'version', '2.15.2')\\n    end\\n\\n    -- 2.17.0\\n    if version_digits[2] < 17 then\\n      redis.call('hsetnx', settings_key, 'clientTimeout', 10000)\\n      redis.call('hset', settings_key, 'version', '2.17.0')\\n    end\\n\\n    -- 2.18.0\\n    if version_digits[2] < 18 then\\n      redis.call('hsetnx', settings_key, 'reservoirIncreaseInterval', '')\\n      redis.call('hsetnx', settings_key, 'reservoirIncreaseAmount', '')\\n      redis.call('hsetnx', settings_key, 'reservoirIncreaseMaximum', '')\\n      redis.call('hsetnx', settings_key, 'lastReservoirIncrease', now)\\n      redis.call('hset', settings_key, 'version', '2.18.0')\\n    end\\n\\n  end\\n\\n  process_tick(now, false)\\nend\\n\\nlocal groupTimeout = tonumber(redis.call('hget', settings_key, 'groupTimeout'))\\nrefresh_expiration(0, 0, groupTimeout)\\n\\nreturn {}\\n\",\"process_tick.lua\":\"local process_tick = function (now, always_publish)\\n\\n  local compute_capacity = function (maxConcurrent, running, reservoir)\\n    if maxConcurrent ~= nil and reservoir ~= nil then\\n      return math.min((maxConcurrent - running), reservoir)\\n    elseif maxConcurrent ~= nil then\\n      return maxConcurrent - running\\n    elseif reservoir ~= nil then\\n      return reservoir\\n    else\\n      return nil\\n    end\\n  end\\n\\n  local settings = redis.call('hmget', settings_key,\\n    'id',\\n    'maxConcurrent',\\n    'running',\\n    'reservoir',\\n    'reservoirRefreshInterval',\\n    'reservoirRefreshAmount',\\n    'lastReservoirRefresh',\\n    'reservoirIncreaseInterval',\\n    'reservoirIncreaseAmount',\\n    'reservoirIncreaseMaximum',\\n    'lastReservoirIncrease',\\n    'capacityPriorityCounter',\\n    'clientTimeout'\\n  )\\n  local id = settings[1]\\n  local maxConcurrent = tonumber(settings[2])\\n  local running = tonumber(settings[3])\\n  local reservoir = tonumber(settings[4])\\n  local reservoirRefreshInterval = tonumber(settings[5])\\n  local reservoirRefreshAmount = tonumber(settings[6])\\n  local lastReservoirRefresh = tonumber(settings[7])\\n  local reservoirIncreaseInterval = tonumber(settings[8])\\n  local reservoirIncreaseAmount = tonumber(settings[9])\\n  local reservoirIncreaseMaximum = tonumber(settings[10])\\n  local lastReservoirIncrease = tonumber(settings[11])\\n  local capacityPriorityCounter = tonumber(settings[12])\\n  local clientTimeout = tonumber(settings[13])\\n\\n  local initial_capacity = compute_capacity(maxConcurrent, running, reservoir)\\n\\n  --\\n  -- Process 'running' changes\\n  --\\n  local expired = redis.call('zrangebyscore', job_expirations_key, '-inf', '('..now)\\n\\n  if #expired > 0 then\\n    redis.call('zremrangebyscore', job_expirations_key, '-inf', '('..now)\\n\\n    local flush_batch = function (batch, acc)\\n      local weights = redis.call('hmget', job_weights_key, unpack(batch))\\n                      redis.call('hdel',  job_weights_key, unpack(batch))\\n      local clients = redis.call('hmget', job_clients_key, unpack(batch))\\n                      redis.call('hdel',  job_clients_key, unpack(batch))\\n\\n      -- Calculate sum of removed weights\\n      for i = 1, #weights do\\n        acc['total'] = acc['total'] + (tonumber(weights[i]) or 0)\\n      end\\n\\n      -- Calculate sum of removed weights by client\\n      local client_weights = {}\\n      for i = 1, #clients do\\n        local removed = tonumber(weights[i]) or 0\\n        if removed > 0 then\\n          acc['client_weights'][clients[i]] = (acc['client_weights'][clients[i]] or 0) + removed\\n        end\\n      end\\n    end\\n\\n    local acc = {\\n      ['total'] = 0,\\n      ['client_weights'] = {}\\n    }\\n    local batch_size = 1000\\n\\n    -- Compute changes to Zsets and apply changes to Hashes\\n    for i = 1, #expired, batch_size do\\n      local batch = {}\\n      for j = i, math.min(i + batch_size - 1, #expired) do\\n        table.insert(batch, expired[j])\\n      end\\n\\n      flush_batch(batch, acc)\\n    end\\n\\n    -- Apply changes to Zsets\\n    if acc['total'] > 0 then\\n      redis.call('hincrby', settings_key, 'done', acc['total'])\\n      running = tonumber(redis.call('hincrby', settings_key, 'running', -acc['total']))\\n    end\\n\\n    for client, weight in pairs(acc['client_weights']) do\\n      redis.call('zincrby', client_running_key, -weight, client)\\n    end\\n  end\\n\\n  --\\n  -- Process 'reservoir' changes\\n  --\\n  local reservoirRefreshActive = reservoirRefreshInterval ~= nil and reservoirRefreshAmount ~= nil\\n  if reservoirRefreshActive and now >= lastReservoirRefresh + reservoirRefreshInterval then\\n    reservoir = reservoirRefreshAmount\\n    redis.call('hmset', settings_key,\\n      'reservoir', reservoir,\\n      'lastReservoirRefresh', now\\n    )\\n  end\\n\\n  local reservoirIncreaseActive = reservoirIncreaseInterval ~= nil and reservoirIncreaseAmount ~= nil\\n  if reservoirIncreaseActive and now >= lastReservoirIncrease + reservoirIncreaseInterval then\\n    local num_intervals = math.floor((now - lastReservoirIncrease) / reservoirIncreaseInterval)\\n    local incr = reservoirIncreaseAmount * num_intervals\\n    if reservoirIncreaseMaximum ~= nil then\\n      incr = math.min(incr, reservoirIncreaseMaximum - (reservoir or 0))\\n    end\\n    if incr > 0 then\\n      reservoir = (reservoir or 0) + incr\\n    end\\n    redis.call('hmset', settings_key,\\n      'reservoir', reservoir,\\n      'lastReservoirIncrease', lastReservoirIncrease + (num_intervals * reservoirIncreaseInterval)\\n    )\\n  end\\n\\n  --\\n  -- Clear unresponsive clients\\n  --\\n  local unresponsive = redis.call('zrangebyscore', client_last_seen_key, '-inf', (now - clientTimeout))\\n  local unresponsive_lookup = {}\\n  local terminated_clients = {}\\n  for i = 1, #unresponsive do\\n    unresponsive_lookup[unresponsive[i]] = true\\n    if tonumber(redis.call('zscore', client_running_key, unresponsive[i])) == 0 then\\n      table.insert(terminated_clients, unresponsive[i])\\n    end\\n  end\\n  if #terminated_clients > 0 then\\n    redis.call('zrem', client_running_key,         unpack(terminated_clients))\\n    redis.call('hdel', client_num_queued_key,      unpack(terminated_clients))\\n    redis.call('zrem', client_last_registered_key, unpack(terminated_clients))\\n    redis.call('zrem', client_last_seen_key,       unpack(terminated_clients))\\n  end\\n\\n  --\\n  -- Broadcast capacity changes\\n  --\\n  local final_capacity = compute_capacity(maxConcurrent, running, reservoir)\\n\\n  if always_publish or (initial_capacity ~= nil and final_capacity == nil) then\\n    -- always_publish or was not unlimited, now unlimited\\n    redis.call('publish', 'b_'..id, 'capacity:'..(final_capacity or ''))\\n\\n  elseif initial_capacity ~= nil and final_capacity ~= nil and final_capacity > initial_capacity then\\n    -- capacity was increased\\n    -- send the capacity message to the limiter having the lowest number of running jobs\\n    -- the tiebreaker is the limiter having not registered a job in the longest time\\n\\n    local lowest_concurrency_value = nil\\n    local lowest_concurrency_clients = {}\\n    local lowest_concurrency_last_registered = {}\\n    local client_concurrencies = redis.call('zrange', client_running_key, 0, -1, 'withscores')\\n\\n    for i = 1, #client_concurrencies, 2 do\\n      local client = client_concurrencies[i]\\n      local concurrency = tonumber(client_concurrencies[i+1])\\n\\n      if (\\n        lowest_concurrency_value == nil or lowest_concurrency_value == concurrency\\n      ) and (\\n        not unresponsive_lookup[client]\\n      ) and (\\n        tonumber(redis.call('hget', client_num_queued_key, client)) > 0\\n      ) then\\n        lowest_concurrency_value = concurrency\\n        table.insert(lowest_concurrency_clients, client)\\n        local last_registered = tonumber(redis.call('zscore', client_last_registered_key, client))\\n        table.insert(lowest_concurrency_last_registered, last_registered)\\n      end\\n    end\\n\\n    if #lowest_concurrency_clients > 0 then\\n      local position = 1\\n      local earliest = lowest_concurrency_last_registered[1]\\n\\n      for i,v in ipairs(lowest_concurrency_last_registered) do\\n        if v < earliest then\\n          position = i\\n          earliest = v\\n        end\\n      end\\n\\n      local next_client = lowest_concurrency_clients[position]\\n      redis.call('publish', 'b_'..id,\\n        'capacity-priority:'..(final_capacity or '')..\\n        ':'..next_client..\\n        ':'..capacityPriorityCounter\\n      )\\n      redis.call('hincrby', settings_key, 'capacityPriorityCounter', '1')\\n    else\\n      redis.call('publish', 'b_'..id, 'capacity:'..(final_capacity or ''))\\n    end\\n  end\\n\\n  return {\\n    ['capacity'] = final_capacity,\\n    ['running'] = running,\\n    ['reservoir'] = reservoir\\n  }\\nend\\n\",\"queued.lua\":\"local clientTimeout = tonumber(redis.call('hget', settings_key, 'clientTimeout'))\\nlocal valid_clients = redis.call('zrangebyscore', client_last_seen_key, (now - clientTimeout), 'inf')\\nlocal client_queued = redis.call('hmget', client_num_queued_key, unpack(valid_clients))\\n\\nlocal sum = 0\\nfor i = 1, #client_queued do\\n  sum = sum + tonumber(client_queued[i])\\nend\\n\\nreturn sum\\n\",\"refresh_expiration.lua\":\"local refresh_expiration = function (now, nextRequest, groupTimeout)\\n\\n  if groupTimeout ~= nil then\\n    local ttl = (nextRequest + groupTimeout) - now\\n\\n    for i = 1, #KEYS do\\n      redis.call('pexpire', KEYS[i], ttl)\\n    end\\n  end\\n\\nend\\n\",\"refs.lua\":\"local settings_key = KEYS[1]\\nlocal job_weights_key = KEYS[2]\\nlocal job_expirations_key = KEYS[3]\\nlocal job_clients_key = KEYS[4]\\nlocal client_running_key = KEYS[5]\\nlocal client_num_queued_key = KEYS[6]\\nlocal client_last_registered_key = KEYS[7]\\nlocal client_last_seen_key = KEYS[8]\\n\\nlocal now = tonumber(ARGV[1])\\nlocal client = ARGV[2]\\n\\nlocal num_static_argv = 2\\n\",\"register.lua\":\"local index = ARGV[num_static_argv + 1]\\nlocal weight = tonumber(ARGV[num_static_argv + 2])\\nlocal expiration = tonumber(ARGV[num_static_argv + 3])\\n\\nlocal state = process_tick(now, false)\\nlocal capacity = state['capacity']\\nlocal reservoir = state['reservoir']\\n\\nlocal settings = redis.call('hmget', settings_key,\\n  'nextRequest',\\n  'minTime',\\n  'groupTimeout'\\n)\\nlocal nextRequest = tonumber(settings[1])\\nlocal minTime = tonumber(settings[2])\\nlocal groupTimeout = tonumber(settings[3])\\n\\nif conditions_check(capacity, weight) then\\n\\n  redis.call('hincrby', settings_key, 'running', weight)\\n  redis.call('hset', job_weights_key, index, weight)\\n  if expiration ~= nil then\\n    redis.call('zadd', job_expirations_key, now + expiration, index)\\n  end\\n  redis.call('hset', job_clients_key, index, client)\\n  redis.call('zincrby', client_running_key, weight, client)\\n  redis.call('hincrby', client_num_queued_key, client, -1)\\n  redis.call('zadd', client_last_registered_key, now, client)\\n\\n  local wait = math.max(nextRequest - now, 0)\\n  local newNextRequest = now + wait + minTime\\n\\n  if reservoir == nil then\\n    redis.call('hset', settings_key,\\n      'nextRequest', newNextRequest\\n    )\\n  else\\n    reservoir = reservoir - weight\\n    redis.call('hmset', settings_key,\\n      'reservoir', reservoir,\\n      'nextRequest', newNextRequest\\n    )\\n  end\\n\\n  refresh_expiration(now, newNextRequest, groupTimeout)\\n\\n  return {true, wait, reservoir}\\n\\nelse\\n  return {false}\\nend\\n\",\"register_client.lua\":\"local queued = tonumber(ARGV[num_static_argv + 1])\\n\\n-- Could have been re-registered concurrently\\nif not redis.call('zscore', client_last_seen_key, client) then\\n  redis.call('zadd', client_running_key, 0, client)\\n  redis.call('hset', client_num_queued_key, client, queued)\\n  redis.call('zadd', client_last_registered_key, 0, client)\\nend\\n\\nredis.call('zadd', client_last_seen_key, now, client)\\n\\nreturn {}\\n\",\"running.lua\":\"return process_tick(now, false)['running']\\n\",\"submit.lua\":\"local queueLength = tonumber(ARGV[num_static_argv + 1])\\nlocal weight = tonumber(ARGV[num_static_argv + 2])\\n\\nlocal capacity = process_tick(now, false)['capacity']\\n\\nlocal settings = redis.call('hmget', settings_key,\\n  'id',\\n  'maxConcurrent',\\n  'highWater',\\n  'nextRequest',\\n  'strategy',\\n  'unblockTime',\\n  'penalty',\\n  'minTime',\\n  'groupTimeout'\\n)\\nlocal id = settings[1]\\nlocal maxConcurrent = tonumber(settings[2])\\nlocal highWater = tonumber(settings[3])\\nlocal nextRequest = tonumber(settings[4])\\nlocal strategy = tonumber(settings[5])\\nlocal unblockTime = tonumber(settings[6])\\nlocal penalty = tonumber(settings[7])\\nlocal minTime = tonumber(settings[8])\\nlocal groupTimeout = tonumber(settings[9])\\n\\nif maxConcurrent ~= nil and weight > maxConcurrent then\\n  return redis.error_reply('OVERWEIGHT:'..weight..':'..maxConcurrent)\\nend\\n\\nlocal reachedHWM = (highWater ~= nil and queueLength == highWater\\n  and not (\\n    conditions_check(capacity, weight)\\n    and nextRequest - now <= 0\\n  )\\n)\\n\\nlocal blocked = strategy == 3 and (reachedHWM or unblockTime >= now)\\n\\nif blocked then\\n  local computedPenalty = penalty\\n  if computedPenalty == nil then\\n    if minTime == 0 then\\n      computedPenalty = 5000\\n    else\\n      computedPenalty = 15 * minTime\\n    end\\n  end\\n\\n  local newNextRequest = now + computedPenalty + minTime\\n\\n  redis.call('hmset', settings_key,\\n    'unblockTime', now + computedPenalty,\\n    'nextRequest', newNextRequest\\n  )\\n\\n  local clients_queued_reset = redis.call('hkeys', client_num_queued_key)\\n  local queued_reset = {}\\n  for i = 1, #clients_queued_reset do\\n    table.insert(queued_reset, clients_queued_reset[i])\\n    table.insert(queued_reset, 0)\\n  end\\n  redis.call('hmset', client_num_queued_key, unpack(queued_reset))\\n\\n  redis.call('publish', 'b_'..id, 'blocked:')\\n\\n  refresh_expiration(now, newNextRequest, groupTimeout)\\nend\\n\\nif not blocked and not reachedHWM then\\n  redis.call('hincrby', client_num_queued_key, client, 1)\\nend\\n\\nreturn {reachedHWM, blocked, strategy}\\n\",\"update_settings.lua\":\"local args = {'hmset', settings_key}\\n\\nfor i = num_static_argv + 1, #ARGV do\\n  table.insert(args, ARGV[i])\\nend\\n\\nredis.call(unpack(args))\\n\\nprocess_tick(now, true)\\n\\nlocal groupTimeout = tonumber(redis.call('hget', settings_key, 'groupTimeout'))\\nrefresh_expiration(0, 0, groupTimeout)\\n\\nreturn {}\\n\",\"validate_client.lua\":\"if not redis.call('zscore', client_last_seen_key, client) then\\n  return redis.error_reply('UNKNOWN_CLIENT')\\nend\\n\\nredis.call('zadd', client_last_seen_key, now, client)\\n\",\"validate_keys.lua\":\"if not (redis.call('exists', settings_key) == 1) then\\n  return redis.error_reply('SETTINGS_KEY_NOT_FOUND')\\nend\\n\"}")},function(t,e,r){"use strict";var n,i;n=r(30),i=class{constructor(t){this.status=t,this._jobs={},this.counts=this.status.map((function(){return 0}))}next(t){var e,r;return r=(e=this._jobs[t])+1,null!=e&&r<this.status.length?(this.counts[e]--,this.counts[r]++,this._jobs[t]++):null!=e?(this.counts[e]--,delete this._jobs[t]):void 0}start(t){return 0,this._jobs[t]=0,this.counts[0]++}remove(t){var e;return null!=(e=this._jobs[t])&&(this.counts[e]--,delete this._jobs[t]),null!=e}jobStatus(t){var e;return null!=(e=this.status[this._jobs[t]])?e:null}statusJobs(t){var e,r,i,o;if(null!=t){if((r=this.status.indexOf(t))<0)throw new n("status must be one of "+this.status.join(", "));for(e in o=[],i=this._jobs)i[e]===r&&o.push(e);return o}return Object.keys(this._jobs)}statusCounts(){return this.counts.reduce((t,e,r)=>(t[this.status[r]]=e,t),{})}},t.exports=i},function(t,e,r){"use strict";function n(t,e,r,n,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,i)}function i(t){return function(){var e=this,r=arguments;return new Promise((function(i,o){var s=t.apply(e,r);function a(t){n(s,i,o,a,c,"next",t)}function c(t){n(s,i,o,a,c,"throw",t)}a(void 0)}))}}var o,s;o=r(81),s=class{constructor(t,e){this.schedule=this.schedule.bind(this),this.name=t,this.Promise=e,this._running=0,this._queue=new o}isEmpty(){return 0===this._queue.length}_tryToRun(){var t=this;return i((function*(){var e,r,n,o,s,a,c;if(t._running<1&&t._queue.length>0){t._running++;var u=t._queue.shift();return c=u.task,e=u.args,s=u.resolve,o=u.reject,r=yield i((function*(){try{return a=yield c(...e),function(){return s(a)}}catch(t){return n=t,function(){return o(n)}}}))(),t._running--,t._tryToRun(),r()}}))()}schedule(t,...e){var r,n,i;return i=n=null,r=new this.Promise((function(t,e){return i=t,n=e})),this._queue.push({task:t,args:e,resolve:i,reject:n}),this._tryToRun(),r}},t.exports=s},function(t){t.exports=JSON.parse('{"version":"2.19.5"}')},function(t,e,r){"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(t,e,r,n,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,i)}function o(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var s=t.apply(e,r);function a(t){i(s,n,o,a,c,"next",t)}function c(t){i(s,n,o,a,c,"throw",t)}a(void 0)}))}}var s,a,c,u,l,h;h=r(17),s=r(24),u=r(47),c=r(49),l=r(48),a=function(){class t{constructor(t={}){this.deleteKey=this.deleteKey.bind(this),this.limiterOptions=t,h.load(this.limiterOptions,this.defaults,this),this.Events=new s(this),this.instances={},this.Bottleneck=r(80),this._startAutoCleanup(),this.sharedConnection=null!=this.connection,null==this.connection&&("redis"===this.limiterOptions.datastore?this.connection=new u(Object.assign({},this.limiterOptions,{Events:this.Events})):"ioredis"===this.limiterOptions.datastore&&(this.connection=new c(Object.assign({},this.limiterOptions,{Events:this.Events}))))}key(t=""){var e;return null!=(e=this.instances[t])?e:(()=>{var e;return e=this.instances[t]=new this.Bottleneck(Object.assign(this.limiterOptions,{id:`${this.id}-${t}`,timeout:this.timeout,connection:this.connection})),this.Events.trigger("created",e,t),e})()}deleteKey(t=""){var e=this;return o((function*(){var r,n;return n=e.instances[t],e.connection&&(r=yield e.connection.__runCommand__(["del",...l.allKeys(`${e.id}-${t}`)])),null!=n&&(delete e.instances[t],yield n.disconnect()),null!=n||r>0}))()}limiters(){var t,e,r,n;for(t in r=[],e=this.instances)n=e[t],r.push({key:t,limiter:n});return r}keys(){return Object.keys(this.instances)}clusterKeys(){var t=this;return o((function*(){var e,r,i,o,s,a,c,u;if(null==t.connection)return t.Promise.resolve(t.keys());for(a=[],e=null,u=`b_${t.id}-`.length,r="_settings".length;0!==e;){var l=n(yield t.connection.__runCommand__(["scan",null!=e?e:0,"match",`b_${t.id}-*_settings`,"count",1e4]),2);for(e=~~l[0],o=0,c=(i=l[1]).length;o<c;o++)s=i[o],a.push(s.slice(u,-r))}return a}))()}_startAutoCleanup(){var t,e=this;return clearInterval(this.interval),"function"==typeof(t=this.interval=setInterval(o((function*(){var t,r,n,i,o,s;for(r in o=Date.now(),i=[],n=e.instances){s=n[r];try{(yield s._store.__groupCheck__(o))?i.push(e.deleteKey(r)):i.push(void 0)}catch(e){t=e,i.push(s.Events.trigger("error",t))}}return i})),this.timeout/2)).unref?t.unref():void 0}updateSettings(t={}){if(h.overwrite(t,this.defaults,this),h.overwrite(t,t,this.limiterOptions),null!=t.timeout)return this._startAutoCleanup()}disconnect(t=!0){var e;if(!this.sharedConnection)return null!=(e=this.connection)?e.disconnect(t):void 0}}return t.prototype.defaults={timeout:3e5,connection:null,Promise:Promise,id:"group-key"},t}.call(void 0),t.exports=a},function(t,e,r){"use strict";var n,i,o;o=r(17),i=r(24),n=function(){class t{constructor(t={}){this.options=t,o.load(this.options,this.defaults,this),this.Events=new i(this),this._arr=[],this._resetPromise(),this._lastFlush=Date.now()}_resetPromise(){return this._promise=new this.Promise((t,e)=>this._resolve=t)}_flush(){return clearTimeout(this._timeout),this._lastFlush=Date.now(),this._resolve(),this.Events.trigger("batch",this._arr),this._arr=[],this._resetPromise()}add(t){var e;return this._arr.push(t),e=this._promise,this._arr.length===this.maxSize?this._flush():null!=this.maxTime&&1===this._arr.length&&(this._timeout=setTimeout(()=>this._flush(),this.maxTime)),e}}return t.prototype.defaults={maxTime:null,maxSize:null,Promise:Promise},t}.call(void 0),t.exports=n},function(t,e,r){"use strict";t.exports=(...t)=>[...new Set([].concat(...t))]},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.convertPatternGroupToTask=e.convertPatternGroupsToTasks=e.groupPatternsByBaseDirectory=e.getNegativePatternsAsPositive=e.getPositivePatterns=e.convertPatternsToTasks=e.generate=void 0;const n=r(18);function i(t,e,r){const n=a(t);if("."in n){return[u(".",t,e,r)]}return c(n,e,r)}function o(t){return n.pattern.getPositivePatterns(t)}function s(t,e){return n.pattern.getNegativePatterns(t).concat(e).map(n.pattern.convertToPositivePattern)}function a(t){return t.reduce((t,e)=>{const r=n.pattern.getBaseDirectory(e);return r in t?t[r].push(e):t[r]=[e],t},{})}function c(t,e,r){return Object.keys(t).map(n=>u(n,t[n],e,r))}function u(t,e,r,i){return{dynamic:i,positive:e,negative:r,base:t,patterns:[].concat(e,r.map(n.pattern.convertToNegativePattern))}}e.generate=function(t,e){const r=o(t),a=s(t,e.ignore),c=r.filter(t=>n.pattern.isStaticPattern(t,e)),u=r.filter(t=>n.pattern.isDynamicPattern(t,e)),l=i(c,a,!1),h=i(u,a,!0);return l.concat(h)},e.convertPatternsToTasks=i,e.getPositivePatterns=o,e.getNegativePatternsAsPositive=s,e.groupPatternsByBaseDirectory=a,e.convertPatternGroupsToTasks=c,e.convertPatternGroupToTask=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.splitWhen=e.flatten=void 0,e.flatten=function(t){return t.reduce((t,e)=>[].concat(t,e),[])},e.splitWhen=function(t,e){const r=[[]];let n=0;for(const i of t)e(i)?(n++,r[n]=[]):r[n].push(i);return r}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isEnoentCodeError=void 0,e.isEnoentCodeError=function(t){return"ENOENT"===t.code}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDirentFromStats=void 0;class n{constructor(t,e){this.name=t,this.isBlockDevice=e.isBlockDevice.bind(e),this.isCharacterDevice=e.isCharacterDevice.bind(e),this.isDirectory=e.isDirectory.bind(e),this.isFIFO=e.isFIFO.bind(e),this.isFile=e.isFile.bind(e),this.isSocket=e.isSocket.bind(e),this.isSymbolicLink=e.isSymbolicLink.bind(e)}}e.createDirentFromStats=function(t,e){return new n(t,e)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeLeadingDotSegment=e.escape=e.makeAbsolute=e.unixify=void 0;const n=r(1),i=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;e.unixify=function(t){return t.replace(/\\/g,"/")},e.makeAbsolute=function(t,e){return n.resolve(t,e)},e.escape=function(t){return t.replace(i,"\\$2")},e.removeLeadingDotSegment=function(t){if("."===t.charAt(0)){const e=t.charAt(1);if("/"===e||"\\"===e)return t.slice(2)}return t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchAny=e.convertPatternsToRe=e.makeRe=e.getPatternParts=e.expandBraceExpansion=e.expandPatternsWithBraceExpansion=e.isAffectDepthOfReadingPattern=e.endsWithSlashGlobStar=e.hasGlobStar=e.getBaseDirectory=e.getPositivePatterns=e.getNegativePatterns=e.isPositivePattern=e.isNegativePattern=e.convertToNegativePattern=e.convertToPositivePattern=e.isDynamicPattern=e.isStaticPattern=void 0;const n=r(1),i=r(195),o=r(198),s=r(85),a=/[*?]|^!/,c=/\[.*]/,u=/(?:^|[^!*+?@])\(.*\|.*\)/,l=/[!*+?@]\(.*\)/,h=/{.*(?:,|\.\.).*}/;function d(t,e={}){return!f(t,e)}function f(t,e={}){return""!==t&&(!(!1!==e.caseSensitiveMatch&&!t.includes("\\"))||(!!(a.test(t)||c.test(t)||u.test(t))||(!(!1===e.extglob||!l.test(t))||!(!1===e.braceExpansion||!h.test(t)))))}function p(t){return t.startsWith("!")&&"("!==t[1]}function m(t){return!p(t)}function g(t){return t.endsWith("/**")}function y(t){return o.braces(t,{expand:!0,nodupes:!0})}function _(t,e){return o.makeRe(t,e)}e.isStaticPattern=d,e.isDynamicPattern=f,e.convertToPositivePattern=function(t){return p(t)?t.slice(1):t},e.convertToNegativePattern=function(t){return"!"+t},e.isNegativePattern=p,e.isPositivePattern=m,e.getNegativePatterns=function(t){return t.filter(p)},e.getPositivePatterns=function(t){return t.filter(m)},e.getBaseDirectory=function(t){return i(t,{flipBackslashes:!1})},e.hasGlobStar=function(t){return t.includes("**")},e.endsWithSlashGlobStar=g,e.isAffectDepthOfReadingPattern=function(t){const e=n.basename(t);return g(t)||d(e)},e.expandPatternsWithBraceExpansion=function(t){return t.reduce((t,e)=>t.concat(y(e)),[])},e.expandBraceExpansion=y,e.getPatternParts=function(t,e){let{parts:r}=s.scan(t,Object.assign(Object.assign({},e),{parts:!0}));return 0===r.length&&(r=[t]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r},e.makeRe=_,e.convertPatternsToRe=function(t,e){return t.map(t=>_(t,e))},e.matchAny=function(t,e){return e.some(e=>e.test(t))}},function(t,e,r){"use strict";var n=r(196),i=r(1).posix.dirname,o="win32"===r(31).platform(),s=/\\/g,a=/[\{\[].*[\}\]]$/,c=/(^|[^\\])([\{\[]|\([^\)]+$)/,u=/\\([\!\*\?\|\[\]\(\)\{\}])/g;t.exports=function(t,e){Object.assign({flipBackslashes:!0},e).flipBackslashes&&o&&t.indexOf("/")<0&&(t=t.replace(s,"/")),a.test(t)&&(t+="/"),t+="a";do{t=i(t)}while(n(t)||c.test(t));return t.replace(u,"$1")}},function(t,e,r){
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
var n=r(197),i={"{":"}","(":")","[":"]"},o=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/,s=/\\(.)|(^!|[*?{}()[\]]|\(\?)/;t.exports=function(t,e){if("string"!=typeof t||""===t)return!1;if(n(t))return!0;var r,a=o;for(e&&!1===e.strict&&(a=s);r=a.exec(t);){if(r[2])return!0;var c=r.index+r[0].length,u=r[1],l=u?i[u]:null;if(u&&l){var h=t.indexOf(l,c);-1!==h&&(c=h+1)}t=t.slice(c)}return!1}},function(t,e){
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
t.exports=function(t){if("string"!=typeof t||""===t)return!1;for(var e;e=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(e[2])return!0;t=t.slice(e.index+e[0].length)}return!1}},function(t,e,r){"use strict";const n=r(11),i=r(199),o=r(85),s=r(34),a=t=>""===t||"./"===t,c=(t,e,r)=>{e=[].concat(e),t=[].concat(t);let n=new Set,i=new Set,s=new Set,a=0,c=t=>{s.add(t.output),r&&r.onResult&&r.onResult(t)};for(let s=0;s<e.length;s++){let u=o(String(e[s]),{...r,onResult:c},!0),l=u.state.negated||u.state.negatedExtglob;l&&a++;for(let e of t){let t=u(e,!0);(l?!t.isMatch:t.isMatch)&&(l?n.add(t.output):(n.delete(t.output),i.add(t.output)))}}let u=(a===e.length?[...s]:[...i]).filter(t=>!n.has(t));if(r&&0===u.length){if(!0===r.failglob)throw new Error(`No matches found for "${e.join(", ")}"`);if(!0===r.nonull||!0===r.nullglob)return r.unescape?e.map(t=>t.replace(/\\/g,"")):e}return u};c.match=c,c.matcher=(t,e)=>o(t,e),c.any=c.isMatch=(t,e,r)=>o(e,r)(t),c.not=(t,e,r={})=>{e=[].concat(e).map(String);let n=new Set,i=[],o=c(t,e,{...r,onResult:t=>{r.onResult&&r.onResult(t),i.push(t.output)}});for(let t of i)o.includes(t)||n.add(t);return[...n]},c.contains=(t,e,r)=>{if("string"!=typeof t)throw new TypeError(`Expected a string: "${n.inspect(t)}"`);if(Array.isArray(e))return e.some(e=>c.contains(t,e,r));if("string"==typeof e){if(a(t)||a(e))return!1;if(t.includes(e)||t.startsWith("./")&&t.slice(2).includes(e))return!0}return c.isMatch(t,e,{...r,contains:!0})},c.matchKeys=(t,e,r)=>{if(!s.isObject(t))throw new TypeError("Expected the first argument to be an object");let n=c(Object.keys(t),e,r),i={};for(let e of n)i[e]=t[e];return i},c.some=(t,e,r)=>{let n=[].concat(t);for(let t of[].concat(e)){let e=o(String(t),r);if(n.some(t=>e(t)))return!0}return!1},c.every=(t,e,r)=>{let n=[].concat(t);for(let t of[].concat(e)){let e=o(String(t),r);if(!n.every(t=>e(t)))return!1}return!0},c.all=(t,e,r)=>{if("string"!=typeof t)throw new TypeError(`Expected a string: "${n.inspect(t)}"`);return[].concat(e).every(e=>o(e,r)(t))},c.capture=(t,e,r)=>{let n=s.isWindows(r),i=o.makeRe(String(t),{...r,capture:!0}).exec(n?s.toPosixSlashes(e):e);if(i)return i.slice(1).map(t=>void 0===t?"":t)},c.makeRe=(...t)=>o.makeRe(...t),c.scan=(...t)=>o.scan(...t),c.parse=(t,e)=>{let r=[];for(let n of[].concat(t||[]))for(let t of i(String(n),e))r.push(o.parse(t,e));return r},c.braces=(t,e)=>{if("string"!=typeof t)throw new TypeError("Expected a string");return e&&!0===e.nobrace||!/\{.*\}/.test(t)?[t]:i(t,e)},c.braceExpand=(t,e)=>{if("string"!=typeof t)throw new TypeError("Expected a string");return c.braces(t,{...e,expand:!0})},t.exports=c},function(t,e,r){"use strict";const n=r(50),i=r(200),o=r(203),s=r(204),a=(t,e={})=>{let r=[];if(Array.isArray(t))for(let n of t){let t=a.create(n,e);Array.isArray(t)?r.push(...t):r.push(t)}else r=[].concat(a.create(t,e));return e&&!0===e.expand&&!0===e.nodupes&&(r=[...new Set(r)]),r};a.parse=(t,e={})=>s(t,e),a.stringify=(t,e={})=>n("string"==typeof t?a.parse(t,e):t,e),a.compile=(t,e={})=>("string"==typeof t&&(t=a.parse(t,e)),i(t,e)),a.expand=(t,e={})=>{"string"==typeof t&&(t=a.parse(t,e));let r=o(t,e);return!0===e.noempty&&(r=r.filter(Boolean)),!0===e.nodupes&&(r=[...new Set(r)]),r},a.create=(t,e={})=>""===t||t.length<3?[t]:!0!==e.expand?a.compile(t,e):a.expand(t,e),t.exports=a},function(t,e,r){"use strict";const n=r(84),i=r(51);t.exports=(t,e={})=>{let r=(t,o={})=>{let s=i.isInvalidBrace(o),a=!0===t.invalid&&!0===e.escapeInvalid,c=!0===s||!0===a,u=!0===e.escapeInvalid?"\\":"",l="";if(!0===t.isOpen)return u+t.value;if(!0===t.isClose)return u+t.value;if("open"===t.type)return c?u+t.value:"(";if("close"===t.type)return c?u+t.value:")";if("comma"===t.type)return"comma"===t.prev.type?"":c?t.value:"|";if(t.value)return t.value;if(t.nodes&&t.ranges>0){let r=i.reduce(t.nodes),o=n(...r,{...e,wrap:!1,toRegex:!0});if(0!==o.length)return r.length>1&&o.length>1?`(${o})`:o}if(t.nodes)for(let e of t.nodes)l+=r(e,t);return l};return r(t)}},function(t,e,r){"use strict";
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const n=r(202),i=(t,e,r)=>{if(!1===n(t))throw new TypeError("toRegexRange: expected the first argument to be a number");if(void 0===e||t===e)return String(t);if(!1===n(e))throw new TypeError("toRegexRange: expected the second argument to be a number.");let o={relaxZeros:!0,...r};"boolean"==typeof o.strictZeros&&(o.relaxZeros=!1===o.strictZeros);let c=t+":"+e+"="+String(o.relaxZeros)+String(o.shorthand)+String(o.capture)+String(o.wrap);if(i.cache.hasOwnProperty(c))return i.cache[c].result;let u=Math.min(t,e),l=Math.max(t,e);if(1===Math.abs(u-l)){let r=t+"|"+e;return o.capture?`(${r})`:!1===o.wrap?r:`(?:${r})`}let h=p(t)||p(e),d={min:t,max:e,a:u,b:l},f=[],m=[];if(h&&(d.isPadded=h,d.maxLen=String(d.max).length),u<0){m=s(l<0?Math.abs(l):1,Math.abs(u),d,o),u=d.a=0}return l>=0&&(f=s(u,l,d,o)),d.negatives=m,d.positives=f,d.result=function(t,e,r){let n=a(t,e,"-",!1,r)||[],i=a(e,t,"",!1,r)||[],o=a(t,e,"-?",!0,r)||[];return n.concat(o).concat(i).join("|")}(m,f,o),!0===o.capture?d.result=`(${d.result})`:!1!==o.wrap&&f.length+m.length>1&&(d.result=`(?:${d.result})`),i.cache[c]=d,d.result};function o(t,e,r){if(t===e)return{pattern:t,count:[],digits:0};let n=function(t,e){let r=[];for(let n=0;n<t.length;n++)r.push([t[n],e[n]]);return r}(t,e),i=n.length,o="",s=0;for(let t=0;t<i;t++){let[e,i]=n[t];e===i?o+=e:"0"!==e||"9"!==i?o+=f(e,i,r):s++}return s&&(o+=!0===r.shorthand?"\\d":"[0-9]"),{pattern:o,count:[s],digits:i}}function s(t,e,r,n){let i,s=function(t,e){let r=1,n=1,i=l(t,r),o=new Set([e]);for(;t<=i&&i<=e;)o.add(i),r+=1,i=l(t,r);for(i=h(e+1,n)-1;t<i&&i<=e;)o.add(i),n+=1,i=h(e+1,n)-1;return o=[...o],o.sort(c),o}(t,e),a=[],u=t;for(let t=0;t<s.length;t++){let e=s[t],c=o(String(u),String(e),n),l="";r.isPadded||!i||i.pattern!==c.pattern?(r.isPadded&&(l=m(e,r,n)),c.string=l+c.pattern+d(c.count),a.push(c),u=e+1,i=c):(i.count.length>1&&i.count.pop(),i.count.push(c.count[0]),i.string=i.pattern+d(i.count),u=e+1)}return a}function a(t,e,r,n,i){let o=[];for(let i of t){let{string:t}=i;n||u(e,"string",t)||o.push(r+t),n&&u(e,"string",t)&&o.push(r+t)}return o}function c(t,e){return t>e?1:e>t?-1:0}function u(t,e,r){return t.some(t=>t[e]===r)}function l(t,e){return Number(String(t).slice(0,-e)+"9".repeat(e))}function h(t,e){return t-t%Math.pow(10,e)}function d(t){let[e=0,r=""]=t;return r||e>1?`{${e+(r?","+r:"")}}`:""}function f(t,e,r){return`[${t}${e-t==1?"":"-"}${e}]`}function p(t){return/^-?(0+)\d/.test(t)}function m(t,e,r){if(!e.isPadded)return t;let n=Math.abs(e.maxLen-String(t).length),i=!1!==r.relaxZeros;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}i.cache={},i.clearCache=()=>i.cache={},t.exports=i},function(t,e,r){"use strict";
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */t.exports=function(t){return"number"==typeof t?t-t==0:"string"==typeof t&&""!==t.trim()&&(Number.isFinite?Number.isFinite(+t):isFinite(+t))}},function(t,e,r){"use strict";const n=r(84),i=r(50),o=r(51),s=(t="",e="",r=!1)=>{let n=[];if(t=[].concat(t),!(e=[].concat(e)).length)return t;if(!t.length)return r?o.flatten(e).map(t=>`{${t}}`):e;for(let i of t)if(Array.isArray(i))for(let t of i)n.push(s(t,e,r));else for(let t of e)!0===r&&"string"==typeof t&&(t=`{${t}}`),n.push(Array.isArray(t)?s(i,t,r):i+t);return o.flatten(n)};t.exports=(t,e={})=>{let r=void 0===e.rangeLimit?1e3:e.rangeLimit,a=(t,c={})=>{t.queue=[];let u=c,l=c.queue;for(;"brace"!==u.type&&"root"!==u.type&&u.parent;)u=u.parent,l=u.queue;if(t.invalid||t.dollar)return void l.push(s(l.pop(),i(t,e)));if("brace"===t.type&&!0!==t.invalid&&2===t.nodes.length)return void l.push(s(l.pop(),["{}"]));if(t.nodes&&t.ranges>0){let a=o.reduce(t.nodes);if(o.exceedsLimit(...a,e.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let c=n(...a,e);return 0===c.length&&(c=i(t,e)),l.push(s(l.pop(),c)),void(t.nodes=[])}let h=o.encloseBrace(t),d=t.queue,f=t;for(;"brace"!==f.type&&"root"!==f.type&&f.parent;)f=f.parent,d=f.queue;for(let e=0;e<t.nodes.length;e++){let r=t.nodes[e];"comma"!==r.type||"brace"!==t.type?"close"!==r.type?r.value&&"open"!==r.type?d.push(s(d.pop(),r.value)):r.nodes&&a(r,t):l.push(s(l.pop(),d,h)):(1===e&&d.push(""),d.push(""))}return d};return o.flatten(a(t))}},function(t,e,r){"use strict";const n=r(50),{MAX_LENGTH:i,CHAR_BACKSLASH:o,CHAR_BACKTICK:s,CHAR_COMMA:a,CHAR_DOT:c,CHAR_LEFT_PARENTHESES:u,CHAR_RIGHT_PARENTHESES:l,CHAR_LEFT_CURLY_BRACE:h,CHAR_RIGHT_CURLY_BRACE:d,CHAR_LEFT_SQUARE_BRACKET:f,CHAR_RIGHT_SQUARE_BRACKET:p,CHAR_DOUBLE_QUOTE:m,CHAR_SINGLE_QUOTE:g,CHAR_NO_BREAK_SPACE:y,CHAR_ZERO_WIDTH_NOBREAK_SPACE:_}=r(205);t.exports=(t,e={})=>{if("string"!=typeof t)throw new TypeError("Expected a string");let r=e||{},v="number"==typeof r.maxLength?Math.min(i,r.maxLength):i;if(t.length>v)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${v})`);let b,w={type:"root",input:t,nodes:[]},E=[w],S=w,T=w,A=0,O=t.length,M=0,k=0;const x=()=>t[M++],N=t=>{if("text"===t.type&&"dot"===T.type&&(T.type="text"),!T||"text"!==T.type||"text"!==t.type)return S.nodes.push(t),t.parent=S,t.prev=T,T=t,t;T.value+=t.value};for(N({type:"bos"});M<O;)if(S=E[E.length-1],b=x(),b!==_&&b!==y)if(b!==o)if(b!==p)if(b!==f)if(b!==u)if(b!==l)if(b!==m&&b!==g&&b!==s)if(b!==h)if(b!==d)if(b===a&&k>0){if(S.ranges>0){S.ranges=0;let t=S.nodes.shift();S.nodes=[t,{type:"text",value:n(S)}]}N({type:"comma",value:b}),S.commas++}else if(b===c&&k>0&&0===S.commas){let t=S.nodes;if(0===k||0===t.length){N({type:"text",value:b});continue}if("dot"===T.type){if(S.range=[],T.value+=b,T.type="range",3!==S.nodes.length&&5!==S.nodes.length){S.invalid=!0,S.ranges=0,T.type="text";continue}S.ranges++,S.args=[];continue}if("range"===T.type){t.pop();let e=t[t.length-1];e.value+=T.value+b,T=e,S.ranges--;continue}N({type:"dot",value:b})}else N({type:"text",value:b});else{if("brace"!==S.type){N({type:"text",value:b});continue}let t="close";S=E.pop(),S.close=!0,N({type:t,value:b}),k--,S=E[E.length-1]}else{k++;let t=T.value&&"$"===T.value.slice(-1)||!0===S.dollar;S=N({type:"brace",open:!0,close:!1,dollar:t,depth:k,commas:0,ranges:0,nodes:[]}),E.push(S),N({type:"open",value:b})}else{let t,r=b;for(!0!==e.keepQuotes&&(b="");M<O&&(t=x());)if(t!==o){if(t===r){!0===e.keepQuotes&&(b+=t);break}b+=t}else b+=t+x();N({type:"text",value:b})}else{if("paren"!==S.type){N({type:"text",value:b});continue}S=E.pop(),N({type:"text",value:b}),S=E[E.length-1]}else S=N({type:"paren",nodes:[]}),E.push(S),N({type:"text",value:b});else{A++;let t;for(;M<O&&(t=x());)if(b+=t,t!==f)if(t!==o){if(t===p&&(A--,0===A))break}else b+=x();else A++;N({type:"text",value:b})}else N({type:"text",value:"\\"+b});else N({type:"text",value:(e.keepEscaping?b:"")+x()});do{if(S=E.pop(),"root"!==S.type){S.nodes.forEach(t=>{t.nodes||("open"===t.type&&(t.isOpen=!0),"close"===t.type&&(t.isClose=!0),t.nodes||(t.type="text"),t.invalid=!0)});let t=E[E.length-1],e=t.nodes.indexOf(S);t.nodes.splice(e,1,...S.nodes)}}while(E.length>0);return N({type:"eos"}),w}},function(t,e,r){"use strict";t.exports={MAX_LENGTH:65536,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:"",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"}},function(t,e,r){"use strict";const n=r(1),i=r(207),o=r(208),s=r(34),a=r(35),c=(t,e,r=!1)=>{if(Array.isArray(t)){const n=t.map(t=>c(t,e,r));return t=>{for(const e of n){const r=e(t);if(r)return r}return!1}}const n=(i=t)&&"object"==typeof i&&!Array.isArray(i)&&t.tokens&&t.input;var i;if(""===t||"string"!=typeof t&&!n)throw new TypeError("Expected pattern to be a non-empty string");const o=e||{},a=s.isWindows(e),u=n?c.compileRe(t,e):c.makeRe(t,e,!1,!0),l=u.state;delete u.state;let h=()=>!1;if(o.ignore){const t={...e,ignore:null,onMatch:null,onResult:null};h=c(o.ignore,t,r)}const d=(r,n=!1)=>{const{isMatch:i,match:s,output:d}=c.test(r,u,e,{glob:t,posix:a}),f={glob:t,state:l,regex:u,posix:a,input:r,output:d,match:s,isMatch:i};return"function"==typeof o.onResult&&o.onResult(f),!1===i?(f.isMatch=!1,!!n&&f):h(r)?("function"==typeof o.onIgnore&&o.onIgnore(f),f.isMatch=!1,!!n&&f):("function"==typeof o.onMatch&&o.onMatch(f),!n||f)};return r&&(d.state=l),d};c.test=(t,e,r,{glob:n,posix:i}={})=>{if("string"!=typeof t)throw new TypeError("Expected input to be a string");if(""===t)return{isMatch:!1,output:""};const o=r||{},a=o.format||(i?s.toPosixSlashes:null);let u=t===n,l=u&&a?a(t):t;return!1===u&&(l=a?a(t):t,u=l===n),!1!==u&&!0!==o.capture||(u=!0===o.matchBase||!0===o.basename?c.matchBase(t,e,r,i):e.exec(l)),{isMatch:Boolean(u),match:u,output:l}},c.matchBase=(t,e,r,i=s.isWindows(r))=>(e instanceof RegExp?e:c.makeRe(e,r)).test(n.basename(t)),c.isMatch=(t,e,r)=>c(e,r)(t),c.parse=(t,e)=>Array.isArray(t)?t.map(t=>c.parse(t,e)):o(t,{...e,fastpaths:!1}),c.scan=(t,e)=>i(t,e),c.compileRe=(t,e,r=!1,n=!1)=>{if(!0===r)return t.output;const i=e||{},o=i.contains?"":"^",s=i.contains?"":"$";let a=`${o}(?:${t.output})${s}`;t&&!0===t.negated&&(a=`^(?!${a}).*$`);const u=c.toRegex(a,e);return!0===n&&(u.state=t),u},c.makeRe=(t,e,r=!1,n=!1)=>{if(!t||"string"!=typeof t)throw new TypeError("Expected a non-empty string");const i=e||{};let s,a={negated:!1,fastpaths:!0},u="";return t.startsWith("./")&&(t=t.slice(2),u=a.prefix="./"),!1===i.fastpaths||"."!==t[0]&&"*"!==t[0]||(s=o.fastpaths(t,e)),void 0===s?(a=o(t,e),a.prefix=u+(a.prefix||"")):a.output=s,c.compileRe(a,e,r,n)},c.toRegex=(t,e)=>{try{const r=e||{};return new RegExp(t,r.flags||(r.nocase?"i":""))}catch(t){if(e&&!0===e.debug)throw t;return/$^/}},c.constants=a,t.exports=c},function(t,e,r){"use strict";const n=r(34),{CHAR_ASTERISK:i,CHAR_AT:o,CHAR_BACKWARD_SLASH:s,CHAR_COMMA:a,CHAR_DOT:c,CHAR_EXCLAMATION_MARK:u,CHAR_FORWARD_SLASH:l,CHAR_LEFT_CURLY_BRACE:h,CHAR_LEFT_PARENTHESES:d,CHAR_LEFT_SQUARE_BRACKET:f,CHAR_PLUS:p,CHAR_QUESTION_MARK:m,CHAR_RIGHT_CURLY_BRACE:g,CHAR_RIGHT_PARENTHESES:y,CHAR_RIGHT_SQUARE_BRACKET:_}=r(35),v=t=>t===l||t===s,b=t=>{!0!==t.isPrefix&&(t.depth=t.isGlobstar?1/0:1)};t.exports=(t,e)=>{const r=e||{},w=t.length-1,E=!0===r.parts||!0===r.scanToEnd,S=[],T=[],A=[];let O,M,k=t,x=-1,N=0,R=0,I=!1,C=!1,j=!1,L=!1,P=!1,D=!1,F=!1,B=!1,U=!1,q=0,H={value:"",depth:0,isGlob:!1};const G=()=>x>=w,z=()=>(O=M,k.charCodeAt(++x));for(;x<w;){let t;if(M=z(),M!==s){if(!0===D||M===h){for(q++;!0!==G()&&(M=z());)if(M!==s)if(M!==h){if(!0!==D&&M===c&&(M=z())===c){if(I=H.isBrace=!0,j=H.isGlob=!0,U=!0,!0===E)continue;break}if(!0!==D&&M===a){if(I=H.isBrace=!0,j=H.isGlob=!0,U=!0,!0===E)continue;break}if(M===g&&(q--,0===q)){D=!1,I=H.isBrace=!0,U=!0;break}}else q++;else F=H.backslashes=!0,z();if(!0===E)continue;break}if(M!==l){if(!0!==r.noext){if(!0===(M===p||M===o||M===i||M===m||M===u)&&k.charCodeAt(x+1)===d){if(j=H.isGlob=!0,L=H.isExtglob=!0,U=!0,!0===E){for(;!0!==G()&&(M=z());)if(M!==s){if(M===y){j=H.isGlob=!0,U=!0;break}}else F=H.backslashes=!0,M=z();continue}break}}if(M===i){if(O===i&&(P=H.isGlobstar=!0),j=H.isGlob=!0,U=!0,!0===E)continue;break}if(M===m){if(j=H.isGlob=!0,U=!0,!0===E)continue;break}if(M===f){for(;!0!==G()&&(t=z());)if(t!==s){if(t===_){C=H.isBracket=!0,j=H.isGlob=!0,U=!0;break}}else F=H.backslashes=!0,z();if(!0===E)continue;break}if(!0===r.nonegate||M!==u||x!==N){if(!0!==r.noparen&&M===d){if(j=H.isGlob=!0,!0===E){for(;!0!==G()&&(M=z());)if(M!==d){if(M===y){U=!0;break}}else F=H.backslashes=!0,M=z();continue}break}if(!0===j){if(U=!0,!0===E)continue;break}}else B=H.negated=!0,N++}else{if(S.push(x),T.push(H),H={value:"",depth:0,isGlob:!1},!0===U)continue;if(O===c&&x===N+1){N+=2;continue}R=x+1}}else F=H.backslashes=!0,M=z(),M===h&&(D=!0)}!0===r.noext&&(L=!1,j=!1);let W=k,$="",V="";N>0&&($=k.slice(0,N),k=k.slice(N),R-=N),W&&!0===j&&R>0?(W=k.slice(0,R),V=k.slice(R)):!0===j?(W="",V=k):W=k,W&&""!==W&&"/"!==W&&W!==k&&v(W.charCodeAt(W.length-1))&&(W=W.slice(0,-1)),!0===r.unescape&&(V&&(V=n.removeBackslashes(V)),W&&!0===F&&(W=n.removeBackslashes(W)));const Y={prefix:$,input:t,start:N,base:W,glob:V,isBrace:I,isBracket:C,isGlob:j,isExtglob:L,isGlobstar:P,negated:B};if(!0===r.tokens&&(Y.maxDepth=0,v(M)||T.push(H),Y.tokens=T),!0===r.parts||!0===r.tokens){let e;for(let n=0;n<S.length;n++){const i=e?e+1:N,o=S[n],s=t.slice(i,o);r.tokens&&(0===n&&0!==N?(T[n].isPrefix=!0,T[n].value=$):T[n].value=s,b(T[n]),Y.maxDepth+=T[n].depth),0===n&&""===s||A.push(s),e=o}if(e&&e+1<t.length){const n=t.slice(e+1);A.push(n),r.tokens&&(T[T.length-1].value=n,b(T[T.length-1]),Y.maxDepth+=T[T.length-1].depth)}Y.slashes=S,Y.parts=A}return Y}},function(t,e,r){"use strict";const n=r(35),i=r(34),{MAX_LENGTH:o,POSIX_REGEX_SOURCE:s,REGEX_NON_SPECIAL_CHARS:a,REGEX_SPECIAL_CHARS_BACKREF:c,REPLACEMENTS:u}=n,l=(t,e)=>{if("function"==typeof e.expandRange)return e.expandRange(...t,e);t.sort();const r=`[${t.join("-")}]`;try{new RegExp(r)}catch(e){return t.map(t=>i.escapeRegex(t)).join("..")}return r},h=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,d=(t,e)=>{if("string"!=typeof t)throw new TypeError("Expected a string");t=u[t]||t;const r={...e},d="number"==typeof r.maxLength?Math.min(o,r.maxLength):o;let f=t.length;if(f>d)throw new SyntaxError(`Input length: ${f}, exceeds maximum allowed length: ${d}`);const p={type:"bos",value:"",output:r.prepend||""},m=[p],g=r.capture?"":"?:",y=i.isWindows(e),_=n.globChars(y),v=n.extglobChars(_),{DOT_LITERAL:b,PLUS_LITERAL:w,SLASH_LITERAL:E,ONE_CHAR:S,DOTS_SLASH:T,NO_DOT:A,NO_DOT_SLASH:O,NO_DOTS_SLASH:M,QMARK:k,QMARK_NO_DOT:x,STAR:N,START_ANCHOR:R}=_,I=t=>`(${g}(?:(?!${R}${t.dot?T:b}).)*?)`,C=r.dot?"":A,j=r.dot?k:x;let L=!0===r.bash?I(r):N;r.capture&&(L=`(${L})`),"boolean"==typeof r.noext&&(r.noextglob=r.noext);const P={input:t,index:-1,start:0,dot:!0===r.dot,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:m};t=i.removePrefix(t,P),f=t.length;const D=[],F=[],B=[];let U,q=p;const H=()=>P.index===f-1,G=P.peek=(e=1)=>t[P.index+e],z=P.advance=()=>t[++P.index],W=()=>t.slice(P.index+1),$=(t="",e=0)=>{P.consumed+=t,P.index+=e},V=t=>{P.output+=null!=t.output?t.output:t.value,$(t.value)},Y=()=>{let t=1;for(;"!"===G()&&("("!==G(2)||"?"===G(3));)z(),P.start++,t++;return t%2!=0&&(P.negated=!0,P.start++,!0)},K=t=>{P[t]++,B.push(t)},J=t=>{P[t]--,B.pop()},Z=t=>{if("globstar"===q.type){const e=P.braces>0&&("comma"===t.type||"brace"===t.type),r=!0===t.extglob||D.length&&("pipe"===t.type||"paren"===t.type);"slash"===t.type||"paren"===t.type||e||r||(P.output=P.output.slice(0,-q.output.length),q.type="star",q.value="*",q.output=L,P.output+=q.output)}if(D.length&&"paren"!==t.type&&!v[t.value]&&(D[D.length-1].inner+=t.value),(t.value||t.output)&&V(t),q&&"text"===q.type&&"text"===t.type)return q.value+=t.value,void(q.output=(q.output||"")+t.value);t.prev=q,m.push(t),q=t},X=(t,e)=>{const n={...v[e],conditions:1,inner:""};n.prev=q,n.parens=P.parens,n.output=P.output;const i=(r.capture?"(":"")+n.open;K("parens"),Z({type:t,value:e,output:P.output?"":S}),Z({type:"paren",extglob:!0,value:z(),output:i}),D.push(n)},Q=t=>{let e=t.close+(r.capture?")":"");if("negate"===t.type){let n=L;t.inner&&t.inner.length>1&&t.inner.includes("/")&&(n=I(r)),(n!==L||H()||/^\)+$/.test(W()))&&(e=t.close=")$))"+n),"bos"===t.prev.type&&(P.negatedExtglob=!0)}Z({type:"paren",extglob:!0,value:U,output:e}),J("parens")};if(!1!==r.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(t)){let n=!1,o=t.replace(c,(t,e,r,i,o,s)=>"\\"===i?(n=!0,t):"?"===i?e?e+i+(o?k.repeat(o.length):""):0===s?j+(o?k.repeat(o.length):""):k.repeat(r.length):"."===i?b.repeat(r.length):"*"===i?e?e+i+(o?L:""):L:e?t:"\\"+t);return!0===n&&(o=!0===r.unescape?o.replace(/\\/g,""):o.replace(/\\+/g,t=>t.length%2==0?"\\\\":t?"\\":"")),o===t&&!0===r.contains?(P.output=t,P):(P.output=i.wrapOutput(o,P,e),P)}for(;!H();){if(U=z(),"\0"===U)continue;if("\\"===U){const t=G();if("/"===t&&!0!==r.bash)continue;if("."===t||";"===t)continue;if(!t){U+="\\",Z({type:"text",value:U});continue}const e=/^\\+/.exec(W());let n=0;if(e&&e[0].length>2&&(n=e[0].length,P.index+=n,n%2!=0&&(U+="\\")),!0===r.unescape?U=z()||"":U+=z()||"",0===P.brackets){Z({type:"text",value:U});continue}}if(P.brackets>0&&("]"!==U||"["===q.value||"[^"===q.value)){if(!1!==r.posix&&":"===U){const t=q.value.slice(1);if(t.includes("[")&&(q.posix=!0,t.includes(":"))){const t=q.value.lastIndexOf("["),e=q.value.slice(0,t),r=q.value.slice(t+2),n=s[r];if(n){q.value=e+n,P.backtrack=!0,z(),p.output||1!==m.indexOf(q)||(p.output=S);continue}}}("["===U&&":"!==G()||"-"===U&&"]"===G())&&(U="\\"+U),"]"!==U||"["!==q.value&&"[^"!==q.value||(U="\\"+U),!0===r.posix&&"!"===U&&"["===q.value&&(U="^"),q.value+=U,V({value:U});continue}if(1===P.quotes&&'"'!==U){U=i.escapeRegex(U),q.value+=U,V({value:U});continue}if('"'===U){P.quotes=1===P.quotes?0:1,!0===r.keepQuotes&&Z({type:"text",value:U});continue}if("("===U){K("parens"),Z({type:"paren",value:U});continue}if(")"===U){if(0===P.parens&&!0===r.strictBrackets)throw new SyntaxError(h("opening","("));const t=D[D.length-1];if(t&&P.parens===t.parens+1){Q(D.pop());continue}Z({type:"paren",value:U,output:P.parens?")":"\\)"}),J("parens");continue}if("["===U){if(!0!==r.nobracket&&W().includes("]"))K("brackets");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(h("closing","]"));U="\\"+U}Z({type:"bracket",value:U});continue}if("]"===U){if(!0===r.nobracket||q&&"bracket"===q.type&&1===q.value.length){Z({type:"text",value:U,output:"\\"+U});continue}if(0===P.brackets){if(!0===r.strictBrackets)throw new SyntaxError(h("opening","["));Z({type:"text",value:U,output:"\\"+U});continue}J("brackets");const t=q.value.slice(1);if(!0===q.posix||"^"!==t[0]||t.includes("/")||(U="/"+U),q.value+=U,V({value:U}),!1===r.literalBrackets||i.hasRegexChars(t))continue;const e=i.escapeRegex(q.value);if(P.output=P.output.slice(0,-q.value.length),!0===r.literalBrackets){P.output+=e,q.value=e;continue}q.value=`(${g}${e}|${q.value})`,P.output+=q.value;continue}if("{"===U&&!0!==r.nobrace){K("braces");const t={type:"brace",value:U,output:"(",outputIndex:P.output.length,tokensIndex:P.tokens.length};F.push(t),Z(t);continue}if("}"===U){const t=F[F.length-1];if(!0===r.nobrace||!t){Z({type:"text",value:U,output:U});continue}let e=")";if(!0===t.dots){const t=m.slice(),n=[];for(let e=t.length-1;e>=0&&(m.pop(),"brace"!==t[e].type);e--)"dots"!==t[e].type&&n.unshift(t[e].value);e=l(n,r),P.backtrack=!0}if(!0!==t.comma&&!0!==t.dots){const r=P.output.slice(0,t.outputIndex),n=P.tokens.slice(t.tokensIndex);t.value=t.output="\\{",U=e="\\}",P.output=r;for(const t of n)P.output+=t.output||t.value}Z({type:"brace",value:U,output:e}),J("braces"),F.pop();continue}if("|"===U){D.length>0&&D[D.length-1].conditions++,Z({type:"text",value:U});continue}if(","===U){let t=U;const e=F[F.length-1];e&&"braces"===B[B.length-1]&&(e.comma=!0,t="|"),Z({type:"comma",value:U,output:t});continue}if("/"===U){if("dot"===q.type&&P.index===P.start+1){P.start=P.index+1,P.consumed="",P.output="",m.pop(),q=p;continue}Z({type:"slash",value:U,output:E});continue}if("."===U){if(P.braces>0&&"dot"===q.type){"."===q.value&&(q.output=b);const t=F[F.length-1];q.type="dots",q.output+=U,q.value+=U,t.dots=!0;continue}if(P.braces+P.parens===0&&"bos"!==q.type&&"slash"!==q.type){Z({type:"text",value:U,output:b});continue}Z({type:"dot",value:U,output:b});continue}if("?"===U){if(!(q&&"("===q.value)&&!0!==r.noextglob&&"("===G()&&"?"!==G(2)){X("qmark",U);continue}if(q&&"paren"===q.type){const t=G();let e=U;if("<"===t&&!i.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===q.value&&!/[!=<:]/.test(t)||"<"===t&&!/<([!=]|\w+>)/.test(W()))&&(e="\\"+U),Z({type:"text",value:U,output:e});continue}if(!0!==r.dot&&("slash"===q.type||"bos"===q.type)){Z({type:"qmark",value:U,output:x});continue}Z({type:"qmark",value:U,output:k});continue}if("!"===U){if(!0!==r.noextglob&&"("===G()&&("?"!==G(2)||!/[!=<:]/.test(G(3)))){X("negate",U);continue}if(!0!==r.nonegate&&0===P.index){Y();continue}}if("+"===U){if(!0!==r.noextglob&&"("===G()&&"?"!==G(2)){X("plus",U);continue}if(q&&"("===q.value||!1===r.regex){Z({type:"plus",value:U,output:w});continue}if(q&&("bracket"===q.type||"paren"===q.type||"brace"===q.type)||P.parens>0){Z({type:"plus",value:U});continue}Z({type:"plus",value:w});continue}if("@"===U){if(!0!==r.noextglob&&"("===G()&&"?"!==G(2)){Z({type:"at",extglob:!0,value:U,output:""});continue}Z({type:"text",value:U});continue}if("*"!==U){"$"!==U&&"^"!==U||(U="\\"+U);const t=a.exec(W());t&&(U+=t[0],P.index+=t[0].length),Z({type:"text",value:U});continue}if(q&&("globstar"===q.type||!0===q.star)){q.type="star",q.star=!0,q.value+=U,q.output=L,P.backtrack=!0,P.globstar=!0,$(U);continue}let e=W();if(!0!==r.noextglob&&/^\([^?]/.test(e)){X("star",U);continue}if("star"===q.type){if(!0===r.noglobstar){$(U);continue}const n=q.prev,i=n.prev,o="slash"===n.type||"bos"===n.type,s=i&&("star"===i.type||"globstar"===i.type);if(!0===r.bash&&(!o||e[0]&&"/"!==e[0])){Z({type:"star",value:U,output:""});continue}const a=P.braces>0&&("comma"===n.type||"brace"===n.type),c=D.length&&("pipe"===n.type||"paren"===n.type);if(!o&&"paren"!==n.type&&!a&&!c){Z({type:"star",value:U,output:""});continue}for(;"/**"===e.slice(0,3);){const r=t[P.index+4];if(r&&"/"!==r)break;e=e.slice(3),$("/**",3)}if("bos"===n.type&&H()){q.type="globstar",q.value+=U,q.output=I(r),P.output=q.output,P.globstar=!0,$(U);continue}if("slash"===n.type&&"bos"!==n.prev.type&&!s&&H()){P.output=P.output.slice(0,-(n.output+q.output).length),n.output="(?:"+n.output,q.type="globstar",q.output=I(r)+(r.strictSlashes?")":"|$)"),q.value+=U,P.globstar=!0,P.output+=n.output+q.output,$(U);continue}if("slash"===n.type&&"bos"!==n.prev.type&&"/"===e[0]){const t=void 0!==e[1]?"|$":"";P.output=P.output.slice(0,-(n.output+q.output).length),n.output="(?:"+n.output,q.type="globstar",q.output=`${I(r)}${E}|${E}${t})`,q.value+=U,P.output+=n.output+q.output,P.globstar=!0,$(U+z()),Z({type:"slash",value:"/",output:""});continue}if("bos"===n.type&&"/"===e[0]){q.type="globstar",q.value+=U,q.output=`(?:^|${E}|${I(r)}${E})`,P.output=q.output,P.globstar=!0,$(U+z()),Z({type:"slash",value:"/",output:""});continue}P.output=P.output.slice(0,-q.output.length),q.type="globstar",q.output=I(r),q.value+=U,P.output+=q.output,P.globstar=!0,$(U);continue}const n={type:"star",value:U,output:L};!0!==r.bash?!q||"bracket"!==q.type&&"paren"!==q.type||!0!==r.regex?(P.index!==P.start&&"slash"!==q.type&&"dot"!==q.type||("dot"===q.type?(P.output+=O,q.output+=O):!0===r.dot?(P.output+=M,q.output+=M):(P.output+=C,q.output+=C),"*"!==G()&&(P.output+=S,q.output+=S)),Z(n)):(n.output=U,Z(n)):(n.output=".*?","bos"!==q.type&&"slash"!==q.type||(n.output=C+n.output),Z(n))}for(;P.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(h("closing","]"));P.output=i.escapeLast(P.output,"["),J("brackets")}for(;P.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(h("closing",")"));P.output=i.escapeLast(P.output,"("),J("parens")}for(;P.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(h("closing","}"));P.output=i.escapeLast(P.output,"{"),J("braces")}if(!0===r.strictSlashes||"star"!==q.type&&"bracket"!==q.type||Z({type:"maybe_slash",value:"",output:E+"?"}),!0===P.backtrack){P.output="";for(const t of P.tokens)P.output+=null!=t.output?t.output:t.value,t.suffix&&(P.output+=t.suffix)}return P};d.fastpaths=(t,e)=>{const r={...e},s="number"==typeof r.maxLength?Math.min(o,r.maxLength):o,a=t.length;if(a>s)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${s}`);t=u[t]||t;const c=i.isWindows(e),{DOT_LITERAL:l,SLASH_LITERAL:h,ONE_CHAR:d,DOTS_SLASH:f,NO_DOT:p,NO_DOTS:m,NO_DOTS_SLASH:g,STAR:y,START_ANCHOR:_}=n.globChars(c),v=r.dot?m:p,b=r.dot?g:p,w=r.capture?"":"?:";let E=!0===r.bash?".*?":y;r.capture&&(E=`(${E})`);const S=t=>!0===t.noglobstar?E:`(${w}(?:(?!${_}${t.dot?f:l}).)*?)`,T=t=>{switch(t){case"*":return`${v}${d}${E}`;case".*":return`${l}${d}${E}`;case"*.*":return`${v}${E}${l}${d}${E}`;case"*/*":return`${v}${E}${h}${d}${b}${E}`;case"**":return v+S(r);case"**/*":return`(?:${v}${S(r)}${h})?${b}${d}${E}`;case"**/*.*":return`(?:${v}${S(r)}${h})?${b}${E}${l}${d}${E}`;case"**/.*":return`(?:${v}${S(r)}${h})?${l}${d}${E}`;default:{const e=/^(.*?)\.(\w+)$/.exec(t);if(!e)return;const r=T(e[1]);if(!r)return;return r+l+e[2]}}},A=i.removePrefix(t,{negated:!1,prefix:""});let O=T(A);return O&&!0!==r.strictSlashes&&(O+=h+"?"),O},t.exports=d},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.merge=void 0;const n=r(82);function i(t){t.forEach(t=>t.emit("close"))}e.merge=function(t){const e=n(t);return t.forEach(t=>{t.once("error",t=>e.emit("error",t))}),e.once("close",()=>i(t)),e.once("end",()=>i(t)),e}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isEmpty=e.isString=void 0,e.isString=function(t){return"string"==typeof t},e.isEmpty=function(t){return""===t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(86),i=r(54);class o extends i.default{constructor(){super(...arguments),this._reader=new n.default(this._settings)}read(t){const e=this._getRootDirectory(t),r=this._getReaderOptions(t),n=[];return new Promise((i,o)=>{const s=this.api(e,t,r);s.once("error",o),s.on("data",t=>n.push(r.transform(t))),s.once("end",()=>i(n))})}api(t,e,r){return e.dynamic?this._reader.dynamic(t,r):this._reader.static(e.patterns,r)}}e.default=o},function(t,e,r){"use strict";function n(t,e){t(e)}function i(t,e){t(null,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.read=void 0,e.read=function(t,e,r){e.fs.lstat(t,(o,s)=>null!==o?n(r,o):s.isSymbolicLink()&&e.followSymbolicLink?void e.fs.stat(t,(t,o)=>{if(null!==t)return e.throwErrorOnBrokenSymbolicLink?n(r,t):i(r,s);e.markSymbolicLink&&(o.isSymbolicLink=()=>!0),i(r,o)}):i(r,s))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.read=void 0,e.read=function(t,e){const r=e.fs.lstatSync(t);if(!r.isSymbolicLink()||!e.followSymbolicLink)return r;try{const r=e.fs.statSync(t);return e.markSymbolicLink&&(r.isSymbolicLink=()=>!0),r}catch(t){if(!e.throwErrorOnBrokenSymbolicLink)return r;throw t}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(215);e.default=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=n.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,e){return null!=t?t:e}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFileSystemAdapter=e.FILE_SYSTEM_ADAPTER=void 0;const n=r(15);e.FILE_SYSTEM_ADAPTER={lstat:n.lstat,stat:n.stat,lstatSync:n.lstatSync,statSync:n.statSync},e.createFileSystemAdapter=function(t){return void 0===t?e.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},e.FILE_SYSTEM_ADAPTER),t)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(88);e.default=class{constructor(t,e){this._root=t,this._settings=e,this._reader=new n.default(this._root,this._settings),this._storage=new Set}read(t){this._reader.onError(e=>{!function(t,e){t(e)}(t,e)}),this._reader.onEntry(t=>{this._storage.add(t)}),this._reader.onEnd(()=>{!function(t,e){t(null,e)}(t,[...this._storage])}),this._reader.read()}}},function(t,e){t.exports=require("events")},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readdir=e.readdirWithFileTypes=e.read=void 0;const n=r(25),i=r(219),o=r(89),s=r(90),a=r(91);function c(t,e,r){e.fs.readdir(t,{withFileTypes:!0},(n,o)=>{if(null!==n)return l(r,n);const c=o.map(r=>({dirent:r,name:r.name,path:a.joinPathSegments(t,r.name,e.pathSegmentSeparator)}));if(!e.followSymbolicLinks)return h(r,c);const u=c.map(t=>function(t,e){return r=>{if(!t.dirent.isSymbolicLink())return r(null,t);e.fs.stat(t.path,(n,i)=>null!==n?e.throwErrorOnBrokenSymbolicLink?r(n):r(null,t):(t.dirent=s.fs.createDirentFromStats(t.name,i),r(null,t)))}}(t,e));i(u,(t,e)=>{if(null!==t)return l(r,t);h(r,e)})})}function u(t,e,r){e.fs.readdir(t,(o,c)=>{if(null!==o)return l(r,o);const u=c.map(r=>a.joinPathSegments(t,r,e.pathSegmentSeparator)),d=u.map(t=>r=>n.stat(t,e.fsStatSettings,r));i(d,(t,n)=>{if(null!==t)return l(r,t);const i=[];c.forEach((t,r)=>{const o=n[r],a={name:t,path:u[r],dirent:s.fs.createDirentFromStats(t,o)};e.stats&&(a.stats=o),i.push(a)}),h(r,i)})})}function l(t,e){t(e)}function h(t,e){t(null,e)}e.read=function(t,e,r){return!e.stats&&o.IS_SUPPORT_READDIR_WITH_FILE_TYPES?c(t,e,r):u(t,e,r)},e.readdirWithFileTypes=c,e.readdir=u},function(t,e,r){
/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.exports=function(t,e){let r,i,o,s=!0;Array.isArray(t)?(r=[],i=t.length):(o=Object.keys(t),r={},i=o.length);function a(t){function i(){e&&e(t,r),e=null}s?n(i):i()}function c(t,e,n){r[t]=n,(0==--i||e)&&a(e)}i?o?o.forEach((function(e){t[e]((function(t,r){c(e,t,r)}))})):t.forEach((function(t,e){t((function(t,r){c(e,t,r)}))})):a(null);s=!1};const n=r(220)},function(t,e){
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
let r;t.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:global):t=>(r||(r=Promise.resolve())).then(t).catch(t=>setTimeout(()=>{throw t},0))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDirentFromStats=void 0;class n{constructor(t,e){this.name=t,this.isBlockDevice=e.isBlockDevice.bind(e),this.isCharacterDevice=e.isCharacterDevice.bind(e),this.isDirectory=e.isDirectory.bind(e),this.isFIFO=e.isFIFO.bind(e),this.isFile=e.isFile.bind(e),this.isSocket=e.isSocket.bind(e),this.isSymbolicLink=e.isSymbolicLink.bind(e)}}e.createDirentFromStats=function(t,e){return new n(t,e)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readdir=e.readdirWithFileTypes=e.read=void 0;const n=r(25),i=r(89),o=r(90),s=r(91);function a(t,e){return e.fs.readdirSync(t,{withFileTypes:!0}).map(r=>{const n={dirent:r,name:r.name,path:s.joinPathSegments(t,r.name,e.pathSegmentSeparator)};if(n.dirent.isSymbolicLink()&&e.followSymbolicLinks)try{const t=e.fs.statSync(n.path);n.dirent=o.fs.createDirentFromStats(n.name,t)}catch(t){if(e.throwErrorOnBrokenSymbolicLink)throw t}return n})}function c(t,e){return e.fs.readdirSync(t).map(r=>{const i=s.joinPathSegments(t,r,e.pathSegmentSeparator),a=n.statSync(i,e.fsStatSettings),c={name:r,path:i,dirent:o.fs.createDirentFromStats(r,a)};return e.stats&&(c.stats=a),c})}e.read=function(t,e){return!e.stats&&i.IS_SUPPORT_READDIR_WITH_FILE_TYPES?a(t,e):c(t,e)},e.readdirWithFileTypes=a,e.readdir=c},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(1),i=r(25),o=r(224);e.default=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=o.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,n.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new i.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,e){return null!=t?t:e}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFileSystemAdapter=e.FILE_SYSTEM_ADAPTER=void 0;const n=r(15);e.FILE_SYSTEM_ADAPTER={lstat:n.lstat,stat:n.stat,lstatSync:n.lstatSync,statSync:n.statSync,readdir:n.readdir,readdirSync:n.readdirSync},e.createFileSystemAdapter=function(t){return void 0===t?e.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},e.FILE_SYSTEM_ADAPTER),t)}},function(t,e,r){"use strict";var n=r(226);function i(t,e,r){if("function"==typeof t&&(r=e,e=t,t=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var i=n(s),a=null,c=null,u=0,l=null,h={push:function(r,n){var s=i.get();s.context=t,s.release=d,s.value=r,s.callback=n||o,s.errorHandler=l,u===h.concurrency||h.paused?c?(c.next=s,c=s):(a=s,c=s,h.saturated()):(u++,e.call(t,s.value,s.worked))},drain:o,saturated:o,pause:function(){h.paused=!0},paused:!1,concurrency:r,running:function(){return u},resume:function(){if(!h.paused)return;h.paused=!1;for(var t=0;t<h.concurrency;t++)u++,d()},idle:function(){return 0===u&&0===h.length()},length:function(){var t=a,e=0;for(;t;)t=t.next,e++;return e},getQueue:function(){var t=a,e=[];for(;t;)e.push(t.value),t=t.next;return e},unshift:function(r,n){var s=i.get();s.context=t,s.release=d,s.value=r,s.callback=n||o,u===h.concurrency||h.paused?a?(s.next=a,a=s):(a=s,c=s,h.saturated()):(u++,e.call(t,s.value,s.worked))},empty:o,kill:function(){a=null,c=null,h.drain=o},killAndDrain:function(){a=null,c=null,h.drain(),h.drain=o},error:function(t){l=t}};return h;function d(r){r&&i.release(r);var n=a;n?h.paused?u--:(c===a&&(c=null),a=n.next,n.next=null,e.call(t,n.value,n.worked),null===c&&h.empty()):0==--u&&h.drain()}}function o(){}function s(){this.value=null,this.callback=o,this.next=null,this.release=o,this.context=null,this.errorHandler=null;var t=this;this.worked=function(e,r){var n=t.callback,i=t.errorHandler,s=t.value;t.value=null,t.callback=o,t.errorHandler&&i(e,s),n.call(t.context,e,r),t.release(t)}}t.exports=i,t.exports.promise=function(t,e,r){"function"==typeof t&&(r=e,e=t,t=null);var n=i(t,(function(t,r){e.call(this,t).then((function(t){r(null,t)}),r)}),r),o=n.push,s=n.unshift;return n.push=function(t){return new Promise((function(e,r){o(t,(function(t,n){t?r(t):e(n)}))}))},n.unshift=function(t){return new Promise((function(e,r){s(t,(function(t,n){t?r(t):e(n)}))}))},n}},function(t,e,r){"use strict";t.exports=function(t){var e=new t,r=e;return{get:function(){var n=e;return n.next?e=n.next:(e=new t,r=e),n.next=null,n},release:function(t){r.next=t,r=t}}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(4),i=r(88);e.default=class{constructor(t,e){this._root=t,this._settings=e,this._reader=new i.default(this._root,this._settings),this._stream=new n.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(t=>{this._stream.emit("error",t)}),this._reader.onEntry(t=>{this._stream.push(t)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(229);e.default=class{constructor(t,e){this._root=t,this._settings=e,this._reader=new n.default(this._root,this._settings)}read(){return this._reader.read()}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(52),i=r(53),o=r(92);class s extends o.default{constructor(){super(...arguments),this._scandir=n.scandirSync,this._storage=new Set,this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),[...this._storage]}_pushToQueue(t,e){this._queue.add({directory:t,base:e})}_handleQueue(){for(const t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,e){try{const r=this._scandir(t,this._settings.fsScandirSettings);for(const t of r)this._handleEntry(t,e)}catch(t){this._handleError(t)}}_handleError(t){if(i.isFatalError(this._settings,t))throw t}_handleEntry(t,e){const r=t.path;void 0!==e&&(t.path=i.joinPathSegments(e,t.name,this._settings.pathSegmentSeparator)),i.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&i.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(r,t.path)}_pushToStorage(t){this._storage.add(t)}}e.default=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(1),i=r(52);e.default=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,1/0),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,n.sep),this.fsScandirSettings=new i.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,e){return null!=t?t:e}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(18),i=r(232);e.default=class{constructor(t,e){this._settings=t,this._micromatchOptions=e}getFilter(t,e,r){const n=this._getMatcher(e),i=this._getNegativePatternsRe(r);return e=>this._filter(t,e,n,i)}_getMatcher(t){return new i.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){const e=t.filter(n.pattern.isAffectDepthOfReadingPattern);return n.pattern.convertPatternsToRe(e,this._micromatchOptions)}_filter(t,e,r,i){if(this._isSkippedByDeep(t,e.path))return!1;if(this._isSkippedSymbolicLink(e))return!1;const o=n.path.removeLeadingDotSegment(e.path);return!this._isSkippedByPositivePatterns(o,r)&&this._isSkippedByNegativePatterns(o,i)}_isSkippedByDeep(t,e){return this._settings.deep!==1/0&&this._getEntryLevel(t,e)>=this._settings.deep}_getEntryLevel(t,e){const r=e.split("/").length;if(""===t)return r;return r-t.split("/").length}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,e){return!this._settings.baseNameMatch&&!e.match(t)}_isSkippedByNegativePatterns(t,e){return!n.pattern.matchAny(t,e)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(233);class i extends n.default{match(t){const e=t.split("/"),r=e.length,n=this._storage.filter(t=>!t.complete||t.segments.length>r);for(const t of n){const n=t.sections[0];if(!t.complete&&r>n.length)return!0;if(e.every((e,r)=>{const n=t.segments[r];return!(!n.dynamic||!n.patternRe.test(e))||!n.dynamic&&n.pattern===e}))return!0}return!1}}e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(18);e.default=class{constructor(t,e,r){this._patterns=t,this._settings=e,this._micromatchOptions=r,this._storage=[],this._fillStorage()}_fillStorage(){const t=n.pattern.expandPatternsWithBraceExpansion(this._patterns);for(const e of t){const t=this._getPatternSegments(e),r=this._splitSegmentsIntoSections(t);this._storage.push({complete:r.length<=1,pattern:e,segments:t,sections:r})}}_getPatternSegments(t){return n.pattern.getPatternParts(t,this._micromatchOptions).map(t=>n.pattern.isDynamicPattern(t,this._settings)?{dynamic:!0,pattern:t,patternRe:n.pattern.makeRe(t,this._micromatchOptions)}:{dynamic:!1,pattern:t})}_splitSegmentsIntoSections(t){return n.array.splitWhen(t,t=>t.dynamic&&n.pattern.hasGlobStar(t.pattern))}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(18);e.default=class{constructor(t,e){this._settings=t,this._micromatchOptions=e,this.index=new Map}getFilter(t,e){const r=n.pattern.convertPatternsToRe(t,this._micromatchOptions),i=n.pattern.convertPatternsToRe(e,this._micromatchOptions);return t=>this._filter(t,r,i)}_filter(t,e,r){if(this._settings.unique&&this._isDuplicateEntry(t))return!1;if(this._onlyFileFilter(t)||this._onlyDirectoryFilter(t))return!1;if(this._isSkippedByAbsoluteNegativePatterns(t.path,r))return!1;const n=this._settings.baseNameMatch?t.name:t.path,i=this._isMatchToPatterns(n,e)&&!this._isMatchToPatterns(t.path,r);return this._settings.unique&&i&&this._createIndexRecord(t),i}_isDuplicateEntry(t){return this.index.has(t.path)}_createIndexRecord(t){this.index.set(t.path,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(t,e){if(!this._settings.absolute)return!1;const r=n.path.makeAbsolute(this._settings.cwd,t);return n.pattern.matchAny(r,e)}_isMatchToPatterns(t,e){const r=n.path.removeLeadingDotSegment(t);return n.pattern.matchAny(r,e)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(18);e.default=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return n.errno.isEnoentCodeError(t)||this._settings.suppressErrors}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(18);e.default=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let e=t.path;return this._settings.absolute&&(e=n.path.makeAbsolute(this._settings.cwd,e),e=n.path.unixify(e)),this._settings.markDirectories&&t.dirent.isDirectory()&&(e+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:e}):e}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(4),i=r(86),o=r(54);class s extends o.default{constructor(){super(...arguments),this._reader=new i.default(this._settings)}read(t){const e=this._getRootDirectory(t),r=this._getReaderOptions(t),i=this.api(e,t,r),o=new n.Readable({objectMode:!0,read:()=>{}});return i.once("error",t=>o.emit("error",t)).on("data",t=>o.emit("data",r.transform(t))).once("end",()=>o.emit("end")),o.once("close",()=>i.destroy()),o}api(t,e,r){return e.dynamic?this._reader.dynamic(t,r):this._reader.static(e.patterns,r)}}e.default=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(239),i=r(54);class o extends i.default{constructor(){super(...arguments),this._reader=new n.default(this._settings)}read(t){const e=this._getRootDirectory(t),r=this._getReaderOptions(t);return this.api(e,t,r).map(r.transform)}api(t,e,r){return e.dynamic?this._reader.dynamic(t,r):this._reader.static(e.patterns,r)}}e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(25),i=r(87),o=r(93);class s extends o.default{constructor(){super(...arguments),this._walkSync=i.walkSync,this._statSync=n.statSync}dynamic(t,e){return this._walkSync(t,e)}static(t,e){const r=[];for(const n of t){const t=this._getFullEntryPath(n),i=this._getEntry(t,n,e);null!==i&&e.entryFilter(i)&&r.push(i)}return r}_getEntry(t,e,r){try{const r=this._getStat(t);return this._makeEntry(r,e)}catch(t){if(r.errorFilter(t))return null;throw t}}_getStat(t){return this._statSync(t,this._fsStatSettings)}}e.default=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;const n=r(15),i=r(31),o=Math.max(i.cpus().length,1);e.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:n.lstat,lstatSync:n.lstatSync,stat:n.stat,statSync:n.statSync,readdir:n.readdir,readdirSync:n.readdirSync};e.default=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,o),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(t,e){return void 0===t?e:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},e.DEFAULT_FILE_SYSTEM_ADAPTER),t)}}},function(t,e,r){"use strict";const n=r(1),i=r(242),o=t=>t.length>1?`{${t.join(",")}}`:t[0],s=(t,e)=>{const r="!"===t[0]?t.slice(1):t;return n.isAbsolute(r)?r:n.join(e,r)},a=(t,e)=>{if(e.files&&!Array.isArray(e.files))throw new TypeError(`Expected \`files\` to be of type \`Array\` but received type \`${typeof e.files}\``);if(e.extensions&&!Array.isArray(e.extensions))throw new TypeError(`Expected \`extensions\` to be of type \`Array\` but received type \`${typeof e.extensions}\``);return e.files&&e.extensions?e.files.map(r=>{return n.posix.join(t,(i=r,s=e.extensions,n.extname(i)?"**/"+i:`**/${i}.${o(s)}`));var i,s}):e.files?e.files.map(e=>n.posix.join(t,"**/"+e)):e.extensions?[n.posix.join(t,"**/*."+o(e.extensions))]:[n.posix.join(t,"**")]};t.exports=async(t,e)=>{if("string"!=typeof(e={cwd:process.cwd(),...e}).cwd)throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof e.cwd}\``);const r=await Promise.all([].concat(t).map(async t=>await i.isDirectory(s(t,e.cwd))?a(t,e):t));return[].concat.apply([],r)},t.exports.sync=(t,e)=>{if("string"!=typeof(e={cwd:process.cwd(),...e}).cwd)throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof e.cwd}\``);const r=[].concat(t).map(t=>i.isDirectorySync(s(t,e.cwd))?a(t,e):t);return[].concat.apply([],r)}},function(t,e,r){"use strict";const{promisify:n}=r(11),i=r(15);async function o(t,e,r){if("string"!=typeof r)throw new TypeError("Expected a string, got "+typeof r);try{return(await n(i[t])(r))[e]()}catch(t){if("ENOENT"===t.code)return!1;throw t}}function s(t,e,r){if("string"!=typeof r)throw new TypeError("Expected a string, got "+typeof r);try{return i[t](r)[e]()}catch(t){if("ENOENT"===t.code)return!1;throw t}}e.isFile=o.bind(null,"stat","isFile"),e.isDirectory=o.bind(null,"stat","isDirectory"),e.isSymlink=o.bind(null,"lstat","isSymbolicLink"),e.isFileSync=s.bind(null,"statSync","isFile"),e.isDirectorySync=s.bind(null,"statSync","isDirectory"),e.isSymlinkSync=s.bind(null,"lstatSync","isSymbolicLink")},function(t,e,r){"use strict";const{promisify:n}=r(11),i=r(15),o=r(1),s=r(83),a=r(244),c=r(245),u=["**/node_modules/**","**/flow-typed/**","**/coverage/**","**/.git"],l=n(i.readFile),h=(t,e)=>{const r=c(o.relative(e.cwd,o.dirname(e.fileName)));return t.split(/\r?\n/).filter(Boolean).filter(t=>!t.startsWith("#")).map((t=>e=>e.startsWith("!")?"!"+o.posix.join(t,e.slice(1)):o.posix.join(t,e))(r))},d=t=>{const e=a();for(const r of t)e.add(h(r.content,{cwd:r.cwd,fileName:r.filePath}));return e},f=(t,e)=>r=>t.ignores(c(o.relative(e,((t,e)=>{if(t=c(t),o.isAbsolute(e)){if(c(e).startsWith(t))return e;throw new Error(`Path ${e} is not in cwd ${t}`)}return o.join(t,e)})(e,r.path||r)))),p=({ignore:t=[],cwd:e=c(process.cwd())}={})=>({ignore:t,cwd:e});t.exports=async t=>{t=p(t);const e=await s("**/.gitignore",{ignore:u.concat(t.ignore),cwd:t.cwd}),r=await Promise.all(e.map(e=>(async(t,e)=>{const r=o.join(e,t);return{cwd:e,filePath:r,content:await l(r,"utf8")}})(e,t.cwd))),n=d(r);return f(n,t.cwd)},t.exports.sync=t=>{t=p(t);const e=s.sync("**/.gitignore",{ignore:u.concat(t.ignore),cwd:t.cwd}).map(e=>((t,e)=>{const r=o.join(e,t);return{cwd:e,filePath:r,content:i.readFileSync(r,"utf8")}})(e,t.cwd)),r=d(e);return f(r,t.cwd)}},function(t,e){function r(t){return Array.isArray(t)?t:[t]}const n=/^\s+$/,i=/^\\!/,o=/^\\#/,s=/\r?\n/g,a=/^\.*\/|^\.+$/,c="undefined"!=typeof Symbol?Symbol.for("node-ignore"):"node-ignore",u=/([0-z])-([0-z])/g,l=[[/\\?\s+$/,t=>0===t.indexOf("\\")?" ":""],[/\\\s/g,()=>" "],[/[\\$.|*+(){^]/g,t=>"\\"+t],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(t,e,r)=>e+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(t,e)=>e+"[^\\/]*"],[/\\\\\\(?=[$.|*+(){^])/g,()=>"\\"],[/\\\\/g,()=>"\\"],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(t,e,r,n,i)=>"\\"===e?`\\[${r}${(t=>{const{length:e}=t;return t.slice(0,e-e%2)})(n)}${i}`:"]"===i&&n.length%2==0?`[${(t=>t.replace(u,(t,e,r)=>e.charCodeAt(0)<=r.charCodeAt(0)?t:""))(r)}${n}]`:"[]"],[/(?:[^*])$/,t=>/\/$/.test(t)?t+"$":t+"(?=$|\\/$)"],[/(\^|\\\/)?\\\*$/,(t,e)=>(e?e+"[^/]+":"[^/]*")+"(?=$|\\/$)"]],h=Object.create(null),d=t=>"string"==typeof t;class f{constructor(t,e,r,n){this.origin=t,this.pattern=e,this.negative=r,this.regex=n}}const p=(t,e)=>{const r=t;let n=!1;0===t.indexOf("!")&&(n=!0,t=t.substr(1));const s=((t,e,r)=>{const n=h[t];if(n)return n;const i=l.reduce((e,r)=>e.replace(r[0],r[1].bind(t)),t);return h[t]=r?new RegExp(i,"i"):new RegExp(i)})(t=t.replace(i,"!").replace(o,"#"),0,e);return new f(r,t,n,s)},m=(t,e)=>{throw new e(t)},g=(t,e,r)=>{if(!d(t))return r(`path must be a string, but got \`${e}\``,TypeError);if(!t)return r("path must not be empty",TypeError);if(g.isNotRelative(t)){return r(`path should be a ${"`path.relative()`d"} string, but got "${e}"`,RangeError)}return!0},y=t=>a.test(t);g.isNotRelative=y,g.convert=t=>t;class _{constructor({ignorecase:t=!0}={}){var e,r,n;this._rules=[],this._ignorecase=t,e=this,r=c,n=!0,Object.defineProperty(e,r,{value:n}),this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[c])return this._rules=this._rules.concat(t._rules),void(this._added=!0);if((t=>t&&d(t)&&!n.test(t)&&0!==t.indexOf("#"))(t)){const e=p(t,this._ignorecase);this._added=!0,this._rules.push(e)}}add(t){return this._added=!1,r(d(t)?(t=>t.split(s))(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,e){let r=!1,n=!1;return this._rules.forEach(i=>{const{negative:o}=i;if(n===o&&r!==n||o&&!r&&!n&&!e)return;i.regex.test(t)&&(r=!o,n=o)}),{ignored:r,unignored:n}}_test(t,e,r,n){const i=t&&g.convert(t);return g(i,t,m),this._t(i,e,r,n)}_t(t,e,r,n){if(t in e)return e[t];if(n||(n=t.split("/")),n.pop(),!n.length)return e[t]=this._testOne(t,r);const i=this._t(n.join("/")+"/",e,r,n);return e[t]=i.ignored?i:this._testOne(t,r)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return r(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}}const v=t=>new _(t),b=()=>!1;if(v.isPathValid=t=>g(t&&g.convert(t),t,b),v.default=v,t.exports=v,"undefined"!=typeof process&&(process.env&&process.env.IGNORE_TEST_WIN32||"win32"===process.platform)){const t=t=>/^\\\\\?\\/.test(t)||/["<>|\u0000-\u001F]+/u.test(t)?t:t.replace(/\\/g,"/");g.convert=t;const e=/^[a-z]:\//i;g.isNotRelative=t=>e.test(t)||y(t)}},function(t,e,r){"use strict";t.exports=t=>{const e=/^\\\\\?\\/.test(t),r=/[^\u0000-\u0080]+/.test(t);return e||r?t:t.replace(/\\/g,"/")}},function(t,e,r){"use strict";const{Transform:n}=r(4);class i extends n{constructor(){super({objectMode:!0})}}t.exports={FilterStream:class extends i{constructor(t){super(),this._filter=t}_transform(t,e,r){this._filter(t)&&this.push(t),r()}},UniqueStream:class extends i{constructor(){super(),this._pushed=new Set}_transform(t,e,r){this._pushed.has(t)||(this.push(t),this._pushed.add(t)),r()}}}},function(t,e,r){"use strict";r.r(e);var n={};r.r(n),r.d(n,"Parser",(function(){return W})),r.d(n,"string",(function(){return K})),r.d(n,"number",(function(){return J})),r.d(n,"integer",(function(){return Z})),r.d(n,"boolean",(function(){return X})),r.d(n,"null_",(function(){return Q})),r.d(n,"raw",(function(){return tt})),r.d(n,"pure",(function(){return et})),r.d(n,"exactly",(function(){return rt})),r.d(n,"fmap",(function(){return nt})),r.d(n,"orElse",(function(){return ot})),r.d(n,"array",(function(){return st})),r.d(n,"rename",(function(){return at})),r.d(n,"object",(function(){return ut})),r.d(n,"shape",(function(){return lt})),r.d(n,"tuple",(function(){return ht})),r.d(n,"dict",(function(){return dt})),r.d(n,"delimited",(function(){return ft}));var i={};r.r(i),r.d(i,"makeAddressModule",(function(){return pt}));var o={};r.r(o),r.d(o,"NodeAddress",(function(){return Tt})),r.d(o,"EdgeAddress",(function(){return At})),r.d(o,"Direction",(function(){return Mt})),r.d(o,"Graph",(function(){return kt})),r.d(o,"nodeToString",(function(){return xt})),r.d(o,"edgeToString",(function(){return Nt})),r.d(o,"edgeToStrings",(function(){return Rt})),r.d(o,"edgeToParts",(function(){return It})),r.d(o,"compareGraphs",(function(){return Ct}));var s={};r.r(s),r.d(s,"nodePrefix",(function(){return jt})),r.d(s,"edgePrefix",(function(){return Lt})),r.d(s,"topicNodeType",(function(){return Pt})),r.d(s,"postNodeType",(function(){return Dt})),r.d(s,"userNodeType",(function(){return Ft})),r.d(s,"likeNodeType",(function(){return Bt})),r.d(s,"topicContainsPostEdgeType",(function(){return Ut})),r.d(s,"topicHasLikedPostEdgeType",(function(){return qt})),r.d(s,"postRepliesEdgeType",(function(){return Ht})),r.d(s,"authorsTopicEdgeType",(function(){return Gt})),r.d(s,"authorsPostEdgeType",(function(){return zt})),r.d(s,"createsLikeEdgeType",(function(){return Wt})),r.d(s,"likesEdgeType",(function(){return $t})),r.d(s,"referencesPostEdgeType",(function(){return Vt})),r.d(s,"referencesTopicEdgeType",(function(){return Yt})),r.d(s,"referencesUserEdgeType",(function(){return Kt})),r.d(s,"declaration",(function(){return Jt}));var a={};r.r(a),r.d(a,"topicAddress",(function(){return Zt})),r.d(a,"postAddress",(function(){return Xt})),r.d(a,"userAddress",(function(){return Qt})),r.d(a,"likeAddress",(function(){return te}));var c={};r.r(c),r.d(c,"nodePrefix",(function(){return ee})),r.d(c,"edgePrefix",(function(){return re})),r.d(c,"memberNodeType",(function(){return ne})),r.d(c,"messageNodeType",(function(){return ie})),r.d(c,"reactionNodeType",(function(){return oe})),r.d(c,"authorsMessageEdgeType",(function(){return se})),r.d(c,"addsReactionEdgeType",(function(){return ae})),r.d(c,"reactsToEdgeType",(function(){return ce})),r.d(c,"mentionsEdgeType",(function(){return ue})),r.d(c,"propsEdgeType",(function(){return le})),r.d(c,"declaration",(function(){return he}));var u={};r.r(u),r.d(u,"edgeWeightParser",(function(){return qe})),r.d(u,"empty",(function(){return He})),r.d(u,"copy",(function(){return Ge})),r.d(u,"merge",(function(){return ze})),r.d(u,"parser",(function(){return Ve})),r.d(u,"toJSON",(function(){return Ye})),r.d(u,"fromJSON",(function(){return Ke})),r.d(u,"compareWeights",(function(){return Je}));var l={};r.r(l),r.d(l,"identity",(function(){return br}));var h={};r.r(h),r.d(h,"nodePrefix",(function(){return wr})),r.d(h,"edgePrefix",(function(){return Er})),r.d(h,"initiativeNodeType",(function(){return Sr})),r.d(h,"_formatNodeEntryField",(function(){return Tr})),r.d(h,"nodeEntryTypes",(function(){return Or})),r.d(h,"contributionEntryType",(function(){return Mr})),r.d(h,"dependencyEntryType",(function(){return kr})),r.d(h,"referenceEntryType",(function(){return xr})),r.d(h,"dependsOnEdgeType",(function(){return Nr})),r.d(h,"referencesEdgeType",(function(){return Rr})),r.d(h,"contributesToEdgeType",(function(){return Ir})),r.d(h,"contributesToEntryEdgeType",(function(){return Cr})),r.d(h,"championsEdgeType",(function(){return jr})),r.d(h,"declaration",(function(){return Lr}));var d={};r.r(d),r.d(d,"_githubAddress",(function(){return Fr})),r.d(d,"REPO_TYPE",(function(){return Br})),r.d(d,"ISSUE_TYPE",(function(){return Ur})),r.d(d,"PULL_TYPE",(function(){return qr})),r.d(d,"REVIEW_TYPE",(function(){return Hr})),r.d(d,"COMMENT_TYPE",(function(){return Gr})),r.d(d,"COMMIT_TYPE",(function(){return zr})),r.d(d,"USERLIKE_TYPE",(function(){return Wr})),r.d(d,"USER_SUBTYPE",(function(){return $r})),r.d(d,"BOT_SUBTYPE",(function(){return Vr})),r.d(d,"Prefix",(function(){return Yr})),r.d(d,"loginAddress",(function(){return Kr})),r.d(d,"fromRaw",(function(){return Jr})),r.d(d,"toRaw",(function(){return Zr}));var f={};r.r(f),r.d(f,"AUTHORS_TYPE",(function(){return rn})),r.d(f,"MERGED_AS_TYPE",(function(){return nn})),r.d(f,"HAS_PARENT_TYPE",(function(){return on})),r.d(f,"REFERENCES_TYPE",(function(){return sn})),r.d(f,"REACTS_TYPE",(function(){return an})),r.d(f,"CORRESPONDS_TO_COMMIT_TYPE",(function(){return cn})),r.d(f,"Prefix",(function(){return hn})),r.d(f,"createEdge",(function(){return dn})),r.d(f,"fromRaw",(function(){return gn})),r.d(f,"toRaw",(function(){return yn}));var p={};r.r(p),r.d(p,"repoNodeType",(function(){return kn})),r.d(p,"userNodeType",(function(){return jn})),r.d(p,"declaration",(function(){return Vn}));var m={};r.r(m),r.d(m,"nodePrefix",(function(){return Yn})),r.d(m,"edgePrefix",(function(){return Kn})),r.d(m,"ethAddressEntryType",(function(){return Jn})),r.d(m,"declaration",(function(){return Zn}));var g={};r.r(g),r.d(g,"address",(function(){return si})),r.d(g,"identity",(function(){return ai}));var y={};r.r(y),r.d(y,"identityIdParser",(function(){return bi})),r.d(y,"delimitedIdentityIdParser",(function(){return wi})),r.d(y,"newIdentity",(function(){return Oi})),r.d(y,"contractions",(function(){return ki})),r.d(y,"graphNode",(function(){return Mi})),r.d(y,"identityParser",(function(){return xi})),r.d(y,"IDENTITY_PREFIX",(function(){return Ai})),r.d(y,"identityTypeParser",(function(){return Ti})),r.d(y,"nameFromString",(function(){return pr})),r.d(y,"nameParser",(function(){return yr})),r.d(y,"aliasParser",(function(){return Ei}));var _={};r.r(_),r.d(_,"ZERO",(function(){return qi})),r.d(_,"DECIMAL_PRECISION",(function(){return Hi})),r.d(_,"ONE",(function(){return Gi})),r.d(_,"add",(function(){return zi})),r.d(_,"sub",(function(){return Wi})),r.d(_,"mul",(function(){return $i})),r.d(_,"div",(function(){return Vi})),r.d(_,"lt",(function(){return Yi})),r.d(_,"gt",(function(){return Ki})),r.d(_,"lte",(function(){return Ji})),r.d(_,"gte",(function(){return Zi})),r.d(_,"eq",(function(){return Xi})),r.d(_,"fromString",(function(){return Qi})),r.d(_,"format",(function(){return to})),r.d(_,"formatAndTrim",(function(){return eo})),r.d(_,"multiplyFloat",(function(){return ro})),r.d(_,"divideFloat",(function(){return no})),r.d(_,"fromInteger",(function(){return io})),r.d(_,"fromFloatString",(function(){return oo})),r.d(_,"toFloatString",(function(){return so})),r.d(_,"fromApproximateFloat",(function(){return ao})),r.d(_,"toFloatRatio",(function(){return co})),r.d(_,"splitBudget",(function(){return uo})),r.d(_,"sum",(function(){return lo})),r.d(_,"parser",(function(){return ho}));var v={};r.r(v),r.d(v,"Ledger",(function(){return Qo}));var b={};r.r(b),r.d(b,"empty",(function(){return ys})),r.d(b,"toJSON",(function(){return _s})),r.d(b,"fromJSON",(function(){return vs})),r.d(b,"merge",(function(){return bs})),r.d(b,"overrideWeights",(function(){return ws}));var w={};r.r(w),r.d(w,"adjacencySource",(function(){return Hu})),r.d(w,"createConnections",(function(){return Gu})),r.d(w,"createOrderedSparseMarkovChain",(function(){return Wu})),r.d(w,"permute",(function(){return $u})),r.d(w,"normalizeNeighbors",(function(){return Vu})),r.d(w,"normalize",(function(){return Yu})),r.d(w,"distributionToNodeDistribution",(function(){return Ku}));var E={};r.r(E),r.d(E,"sparseMarkovChainFromTransitionMatrix",(function(){return Xu})),r.d(E,"sparseMarkovChainAction",(function(){return tl})),r.d(E,"findStationaryDistribution",(function(){return el}));var S={};r.r(S),r.d(S,"CredGraph",(function(){return ah})),r.d(S,"jsonParser",(function(){return ch})),r.d(S,"parser",(function(){return uh}));var T={};r.r(T),r.d(T,"diffLedger",(function(){return wh})),r.d(T,"ensureIdentityExists",(function(){return fs})),r.d(T,"distributions",(function(){return Eh}));var A={};r.r(A),r.d(A,"LedgerManager",(function(){return Oh}));var O={};r.r(O),r.d(O,"GithubStorage",(function(){return Fh})),r.d(O,"WritableGithubStorage",(function(){return Bh}));var M={};r.r(M),r.d(M,"credrank",(function(){return md}));var k={};r.r(k),r.d(k,"graph",(function(){return vd})),r.d(k,"_hackyIdentityNameReferenceDetector",(function(){return bd}));var x={};r.r(x),r.d(x,"grain",(function(){return Sd})),r.d(x,"executeGrainIntegrationsFromGrainInput",(function(){return Td}));var N={};r.r(N),r.d(N,"analysis",(function(){return jp}));var R={};r.r(R),r.d(R,"getNetworkReadInstance",(function(){return Qp})),r.d(R,"getRawGithubReadInstance",(function(){return tm})),r.d(R,"getOriginReadInstance",(function(){return em})),r.d(R,"ReadInstance",(function(){return pm}));var I={};r.r(I),r.d(I,"faithful",(function(){return Mm})),r.d(I,"unfaithful",(function(){return km})),r.d(I,"schema",(function(){return xm})),r.d(I,"scalar",(function(){return Nm})),r.d(I,"enum",(function(){return Rm})),r.d(I,"object",(function(){return Im})),r.d(I,"union",(function(){return Cm})),r.d(I,"id",(function(){return jm})),r.d(I,"primitive",(function(){return Lm})),r.d(I,"node",(function(){return Pm})),r.d(I,"connection",(function(){return Dm})),r.d(I,"nonNull",(function(){return Fm})),r.d(I,"nullable",(function(){return Bm})),r.d(I,"nested",(function(){return Um}));var C=r(0),j=r.n(C),L=r(94),P=r.n(L),D=r(10),F=r.n(D),B=r(2),U=r.n(B);function q(t){const e={};for(const[r,n]of t.entries())e[r]=n;return e}function H(t){const e=new Map,r=Object.keys(t);for(const n of r)e.set(n,t[n]);return e}function G(t,e,r){let n=t.get(e);return null==n&&t.set(e,n=[]),n.push(r),n}function z(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class W{constructor(t){z(this,"_f",void 0),z(this,"_phantomT",void 0),this._f=t}parse(t){return this._f(t)}parseOrThrow(t){const e=this.parse(t);if(e.ok)return e.value;throw new Error(e.err)}fmap(t){return nt(this,t)}}function $(t){return{ok:!0,value:t}}function V(t){return{ok:!1,err:t}}function Y(t){return null===t?"null":Array.isArray(t)?"array":typeof t}const K=new W(t=>"string"!=typeof t?V("expected string, got "+Y(t)):$(t)),J=new W(t=>"number"!=typeof t?V("expected number, got "+Y(t)):$(t)),Z=new W(t=>"number"!=typeof t||Math.floor(t)!==t?V("expected integer, got "+Y(t)):$(t)),X=new W(t=>"boolean"!=typeof t?V("expected boolean, got "+Y(t)):$(t)),Q=new W(t=>null!==t?V("expected null, got "+Y(t)):$(t)),tt=new W($);function et(t){return new W(e=>$(t))}function rt(t){return new W(e=>{for(const r of t)if(e===r)return $(r);const r=1===t.length?String(t[0]):"one of ".concat(JSON.stringify(t));return V("expected ".concat(r,", got ").concat(Y(e)))})}function nt(t,e){return new W(r=>{const n=t.parse(r);if(!n.ok)return V(n.err);const i=n.value;let o;try{o=e(i)}catch(t){return t instanceof Error?V(t.message):V(String(t))}return $(o)})}function it(t,e){return Array.isArray(e)&&0===e.length?[]:e}function ot(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t=>"no parse matched: ".concat(U()(t,{replacer:it,spacer:4}));return new W(r=>{const n=[];for(const e of t){const t=e.parse(r);if(t.ok)return $(t.value);n.push(t.err)}return V(e(n))})}function st(t){return new W(e=>{if(!Array.isArray(e))return V("expected array, got "+Y(e));const r=Array(e.length);for(let n=0;n<r.length;n++){const i=e[n],o=t.parse(i);if(!o.ok)return V("index ".concat(n,": ").concat(o.err));r[n]=o.value}return $(r)})}function at(t,e){return new ct(t,e)}class ct extends W{constructor(t,e){super(e._f),z(this,"oldKey",void 0),this.oldKey=t}}const ut=function(t,e){const r=new Set,n=[],i=[{inputFields:t,required:!0},{inputFields:e||{},required:!1}];for(const{inputFields:t,required:e}of i)for(const i of Object.keys(t)){const o=t[i];if(r.has(i))throw new Error("duplicate key: "+JSON.stringify(i));r.add(i);const s=o instanceof ct?o.oldKey:i;n.push({oldKey:s,newKey:i,parser:o,required:e})}return new W(t=>{if("object"!=typeof t||Array.isArray(t)||null==t)return V("expected object, got "+Y(t));const e={};for(const{oldKey:r,newKey:i,parser:o,required:s}of n){const n=t[r];if(void 0===n){if(s)return V("missing key: "+JSON.stringify(r));continue}const a=o.parse(n);if(!a.ok)return V("key ".concat(JSON.stringify(r),": ").concat(a.err));e[i]=a.value}return $(e)})},lt=function(t){return ut({},t)};function ht(t){const e=Array.from(t);return new W(t=>{if(!Array.isArray(t))return V("expected array, got "+Y(t));if(t.length!==e.length)return V("expected array of length ".concat(e.length,", got ").concat(t.length));const r=Array(e.length);for(let n=0;n<r.length;n++){const i=t[n],o=e[n].parse(i);if(!o.ok)return V("index ".concat(n,": ").concat(o.err));r[n]=o.value}return $(r)})}const dt=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K;return new W(r=>{if("object"!=typeof r||Array.isArray(r)||null==r)return V("expected object, got "+Y(r));const n=new Map,i={};for(const o of Object.keys(r)){const s=e.parse(o);if(!s.ok)return V("key ".concat(JSON.stringify(o),": ").concat(s.err));const a=n.get(s.value);if(null!=a){const t=JSON.stringify;return V("conflicting keys ".concat(t(a)," and ").concat(t(o)," ")+"both have logical key ".concat(t(s.value)))}n.set(s.value,o);const c=r[o],u=t.parse(c);if(!u.ok)return V("value ".concat(JSON.stringify(o),": ").concat(u.err));i[s.value]=u.value}return $(i)})},ft=t=>nt(K,e=>e.split(t)[0]);function pt(t){const{name:e,nonce:r}=t,n=new Map(t.otherNonces||new Map);if(-1!==r.indexOf("\0"))throw new Error("invalid nonce (contains NUL): ".concat(U()(r)));const i=r+"\0",o=function(t,e){const r=new Map;for(const[n,i]of t.entries()){const t=e(n,i);if(r.has(t))throw new Error("duplicate key: "+String(t));r.set(t,i)}return r}(n,t=>{if(t===r)throw new Error("primary nonce listed as otherNonce: ".concat(U()(r)));if(-1!==t.indexOf("\0"))throw new Error("invalid otherNonce (contains NUL): ".concat(U()(t)));return t+"\0"});function s(t,e){}function a(t,e){}function c(t){return[...t,""].join("\0")}function u(t){return r+"\0"+c(t)}function l(t){const e=t.split("\0");return e.slice(1,e.length-1)}function h(t){if(!t.endsWith("\0"))throw new Error("address does not end with separator: ".concat(U()(t)));if(!t.startsWith(i)){for(const[r,n]of o)if(t.startsWith(r))throw new Error("expected ".concat(e,", got ").concat(n,": ").concat(U()(t)));throw new Error("expected ".concat(e,", got: ").concat(U()(t)))}return t}const d={assertValid:s,assertValidParts:a,empty:u([]),fromParts:u,toParts:l,toString:function(t){const r=l(t);return"".concat(e).concat(U()(r))},append:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t+c(r)},hasPrefix:function(t,e){return t.startsWith(e)},fromRaw:h,parser:nt(K,h)};return j()(d)}function mt(t,e){return[t,e]}function gt(t,e,r){if(!Array.isArray(e)||2!==e.length)throw new Error("Tried to load object that didn't have compatibility defined");const{type:n,version:i}=e[0];let o=e[1];const{type:s,version:a}=t;if(n!==s)throw new Error("Expected type to be ".concat(s," but got ").concat(n));if(null!=r&&null!=r[i])o=r[i](o);else if(i!==a)throw new Error("".concat(n,": tried to load unsupported version ").concat(i));return o}const yt=ht([ut({type:K,version:K}),tt]);function _t(t,e){return new W(r=>{const n=yt.parse(r);if(!n.ok)return{ok:!1,err:"unable to unwrap compatible: ".concat(n.err)};const[{type:i,version:o},s]=n.value;if(i!==t)return{ok:!1,err:'expected type "'.concat(t,'" but got "').concat(i,'"')};if(!Object.prototype.hasOwnProperty.call(e,o))return{ok:!1,err:'no "'.concat(i,"/").concat(o,'" handler')};const a=e[o].parse(s);return a.ok?a:{ok:!1,err:"".concat(i,"/").concat(o,": ").concat(a.err)}})}function vt(t,e){if(null==t)throw new Error(null!=e?e:String(t));return t}function bt(t,e){return null!=t?t:e}function wt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Et(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?wt(Object(r),!0).forEach((function(e){St(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function St(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Tt=pt({name:"NodeAddress",nonce:"N",otherNonces:(new Map).set("E","EdgeAddress")}),At=pt({name:"EdgeAddress",nonce:"E",otherNonces:(new Map).set("N","NodeAddress")}),Ot={type:"sourcecred/graph",version:"0.8.0"},Mt=j()({IN:Symbol("IN"),OUT:Symbol("OUT"),ANY:Symbol("ANY")});class kt{constructor(){St(this,"_nodes",void 0),St(this,"_edges",void 0),St(this,"_incidentEdges",void 0),St(this,"_modificationCount",void 0),St(this,"_cachedOrder",void 0),St(this,"_invariantsLastChecked",void 0),this._modificationCount=0,this._invariantsLastChecked={when:-1,failure:"Invariants never checked"},this._cachedOrder={nodeOrder:[],edgeOrder:[],modificationCount:0},this._nodes=new Map,this._edges=new Map,this._incidentEdges=new Map,this._maybeCheckInvariants()}_checkForComodification(t){const e=this._modificationCount;if(e!==t){if(e>t)throw new Error("Concurrent modification detected");if(e<t)throw new Error("Invariant violation: expected modification count in the future")}else this._maybeCheckInvariants()}_markModification(){if(this._modificationCount>=Number.MAX_SAFE_INTEGER)throw new Error("Graph cannot be modified more than ".concat(this._modificationCount," times."));this._modificationCount++,this._maybeCheckInvariants()}_reference(t){this._incidentEdges.has(t)||this._incidentEdges.set(t,{inEdges:[],outEdges:[]})}_unreference(t){const e=this._incidentEdges.get(t);if(null!=e){const{inEdges:r,outEdges:n}=e;this._nodes.has(t)||0!==r.length||0!==n.length||this._incidentEdges.delete(t)}}_getOrder(){const t=this._modificationCount;if(this._cachedOrder.modificationCount!==t){const e=Array.from(this._edges.keys()).sort(),r=Array.from(this._nodes.keys()).sort();this._cachedOrder={nodeOrder:r,edgeOrder:e,modificationCount:t}}return this._cachedOrder}modificationCount(){return this._modificationCount}addNode(t){const{address:e}=t;Tt.assertValid(e),this._reference(e);const r=this._nodes.get(e);if(null==r)this._nodes.set(e,t);else if(!F()(t,r)){const e=xt(t),n=xt(r);throw new Error("conflict between new node ".concat(e," and existing ").concat(n))}return this._markModification(),this._maybeCheckInvariants(),this}removeNode(t){return Tt.assertValid(t),this._nodes.delete(t),this._unreference(t),this._markModification(),this._maybeCheckInvariants(),this}hasNode(t){Tt.assertValid(t);const e=this._nodes.has(t);return this._maybeCheckInvariants(),e}node(t){Tt.assertValid(t);const e=this._nodes.get(t);return this._maybeCheckInvariants(),e}nodes(t){const e=null!=t?t.prefix:Tt.empty;if(null==e)throw new Error("Invalid prefix: ".concat(String(e)));const r=this._nodesIterator(this._modificationCount,e);return this._maybeCheckInvariants(),r}*_nodesIterator(t,e){for(const r of this._getOrder().nodeOrder)if(Tt.hasPrefix(r,e)){const e=vt(this._nodes.get(r));this._checkForComodification(t),this._maybeCheckInvariants(),yield e}this._checkForComodification(t),this._maybeCheckInvariants()}addEdge(t){Tt.assertValid(t.src,"edge.src"),Tt.assertValid(t.dst,"edge.dst"),At.assertValid(t.address,"edge.address"),this._reference(t.src),this._reference(t.dst);const e=this._edges.get(t.address);if(null!=e){if(e.src!==t.src||e.dst!==t.dst||e.address!==t.address||e.timestampMs!==t.timestampMs){const r=Nt(t),n=Nt(e);throw new Error("conflict between new edge ".concat(r," and existing ").concat(n))}}else{this._edges.set(t.address,t);const{inEdges:e}=vt(this._incidentEdges.get(t.dst)),{outEdges:r}=vt(this._incidentEdges.get(t.src));e.push(t),r.push(t)}return this._edges.set(t.address,t),this._markModification(),this._maybeCheckInvariants(),this}removeEdge(t){At.assertValid(t);const e=this._edges.get(t);if(null!=e){this._edges.delete(t);const{inEdges:r}=vt(this._incidentEdges.get(e.dst)),{outEdges:n}=vt(this._incidentEdges.get(e.src));[r,n].forEach(e=>{const r=e.findIndex(e=>e.address===t);if(-1===r){const e=At.toString(t);throw new Error("Invariant violation when removing edge@".concat(e))}e.splice(r,1)}),this._unreference(e.src),this._unreference(e.dst)}return this._markModification(),this._maybeCheckInvariants(),this}hasEdge(t){At.assertValid(t);const e=this._edges.has(t);return this._maybeCheckInvariants(),e}isDanglingEdge(t){At.assertValid(t);const e=this.edge(t);let r;if(null!=e){const{src:t,dst:n}=e;r=!this.hasNode(t)||!this.hasNode(n)}return this._maybeCheckInvariants(),r}edge(t){At.assertValid(t);const e=this._edges.get(t);return this._maybeCheckInvariants(),e}edges(t){if(null==t)throw new Error("Options are required for Graph.edges");const{showDangling:e}=t,r=bt(t.addressPrefix,At.empty),n=bt(t.srcPrefix,Tt.empty),i=bt(t.dstPrefix,Tt.empty),o=this._edgesIterator(this._modificationCount,e,r,n,i);return this._maybeCheckInvariants(),o}*_edgesIterator(t,e,r,n,i){for(const o of this._getOrder().edgeOrder){const s=vt(this._edges.get(o));(e||!1===this.isDanglingEdge(s.address))&&At.hasPrefix(s.address,r)&&Tt.hasPrefix(s.src,n)&&Tt.hasPrefix(s.dst,i)&&(this._checkForComodification(t),this._maybeCheckInvariants(),yield s)}this._checkForComodification(t),this._maybeCheckInvariants()}neighbors(t,e){if(!this.hasNode(t))throw new Error("Node does not exist: ".concat(Tt.toString(t)));const r=this._neighbors(t,e,this._modificationCount);return this._maybeCheckInvariants(),r}*_neighbors(t,e,r){const n=e.direction,i=[];if(n===Mt.IN||n===Mt.ANY){const{inEdges:e}=vt(this._incidentEdges.get(t));i.push({edges:e,direction:"IN"})}if(n===Mt.OUT||n===Mt.ANY){const{outEdges:e}=vt(this._incidentEdges.get(t));i.push({edges:e,direction:"OUT"})}for(const t of i)for(const i of t.edges){if(n===Mt.ANY&&"IN"===t.direction&&i.src===i.dst)continue;const a="IN"===t.direction?i.src:i.dst,c=this.node(a);s=a,Tt.hasPrefix(s,e.nodePrefix)&&(o=i.address,At.hasPrefix(o,e.edgePrefix))&&null!=c&&(this._checkForComodification(r),this._maybeCheckInvariants(),yield{edge:i,node:c})}var o,s;this._checkForComodification(r),this._maybeCheckInvariants()}equals(t){if(!(t instanceof kt))throw new Error("Expected Graph, got ".concat(String(t)));const e=F()(this._nodes,t._nodes)&&F()(this._edges,t._edges);return this._maybeCheckInvariants(),e}copy(){const t=kt.merge([this]);return this._maybeCheckInvariants(),t}toJSON(){const t=Array.from(this._incidentEdges.keys()).sort(),e=new Map;t.forEach((t,r)=>{e.set(t,r)});const r=Array.from(this.edges({showDangling:!0})).map(t=>{let{src:r,dst:n,address:i,timestampMs:o}=t;return{srcIndex:vt(e.get(r)),dstIndex:vt(e.get(n)),address:At.toParts(i),timestampMs:o}}),n=Array.from(this.nodes()).map(t=>{let{address:r,description:n,timestampMs:i}=t;return{index:vt(e.get(r)),description:n,timestampMs:i}}),i={sortedNodeAddresses:t.map(t=>Tt.toParts(t)),edges:r,nodes:n},o=mt(Ot,i);return this._maybeCheckInvariants(),o}static fromJSON(t){const{nodes:e,edges:r,sortedNodeAddresses:n}=gt(Ot,t),i=n.map(Tt.fromParts),o=new kt;return e.forEach(t=>{const e={address:i[t.index],description:t.description,timestampMs:t.timestampMs};o.addNode(e)}),r.forEach(t=>{let{address:e,srcIndex:r,dstIndex:n,timestampMs:s}=t;const a=i[r],c=i[n];o.addEdge({address:At.fromParts(e),src:a,dst:c,timestampMs:s})}),o}static merge(t){const e=new kt;for(const r of t){for(const t of r.nodes())e.addNode(t);for(const t of r.edges({showDangling:!0}))e.addEdge(t)}return e}contractNodes(t){const e=new Map,r=new Set,n=new kt;for(const{old:i,replacement:o}of t){for(const t of i){if(r.has(t))throw new Error("Chained contractions are not supported: ".concat(Tt.toString(t)));e.set(t,o.address)}r.add(o.address),n.addNode(o)}for(const t of this.nodes())e.has(t.address)||n.addNode(t);for(const t of this.edges({showDangling:!0})){const r=bt(e.get(t.src),t.src),i=bt(e.get(t.dst),t.dst),o=Et(Et({},t),{},{src:r,dst:i});n.addEdge(o)}return n}checkInvariants(){if(this._invariantsLastChecked.when!==this._modificationCount){let t=null;try{this._checkInvariants()}catch(e){t=e.message}finally{this._invariantsLastChecked={when:this._modificationCount,failure:t}}}if(null!=this._invariantsLastChecked.failure)throw new Error(this._invariantsLastChecked.failure)}_checkInvariants(){const t=new Set;for(const[e,r]of this._nodes){if(r.address!==e)throw new Error("bad node address for ".concat(Tt.toString(e)));if(!this._incidentEdges.has(e))throw new Error("missing incident-edges for ".concat(Tt.toString(e)));t.add(e)}for(const e of this._edges.values()){if(!this._incidentEdges.has(e.src))throw new Error("missing incident-edges for src of: ".concat(Nt(e)));if(t.add(e.src),!this._incidentEdges.has(e.dst))throw new Error("missing incident-edges for dst of: ".concat(Nt(e)));t.add(e.dst)}if(Array.from(this._incidentEdges.keys()).length!==t.size)throw new Error("extra addresses in incident-edges");for(const[t,e]of this._edges.entries())if(e.address!==t)throw new Error("bad edge address: ".concat(Nt(e)," does not match ").concat(t));const e=new Set,r=new Set,n=Array.from(this._incidentEdges.entries());for(const{seen:t,entries:i,baseNodeAccessor:o,kind:s}of[{seen:e,entries:n.map(t=>{let[e,{inEdges:r}]=t;return[e,r]}),baseNodeAccessor:t=>t.dst,kind:"in-edge"},{seen:r,entries:n.map(t=>{let[e,{outEdges:r}]=t;return[e,r]}),baseNodeAccessor:t=>t.src,kind:"out-edge"}])for(const[e,r]of i)for(const n of r){if(t.has(n.address))throw new Error("duplicate ".concat(s,": ").concat(Nt(n)));t.add(n.address);const r=this._edges.get(n.address);if(!F()(n,r)){if(null==r)throw new Error("spurious ".concat(s,": ").concat(Nt(n)));{const t="".concat(Nt(n)," vs. ").concat(Nt(r));throw new Error("bad ".concat(s,": ").concat(t))}}const i=o(n);if(e!==o(n))throw new Error("bad ".concat(s,": ").concat(Nt(n)," should be ")+"should be anchored at ".concat(Tt.toString(i)))}for(const t of this._edges.values()){if(!e.has(t.address))throw new Error("missing in-edge: ".concat(Nt(t)));if(!r.has(t.address))throw new Error("missing out-edge: ".concat(Nt(t)))}}_maybeCheckInvariants(){0}}function xt(t){const e=Tt.toString(t.address),r=null==t.timestampMs?"null":String(t.timestampMs);return"{address: ".concat(e,", description: ").concat(t.description,", timestampMs: ").concat(r,"}")}function Nt(t){const e=At.toString(t.address),r=Tt.toString(t.src),n=Tt.toString(t.dst);return"{address: ".concat(e,", src: ").concat(r,", dst: ").concat(n,", timestampMs: ").concat(t.timestampMs,"}")}function Rt(t){return{address:At.toString(t.address),src:Tt.toString(t.src),dst:Tt.toString(t.dst),timestampMs:t.timestampMs}}function It(t){return{addressParts:At.toParts(t.address),srcParts:Tt.toParts(t.src),dstParts:Tt.toParts(t.dst),timestampMs:t.timestampMs}}function Ct(t,e){const r=[],n=[],i=t.equals(e);if(!i){for(const n of t.nodes()){const t=e.node(n.address);F()(n,t)||r.push({first:n,second:t})}for(const n of e.nodes()){const e=t.node(n.address);e||r.push({first:e,second:n})}for(const r of t.edges({showDangling:!0})){const t=e.edge(r.address);F()(r,t)||n.push({first:r,second:t})}for(const r of e.edges({showDangling:!0})){const e=t.edge(r.address);e||n.push({first:e,second:r})}}return{graphsAreEqual:i,nodeDiffs:r,edgeDiffs:n}}const jt=Tt.fromParts(["sourcecred","discourse"]),Lt=At.fromParts(["sourcecred","discourse"]),Pt=j()({name:"Topic",pluralName:"Topics",prefix:Tt.append(jt,"topic"),defaultWeight:0,description:"A topic (or post-container) in a Discourse instance. Every topic has at least one post."}),Dt=j()({name:"Post",pluralName:"Posts",prefix:Tt.append(jt,"post"),defaultWeight:0,description:"A post in some topic in a Discourse instance."}),Ft=j()({name:"User",pluralName:"Users",prefix:Tt.append(jt,"user"),defaultWeight:0,description:"A user account on a particular Discourse instance."}),Bt=j()({name:"Like",pluralName:"Likes",prefix:Tt.append(jt,"like"),defaultWeight:4,description:"A like by some user, directed at some post"}),Ut=j()({forwardName:"contains post",backwardName:"is contained by topic",prefix:At.append(Lt,"topicContainsPost"),defaultWeight:{forwards:1/8,backwards:1},description:"Connects a topic to the posts that it contains."}),qt=j()({forwardName:"has post with likes",backwardName:"is liked post within topic",prefix:At.append(Lt,"topicHasLikedPost"),defaultWeight:{forwards:1,backwards:0},description:"Connects a topic to posts with likes, with weight proportional to the number of likes"}),Ht=j()({forwardName:"post is reply to",backwardName:"post replied to by",prefix:At.append(Lt,"replyTo"),defaultWeight:{forwards:1,backwards:0},description:"Connects a post to the post that it is a reply to."}),Gt=j()({forwardName:"authors topic",backwardName:"topic is authored by",prefix:At.append(Lt,"authors","topic"),defaultWeight:{forwards:0,backwards:0},description:"Connects an author to a topic they created."}),zt=j()({forwardName:"authors post",backwardName:"post is authored by",prefix:At.append(Lt,"authors","post"),defaultWeight:{forwards:1/4,backwards:1},description:"Connects an author to a post they've created."}),Wt=j()({forwardName:"creates like",backwardName:"like created by",prefix:At.append(Lt,"createsLike"),defaultWeight:{forwards:1,backwards:0},description:"Connects a Discourse user to a like that they created."}),$t=j()({forwardName:"likes",backwardName:"is liked by",prefix:At.append(Lt,"likes"),defaultWeight:{forwards:1,backwards:0},description:"Connects a Discourse like to a post that was liked."}),Vt=j()({forwardName:"references post",backwardName:"post is referenced by",prefix:At.append(Lt,"references","post"),defaultWeight:{forwards:.5,backwards:0},description:"Connects a Discourse post to another post it referenced."}),Yt=j()({forwardName:"references topic",backwardName:"topic is referenced by",prefix:At.append(Lt,"references","topic"),defaultWeight:{forwards:.5,backwards:0},description:"Connects a Discourse post to a topic it referenced."}),Kt=j()({forwardName:"mentions",backwardName:"is mentioned by",prefix:At.append(Lt,"references","user"),defaultWeight:{forwards:.5,backwards:0},description:"Connects a Discourse post to a user it mentions"}),Jt=j()({name:"Discourse",nodePrefix:jt,edgePrefix:Lt,nodeTypes:[Ft,Pt,Dt,Bt],edgeTypes:[Ht,Gt,zt,Ut,qt,$t,Wt,Vt,Yt,Kt],userTypes:[Ft]});function Zt(t,e){return Tt.append(Pt.prefix,t,String(e))}function Xt(t,e){return Tt.append(Dt.prefix,t,String(e))}function Qt(t,e){return Tt.append(Ft.prefix,t,e)}function te(t,e){return Tt.append(Bt.prefix,t,e.username,String(e.postId))}const ee=Tt.fromParts(["sourcecred","discord"]),re=At.fromParts(["sourcecred","discord"]),ne=j()({name:"Member",pluralName:"Members",prefix:Tt.append(ee,"MEMBER"),defaultWeight:0,description:"A member of the Discord server"}),ie=j()({name:"Message",pluralName:"Messages",prefix:Tt.append(ee,"MESSAGE"),defaultWeight:0,description:"A Discord message, posted in a particular channel"}),oe=j()({name:"Reaction",pluralName:"Reactions",prefix:Tt.append(ee,"REACTION"),defaultWeight:1,description:"A reaction by some user, directed at some message"}),se=j()({forwardName:"authors message",backwardName:"message is authored by",prefix:At.append(re,"AUTHORS","MESSAGE"),defaultWeight:{forwards:1/4,backwards:1},description:"Connects an author to a message they've created."}),ae=j()({forwardName:"adds reaction",backwardName:"reaction added by",prefix:At.append(re,"ADDS_REACTION"),defaultWeight:{forwards:1,backwards:1/16},description:"Connects a member to a reaction that they added."}),ce=j()({forwardName:"reacts to",backwardName:"is reacted to by",prefix:At.append(re,"REACTS_TO"),defaultWeight:{forwards:1,backwards:1/16},description:"Connects a reaction to a message that it reacts to."}),ue=j()({forwardName:"mentions",backwardName:"is mentioned by",prefix:At.append(re,"MENTIONS"),defaultWeight:{forwards:1,backwards:1/16},description:"Connects a message to the member being mentioned."}),le=j()({forwardName:"gives props to",backwardName:"recieves props from",prefix:At.append(re,"PROPS"),defaultWeight:{forwards:19,backwards:1/16},description:"Connects a props message to the person getting props"}),he=j()({name:"Discord",nodePrefix:ee,edgePrefix:re,nodeTypes:[ne,ie,oe],edgeTypes:[se,ae,ce,ue,le],userTypes:[ne]});var de=r(26);function fe(t){switch(t){case 0:return"GUILD_TEXT";case 1:return"DM";case 2:return"GUILD_VOICE";case 3:return"GROUP_DM";case 4:return"GUILD_CATEGORY";case 5:return"GUILD_NEWS";case 6:return"GUILD_STORE";default:return"UNKNOWN"}}function pe(t){let{id:e,name:r}=t;return e?"".concat(r,":").concat(e):r}function me(t){const[e,r]=t.split(":");return r?{id:r,name:e}:{id:null,name:e}}function ge(t){const e=t.join("").split("\n").filter(t=>0!==t.trim().length).map(t=>t.length-t.trimLeft().length),r=Math.min.apply(null,e),n=[];for(let e=0;e<t.length;e++){const i=t[e].split("\n").map((t,n)=>0===e||n>0?t.substr(r):t).join("\n");n.push(i),e<(arguments.length<=1?0:arguments.length-1)&&n.push(e+1<1||arguments.length<=e+1?void 0:arguments[e+1])}return n.join("")}var ye,_e,ve,be,we,Ee,Se,Te,Ae,Oe,Me,ke,xe,Ne,Re,Ie,Ce,je,Le,Pe,De,Fe;function Be(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}class Ue{constructor(t,e){var r,n,i;if(i=void 0,(n="_db")in(r=this)?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,null==t)throw new Error("db: "+String(t));this._db=t,this._transaction(()=>{this._initialize(e)})}_transaction(t){const e=this._db;if(e.inTransaction)throw new Error("already in transaction");try{e.prepare("BEGIN").run(),t(),e.inTransaction&&e.prepare("COMMIT").run()}finally{e.inTransaction&&e.prepare("ROLLBACK").run()}}_initialize(t){const e=this._db;e.prepare(ge(ye||(ye=Be(["        CREATE TABLE IF NOT EXISTS meta (\n            zero INTEGER PRIMARY KEY,\n            config TEXT NOT NULL\n        )\n      "],["\\\n        CREATE TABLE IF NOT EXISTS meta (\n            zero INTEGER PRIMARY KEY,\n            config TEXT NOT NULL\n        )\n      "])))).run();const r=U()({version:"discord_mirror_v1",guild:t}),n=e.prepare("SELECT config FROM meta").pluck().get();if(n===r)return;if(void 0!==n)throw new Error("Database already populated with incompatible server or version");e.prepare("INSERT INTO meta (zero, config) VALUES (0, ?)").run(r);const i=[ge(_e||(_e=Be(["        CREATE TABLE channels (\n            id TEXT PRIMARY KEY,\n            type TEXT NOT NULL,\n            name TEXT NOT NULL,\n            parent_id TEXT\n        )\n      "],["\\\n        CREATE TABLE channels (\n            id TEXT PRIMARY KEY,\n            type TEXT NOT NULL,\n            name TEXT NOT NULL,\n            parent_id TEXT\n        )\n      "]))),ge(ve||(ve=Be(["        CREATE TABLE members (\n            user_id TEXT PRIMARY KEY,\n            username TEXT NOT NULL,\n            discriminator TEXT NOT NULL,\n            bot INTEGER NOT NULL,\n            nick TEXT\n        )\n      "],["\\\n        CREATE TABLE members (\n            user_id TEXT PRIMARY KEY,\n            username TEXT NOT NULL,\n            discriminator TEXT NOT NULL,\n            bot INTEGER NOT NULL,\n            nick TEXT\n        )\n      "]))),ge(be||(be=Be(["        CREATE TABLE member_roles (\n            user_id TEXT,\n            role TEXT NOT NULL,\n            CONSTRAINT user_role PRIMARY KEY (user_id, role)\n        )\n      "],["\\\n        CREATE TABLE member_roles (\n            user_id TEXT,\n            role TEXT NOT NULL,\n            CONSTRAINT user_role PRIMARY KEY (user_id, role)\n        )\n      "]))),ge(we||(we=Be(["        CREATE TABLE messages (\n            id TEXT PRIMARY KEY,\n            channel_id TEXT NOT NULL,\n            author_id TEXT NOT NULL,\n            non_user_author INTEGER NOT NULL,\n            timestamp_ms INTEGER NOT NULL,\n            content TEXT NOT NULL\n        )\n      "],["\\\n        CREATE TABLE messages (\n            id TEXT PRIMARY KEY,\n            channel_id TEXT NOT NULL,\n            author_id TEXT NOT NULL,\n            non_user_author INTEGER NOT NULL,\n            timestamp_ms INTEGER NOT NULL,\n            content TEXT NOT NULL\n        )\n      "]))),ge(Ee||(Ee=Be(["        CREATE TABLE message_reactions (\n            channel_id TEXT NOT NULL,\n            message_id TEXT NOT NULL,\n            author_id TEXT NOT NULL,\n            emoji TEXT NOT NULL,\n            CONSTRAINT value_object PRIMARY KEY (channel_id, message_id, author_id, emoji)\n        )\n      "],["\\\n        CREATE TABLE message_reactions (\n            channel_id TEXT NOT NULL,\n            message_id TEXT NOT NULL,\n            author_id TEXT NOT NULL,\n            emoji TEXT NOT NULL,\n            CONSTRAINT value_object PRIMARY KEY (channel_id, message_id, author_id, emoji)\n        )\n      "]))),ge(Se||(Se=Be(["        CREATE TABLE message_mentions (\n            channel_id TEXT NOT NULL,\n            message_id TEXT NOT NULL,\n            user_id TEXT NOT NULL,\n            count INTEGER NOT NULL,\n            CONSTRAINT value_object PRIMARY KEY (channel_id, message_id, user_id)\n        )\n      "],["\\\n        CREATE TABLE message_mentions (\n            channel_id TEXT NOT NULL,\n            message_id TEXT NOT NULL,\n            user_id TEXT NOT NULL,\n            count INTEGER NOT NULL,\n            CONSTRAINT value_object PRIMARY KEY (channel_id, message_id, user_id)\n        )\n      "])))];for(const t of i)e.prepare(t).run()}members(){return this._db.prepare(ge(Te||(Te=Be(["        SELECT\n          user_id,\n          username,\n          discriminator,\n          bot,\n          nick\n        FROM members"],["\\\n        SELECT\n          user_id,\n          username,\n          discriminator,\n          bot,\n          nick\n        FROM members"])))).all().map(t=>({user:{id:t.user_id,username:t.username,discriminator:t.discriminator,bot:1===t.bot},nick:t.nick,roles:this.memberRoles(t.user_id)}))}memberRoles(t){return this._db.prepare(ge(Ae||(Ae=Be(["        SELECT\n          user_id,\n          role\n        FROM member_roles\n        WHERE user_id = :user_id"],["\\\n        SELECT\n          user_id,\n          role\n        FROM member_roles\n        WHERE user_id = :user_id"])))).all({user_id:t}).map(t=>t.role)}channels(){return this._db.prepare(ge(Oe||(Oe=Be(["        SELECT\n          id,\n          type,\n          name,\n          parent_id\n        FROM channels"],["\\\n        SELECT\n          id,\n          type,\n          name,\n          parent_id\n        FROM channels"])))).all().map(t=>({id:t.id,type:t.type,name:t.name,parentId:t.parent_id}))}messages(t){return this._db.prepare(ge(Me||(Me=Be(["        SELECT\n          id,\n          channel_id,\n          author_id,\n          non_user_author,\n          timestamp_ms,\n          content\n        FROM messages\n        WHERE channel_id = :channel_id"],["\\\n        SELECT\n          id,\n          channel_id,\n          author_id,\n          non_user_author,\n          timestamp_ms,\n          content\n        FROM messages\n        WHERE channel_id = :channel_id"])))).all({channel_id:t}).map(t=>({id:t.id,channelId:t.channel_id,authorId:t.author_id,nonUserAuthor:1===t.non_user_author,timestampMs:t.timestamp_ms,content:t.content,reactionEmoji:this.reactionEmoji(t.channel_id,t.id),mentions:this.mentions(t.channel_id,t.id)}))}nthMessageFromTail(t,e){const r=this._db.prepare(ge(ke||(ke=Be(["        SELECT count(*) as count\n        FROM messages\n        WHERE channel_id = :channel_id"],["\\\n        SELECT count(*) as count\n        FROM messages\n        WHERE channel_id = :channel_id"])))).get({channel_id:t}).count;if(r<e)return null;const n=r-e,i=this._db.prepare(ge(xe||(xe=Be(["        SELECT\n          id,\n          channel_id,\n          author_id,\n          non_user_author,\n          timestamp_ms,\n          content\n        FROM messages\n        WHERE channel_id = :channel_id\n        ORDER BY timestamp_ms\n        LIMIT 1\n        OFFSET :offset\n        "],["\\\n        SELECT\n          id,\n          channel_id,\n          author_id,\n          non_user_author,\n          timestamp_ms,\n          content\n        FROM messages\n        WHERE channel_id = :channel_id\n        ORDER BY timestamp_ms\n        LIMIT 1\n        OFFSET :offset\n        "])))).get({channel_id:t,offset:n});return{id:i.id,channelId:i.channel_id,authorId:i.author_id,nonUserAuthor:1===i.non_user_author,timestampMs:i.timestamp_ms,content:i.content,reactionEmoji:this.reactionEmoji(i.channel_id,i.id),mentions:this.mentions(i.channel_id,i.id)}}mentions(t,e){return this._db.prepare(ge(Ne||(Ne=Be(["        SELECT user_id, count\n        FROM message_mentions\n        WHERE channel_id = :channel_id\n          AND message_id = :message_id"],["\\\n        SELECT user_id, count\n        FROM message_mentions\n        WHERE channel_id = :channel_id\n          AND message_id = :message_id"])))).all({channel_id:t,message_id:e}).map(t=>({userId:t.user_id,count:t.count}))}reactionEmoji(t,e){return this._db.prepare(ge(Re||(Re=Be(["        SELECT DISTINCT\n          emoji\n        FROM message_reactions\n        WHERE channel_id = :channel_id\n          AND message_id = :message_id"],["\\\n        SELECT DISTINCT\n          emoji\n        FROM message_reactions\n        WHERE channel_id = :channel_id\n          AND message_id = :message_id"])))).all({channel_id:t,message_id:e}).map(t=>me(t.emoji))}reactions(t,e){return this._db.prepare(ge(Ie||(Ie=Be(["        SELECT\n          channel_id,\n          message_id,\n          author_id,\n          emoji\n        FROM message_reactions\n        WHERE channel_id = :channel_id\n          AND message_id = :message_id"],["\\\n        SELECT\n          channel_id,\n          message_id,\n          author_id,\n          emoji\n        FROM message_reactions\n        WHERE channel_id = :channel_id\n          AND message_id = :message_id"])))).all({channel_id:t,message_id:e}).map(t=>({channelId:t.channel_id,messageId:t.message_id,authorId:t.author_id,emoji:me(t.emoji)}))}addChannel(t){this._db.prepare(ge(Ce||(Ce=Be(["          INSERT OR IGNORE INTO channels (\n              id,\n              type,\n              name,\n              parent_id\n          ) VALUES (\n              :id,\n              :type,\n              :name,\n              :parent_id\n          )\n        "],["\\\n          INSERT OR IGNORE INTO channels (\n              id,\n              type,\n              name,\n              parent_id\n          ) VALUES (\n              :id,\n              :type,\n              :name,\n              :parent_id\n          )\n        "])))).run({id:t.id,type:t.type,name:t.name,parent_id:t.parentId||null})}addMessage(t){this._db.prepare(ge(je||(je=Be(["          INSERT OR IGNORE INTO messages (\n              id,\n              channel_id,\n              author_id,\n              non_user_author,\n              timestamp_ms,\n              content\n          ) VALUES (\n              :id,\n              :channel_id,\n              :author_id,\n              :non_user_author,\n              :timestamp_ms,\n              :content\n          )\n        "],["\\\n          INSERT OR IGNORE INTO messages (\n              id,\n              channel_id,\n              author_id,\n              non_user_author,\n              timestamp_ms,\n              content\n          ) VALUES (\n              :id,\n              :channel_id,\n              :author_id,\n              :non_user_author,\n              :timestamp_ms,\n              :content\n          )\n        "])))).run({id:t.id,channel_id:t.channelId,author_id:t.authorId,non_user_author:Number(t.nonUserAuthor),timestamp_ms:t.timestampMs,content:t.content});for(const e of t.mentions)this.addMention(t,e)}addReaction(t){this._db.prepare(ge(Le||(Le=Be(["          INSERT OR IGNORE INTO message_reactions (\n              channel_id,\n              message_id,\n              author_id,\n              emoji\n          ) VALUES (\n              :channel_id,\n              :message_id,\n              :author_id,\n              :emoji\n          )\n        "],["\\\n          INSERT OR IGNORE INTO message_reactions (\n              channel_id,\n              message_id,\n              author_id,\n              emoji\n          ) VALUES (\n              :channel_id,\n              :message_id,\n              :author_id,\n              :emoji\n          )\n        "])))).run({channel_id:t.channelId,message_id:t.messageId,author_id:t.authorId,emoji:pe(t.emoji)})}addMention(t,e){this._db.prepare(ge(Pe||(Pe=Be(["          INSERT OR IGNORE INTO message_mentions (\n              channel_id,\n              message_id,\n              user_id,\n              count\n          ) VALUES (\n              :channel_id,\n              :message_id,\n              :user_id,\n              :count\n          )\n        "],["\\\n          INSERT OR IGNORE INTO message_mentions (\n              channel_id,\n              message_id,\n              user_id,\n              count\n          ) VALUES (\n              :channel_id,\n              :message_id,\n              :user_id,\n              :count\n          )\n        "])))).run({channel_id:t.channelId,message_id:t.id,user_id:e.userId,count:e.count})}addMember(t){this._db.prepare(ge(De||(De=Be(["          INSERT OR IGNORE INTO members (\n              user_id,\n              username,\n              discriminator,\n              bot,\n              nick\n          ) VALUES (\n              :user_id,\n              :username,\n              :discriminator,\n              :bot,\n              :nick\n          )\n        "],["\\\n          INSERT OR IGNORE INTO members (\n              user_id,\n              username,\n              discriminator,\n              bot,\n              nick\n          ) VALUES (\n              :user_id,\n              :username,\n              :discriminator,\n              :bot,\n              :nick\n          )\n        "])))).run({user_id:t.user.id,username:t.user.username,discriminator:t.user.discriminator,bot:Number(t.user.bot),nick:t.nick||null});for(const e of t.roles)this.addMemberRole(t.user.id,e)}addMemberRole(t,e){this._db.prepare(ge(Fe||(Fe=Be(["          INSERT OR IGNORE INTO member_roles (\n              user_id,\n              role\n          ) VALUES (\n              :user_id,\n              :role\n          )\n        "],["\\\n          INSERT OR IGNORE INTO member_roles (\n              user_id,\n              role\n          ) VALUES (\n              :user_id,\n              :role\n          )\n        "])))).run({user_id:t,role:e})}}const qe=ut({forwards:J,backwards:J});function He(){return{nodeWeights:new Map,edgeWeights:new Map}}function Ge(t){return{nodeWeights:new Map(t.nodeWeights),edgeWeights:new Map(t.edgeWeights)}}function ze(t,e){if(null==e){e={nodeResolver:(t,e)=>{throw new Error("node weight conflict detected, but no resolver specified")},edgeResolver:(t,e)=>{throw new Error("edge weight conflict detected, but no resolver specified")}}}const r=He(),{nodeWeights:n,edgeWeights:i}=r,{nodeResolver:o,edgeResolver:s}=e;for(const e of t){for(const[t,r]of e.nodeWeights.entries()){const e=n.get(t);if(null==e)n.set(t,r);else try{n.set(t,o(e,r))}catch(e){throw new Error("".concat(e," when resolving ").concat(Tt.toString(t)))}}for(const[t,r]of e.edgeWeights.entries()){const e=i.get(t);if(null==e)i.set(t,r);else try{i.set(t,s(e,r))}catch(e){throw new Error("Error ".concat(e," when resolving ").concat(At.toString(t)))}}}return r}const We=ut({nodeWeights:dt(J,Tt.parser),edgeWeights:dt(qe,At.parser)}),$e={type:"sourcecred/weights",version:"0.2.0"},Ve=_t($e.type,{"0.2.0":nt(We,(function(t){return{nodeWeights:H(t.nodeWeights),edgeWeights:H(t.edgeWeights)}}))});function Ye(t){return mt($e,function(t){return{nodeWeights:q(t.nodeWeights),edgeWeights:q(t.edgeWeights)}}(t))}function Ke(t){return Ve.parseOrThrow(t)}function Je(t,e){const r=[],n=[],i=new Set([...t.nodeWeights.keys(),...e.nodeWeights.keys()]);for(const n of i){const i=t.nodeWeights.get(n),o=e.nodeWeights.get(n);F()(i,o)||r.push({address:n,first:i,second:o})}const o=new Set([...t.edgeWeights.keys(),...e.edgeWeights.keys()]);for(const r of o){const i=t.edgeWeights.get(r),o=e.edgeWeights.get(r);F()(i,o)||n.push({address:r,first:i,second:o})}return{weightsAreEqual:0===r.length&&0===n.length,nodeWeightDiffs:r,edgeWeightDiffs:n}}function Ze(t){const{weights:e,message:r,reaction:n,reactingMember:i,propsChannels:o,reactions:s,channelParentId:a}=t;if(r.authorId===n.authorId&&!o.has(r.channelId))return 0;const c=e.emojiWeights.applyAveraging?Array.from(new Set(s.filter(t=>{let{reaction:e}=t;return e.authorId!==r.authorId}).map(t=>{let{reactingMember:e}=t;return e}))).reduce((t,r)=>t+Xe(e.roleWeights,r),0)+(e.emojiWeights.confidenceDampener||0):null,u=c?1/c:1;return Xe(e.roleWeights,i)*Qe(e.channelWeights,n.channelId,a)*function(t,e){const{defaultWeight:r,weights:n}=t;return bt(n[pe(e.emoji)],r)}(e.emojiWeights,n)*u}function Xe(t,e){const{defaultWeight:r,weights:n}=t;let i=r;for(const t of e.roles){const e=n[t];null!=e&&e>i&&(i=e)}return i}function Qe(t,e,r){const{defaultWeight:n,weights:i}=t;return bt(r?bt(i[e],i[r]):i[e],n)}function tr(t,e,r){return"https://discordapp.com/channels/".concat(t,"/").concat(e,"/").concat(r)}function er(t){return Tt.append(ne.prefix,t.user.bot?"bot":"user",t.user.id)}function rr(t){return Tt.append(ie.prefix,t.channelId,t.id)}function nr(t){return Tt.append(oe.prefix,t.channelId,pe(t.emoji),t.authorId,t.messageId)}function ir(t){const e="discord/".concat(Object(de.escape)(t.user.username.slice(0,20)),"#").concat(t.user.discriminator);return{address:er(t),description:e,timestampMs:null}}function or(t,e,r){const n=tr(e,t.channelId,t.id),i=Object(de.escape)(t.content.substring(0,30)),o="#".concat(r,' message ["').concat(i,'..."](').concat(n,")");return{address:rr(t),description:o,timestampMs:t.timestampMs}}function sr(t,e){return{address:At.append(se.prefix,e.user.bot?"bot":"user",e.user.id,t.channelId,t.id),timestampMs:t.timestampMs,src:er(e),dst:rr(t)}}function ar(t,e,r){const n=tr(r,t.channelId,t.messageId),i=t.emoji.id?":".concat(t.emoji.name,":"):t.emoji.name,o="Reacted `".concat(i,"` to message [").concat(t.messageId,"](").concat(n,")");return{address:nr(t),description:o,timestampMs:e}}function cr(t,e,r){return{address:At.append(ae.prefix,e.user.bot?"bot":"user",e.user.id,pe(t.emoji),t.channelId,t.messageId),timestampMs:r,src:er(e),dst:nr(t)}}function ur(t,e){return{address:At.append(ce.prefix,pe(t.emoji),t.authorId,t.channelId,t.messageId),timestampMs:e.timestampMs,src:nr(t),dst:rr(e)}}function lr(t,e){return{address:At.append(ue.prefix,t.channelId,t.authorId,t.id,e.user.bot?"bot":"user",e.user.id),timestampMs:t.timestampMs,src:rr(t),dst:er(e)}}function hr(t,e){return{address:At.append(le.prefix,t.channelId,t.authorId,t.id,e.user.bot?"bot":"user",e.user.id),timestampMs:t.timestampMs,src:rr(t),dst:er(e)}}function dr(t,e){return function(t,e){const r={graph:new kt,weights:He()},{guildId:n,weights:i}=t,o=new Set(t.propsChannels);for(const s of e){const{message:e,author:a,reactions:c,mentions:u,channelName:l,channelId:h,channelParentId:d}=s;let f=0;for(const{reaction:s,reactingMember:a}of c){const u=Ze({weights:i,message:e,reaction:s,reactingMember:a,propsChannels:o,reactions:c,channelParentId:d});if(f+=u,u&&!t.simplifyGraph){const t=ar(s,e.timestampMs,n);r.weights.nodeWeights.set(t.address,u),r.graph.addNode(t),r.graph.addNode(ir(a)),r.graph.addEdge(ur(s,e)),r.graph.addEdge(cr(s,a,e.timestampMs))}}if(f){a&&(r.graph.addNode(ir(a)),r.graph.addEdge(sr(e,a))),r.graph.addNode(or(e,n,l)),t.simplifyGraph&&r.weights.nodeWeights.set(rr(e),f);for(const{member:t,count:n}of u){let i;r.graph.addNode(ir(t)),i=o.has(h)?hr(e,t):lr(e,t),r.graph.addEdge(i),n>1&&r.weights.edgeWeights.set(i.address,{forwards:n,backwards:1})}}}return r}(t,function*(t){const e=new Map(t.members().map(t=>[t.user.id,t]));for(const r of t.channels())for(const n of t.messages(r.id)){if(n.nonUserAuthor)continue;const i=[];for(const o of t.reactions(r.id,n.id)){const t=e.get(o.authorId);t&&i.push({reaction:o,reactingMember:t})}const o=[];for(const{userId:t,count:r}of n.mentions){const n=e.get(t);n&&o.push({member:n,count:r})}if(0===o.length&&0===i.length)continue;const s=e.get(n.authorId)||null;yield{message:n,author:s,reactions:i,mentions:o,channelName:r.name,channelId:r.id,channelParentId:r.parentId}}}(e))}const fr=/^[A-Za-z0-9-]+$/;function pr(t){if(!t.match(fr))throw new Error("invalid name: ".concat(t));if(t.length>42)throw new Error("name too long: ".concat(t));return t}const mr=/[^A-Za-z0-9-]/g;function gr(t){return pr(t.replace(mr,"-"))}const yr=nt(K,pr);function _r(t){let e=t.nick||t.user.username;e=gr(e.slice(0,39)),e.match(/^-+$/)&&(e=gr("discord-"+t.user.id));const r={description:"discord/".concat(Object(de.escape)(e),"#").concat(t.user.discriminator),address:er(t)},n=t.user.bot?"BOT":"USER";return{pluginName:pr("discord"),name:e,type:n,alias:r}}function vr(t){return t.members().map(t=>_r(t))}const br={createIdentities:vr,createIdentity:_r},wr=Tt.fromParts(["sourcecred","initiatives"]),Er=At.fromParts(["sourcecred","initiatives"]),Sr=j()({name:"Initiative",pluralName:"Initiatives",prefix:Tt.append(wr,"initiative"),defaultWeight:1,description:"An initiative supernode, describing a scoped improvement to a project from proposal to completion."});function Tr(t){return t[0].toUpperCase()+t.substring(1).toLowerCase()}function Ar(t){const e=Tr(t);return j()({name:"".concat(e," Entry"),pluralName:"".concat(e," Entries"),prefix:Tt.append(wr,String(t)),defaultWeight:1,description:"A ".concat(e.toLowerCase()," entry node, to easily include")+"contributions when other plugins don't add it to the graph."})}const Or=j()({CONTRIBUTION:Ar("CONTRIBUTION"),DEPENDENCY:Ar("DEPENDENCY"),REFERENCE:Ar("REFERENCE")}),Mr=Or.CONTRIBUTION,kr=Or.DEPENDENCY,xr=Or.REFERENCE,Nr=j()({forwardName:"depends on",backwardName:"is a dependency for",prefix:At.append(Er,"dependsOn"),defaultWeight:{forwards:1,backwards:1/16},description:"Connects an initiative to it's dependencies."}),Rr=j()({forwardName:"references",backwardName:"is referenced for",prefix:At.append(Er,"references"),defaultWeight:{forwards:.5,backwards:1/16},description:"Connects an initiative to it's references."}),Ir=j()({forwardName:"contributes to",backwardName:"is contributed to by",prefix:At.append(Er,"contributesTo"),defaultWeight:{forwards:1,backwards:1},description:"Connects an initiative to it's contributions."}),Cr=j()({forwardName:"contributes to entry",backwardName:"entry is contributed to by",prefix:At.append(Er,"contributesToEntry"),defaultWeight:{forwards:1/16,backwards:1},description:"Connects a contributor to an entry node."}),jr=j()({forwardName:"champions",backwardName:"is championed by",prefix:At.append(Er,"champions"),defaultWeight:{forwards:1,backwards:4},description:"Connects an initiative to users who champion it."}),Lr=j()({name:"Initiatives",nodePrefix:wr,edgePrefix:Er,nodeTypes:[Sr,Mr,kr,xr],edgeTypes:[Nr,Rr,Ir,jr,Cr],userTypes:[]});function Pr(){return new Set(["codecov","codecov-io","credbot","facebook-github-bot","gitcoinbot","gitter-badger","googlebot","greenkeeper","greenkeeperio-bot","metamaskbot","nodejs-github-bot","stickler-ci","tensorflow-gardener","tensorflow-jenkins","tensorflowbutler","github-actions","vercel","codecov-commenter","transifex-integration","dependabot"])}const Dr=Tt.fromParts(["sourcecred","github"]);function Fr(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Tt.append(Dr,...e)}const Br="REPO",Ur="ISSUE",qr="PULL",Hr="REVIEW",Gr="COMMENT",zr="COMMIT",Wr="USERLIKE",$r="USER",Vr="BOT",Yr=j()({base:Dr,repo:Fr(Br),issue:Fr(Ur),pull:Fr(qr),review:Fr(Hr),comment:Fr(Gr),commit:Fr(zr),userlike:Fr(Wr),user:Fr(Wr,$r),bot:Fr(Wr,Vr),reviewComment:Fr(Gr,Hr),issueComment:Fr(Gr,Ur),pullComment:Fr(Gr,qr)});function Kr(t){return Pr().has(t)?Tt.append(Yr.bot,t):Tt.append(Yr.user,t)}function Jr(t){function e(){return new Error("Bad address: ".concat(Tt.toString(t)))}if(!Tt.hasPrefix(t,Dr))throw e();const[r,n,i,...o]=Tt.toParts(t);switch(i){case Br:{if(2!==o.length)throw e();const[t,r]=o;return{type:Br,owner:t,name:r}}case Ur:{if(3!==o.length)throw e();const[t,r,n]=o;return{type:Ur,repo:{type:Br,owner:t,name:r},number:n}}case qr:{if(3!==o.length)throw e();const[t,r,n]=o;return{type:qr,repo:{type:Br,owner:t,name:r},number:n}}case Hr:{if(4!==o.length)throw e();const[t,r,n,i]=o;return{type:Hr,pull:{type:qr,repo:{type:Br,owner:t,name:r},number:n},id:i}}case Gr:{if(o.length<1)throw e();const[t,...r]=o;switch(t){case Ur:{if(4!==r.length)throw e();const[t,n,i,o]=r;return{type:Gr,parent:{type:Ur,repo:{type:Br,owner:t,name:n},number:i},id:o}}case qr:{if(4!==r.length)throw e();const[t,n,i,o]=r;return{type:Gr,parent:{type:qr,repo:{type:Br,owner:t,name:n},number:i},id:o}}case Hr:{if(5!==r.length)throw e();const[t,n,i,o,s]=r;return{type:Gr,parent:{type:Hr,pull:{type:qr,repo:{type:Br,owner:t,name:n},number:i},id:o},id:s}}default:throw e()}}case zr:{if(1!==o.length)throw e();const[t]=o;return{type:zr,id:t}}case Wr:{if(2!==o.length)throw e();const[t,r]=o;if("USER"!==t&&"BOT"!==t)throw e();return{type:Wr,subtype:t,login:r}}default:throw e()}}function Zr(t){switch(t.type){case Br:return Tt.append(Yr.repo,t.owner,t.name);case Ur:return Tt.append(Yr.issue,t.repo.owner,t.repo.name,t.number);case qr:return Tt.append(Yr.pull,t.repo.owner,t.repo.name,t.number);case Hr:return Tt.append(Yr.review,t.pull.repo.owner,t.pull.repo.name,t.pull.number,t.id);case Gr:switch(t.parent.type){case Ur:return Tt.append(Yr.issueComment,t.parent.repo.owner,t.parent.repo.name,t.parent.number,t.id);case qr:return Tt.append(Yr.pullComment,t.parent.repo.owner,t.parent.repo.name,t.parent.number,t.id);case Hr:return Tt.append(Yr.reviewComment,t.parent.pull.repo.owner,t.parent.pull.repo.name,t.parent.pull.number,t.parent.id,t.id);default:throw new Error("Bad comment parent type: ".concat(t.parent.type))}case Wr:switch(t.subtype){case"BOT":return Tt.append(Yr.bot,t.login);case"USER":return Tt.append(Yr.user,t.login);default:throw new Error(t.subtype)}case zr:return Tt.append(Yr.commit,t.id);default:throw new Error("Unexpected type ".concat(t.type))}}const Xr=Tt.fromParts(["sourcecred","git"]);const Qr=j()({base:Xr,commit:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Tt.append(Xr,...e)}("COMMIT")});function tn(t){switch(t.type){case"COMMIT":return Tt.append(Qr.commit,t.hash);default:throw new Error("Unexpected type ".concat(t.type))}}j()({APPROVED:"APPROVED",CHANGES_REQUESTED:"CHANGES_REQUESTED",COMMENTED:"COMMENTED",DISMISSED:"DISMISSED",PENDING:"PENDING"});const en=j()({CONFUSED:"CONFUSED",EYES:"EYES",HEART:"HEART",HOORAY:"HOORAY",LAUGH:"LAUGH",ROCKET:"ROCKET",THUMBS_DOWN:"THUMBS_DOWN",THUMBS_UP:"THUMBS_UP"}),rn="AUTHORS",nn="MERGED_AS",on="HAS_PARENT",sn="REFERENCES",an="REACTS",cn="CORRESPONDS_TO_COMMIT_TYPE",un=At.fromParts(["sourcecred","github"]);function ln(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return At.append(un,...e)}const hn=j()({base:un,authors:ln(rn),mergedAs:ln(nn),references:ln(sn),hasParent:ln(on),reacts:ln(an),reactsThumbsUp:ln(an,en.THUMBS_UP),reactsHeart:ln(an,en.HEART),reactsHooray:ln(an,en.HOORAY),reactsRocket:ln(an,en.ROCKET),correspondsToCommit:ln(cn)}),dn=j()({authors:(t,e,r)=>({address:yn({type:rn,author:t,content:e}),src:Zr(t),dst:Zr(e),timestampMs:r}),mergedAs:(t,e,r)=>({address:yn({type:nn,pull:t}),src:Zr(t),dst:Zr(e),timestampMs:r}),correspondsToCommit:(t,e,r)=>({address:yn({type:cn,githubCommit:t}),src:Zr(t),dst:tn(e),timestampMs:r}),hasParent:(t,e,r)=>({address:yn({type:on,child:t}),src:Zr(t),dst:Zr(e),timestampMs:r}),references:(t,e,r)=>({address:yn({type:sn,referrer:t,referent:e}),src:Zr(t),dst:Zr(e),timestampMs:r}),reacts:(t,e,r,n)=>({address:yn({type:an,user:e,reactionType:t,reactable:r}),src:Zr(e),dst:Zr(r),timestampMs:n})});function fn(t){const e=Tt.toParts(t);return[String(e.length),...e]}function pn(t,e){if(0===t.length)throw e();const[r,...n]=t,i=parseInt(r,10);if(isNaN(i))throw e();if(i>n.length)throw e();return{parts:n.slice(0,i),rest:n.slice(i)}}function mn(t,e){let r=t;const n=[];for(;r.length>0;){const{parts:t,rest:i}=pn(r,e);n.push(t),r=i}return n}function gn(t){function e(){return new Error("Bad address: ".concat(At.toString(t)))}if(!At.hasPrefix(t,un))throw e();const[r,n,i,...o]=At.toParts(t);switch(i){case rn:{const t=mn(o,e);if(2!==t.length)throw e();const[r,n]=t,i=Jr(Tt.fromParts(r)),s=Jr(Tt.fromParts(n));return{type:rn,author:i,content:s}}case nn:{const t=mn(o,e);if(1!==t.length)throw e();const[r]=t,n=Jr(Tt.fromParts(r));return{type:nn,pull:n}}case on:{const t=mn(o,e);if(1!==t.length)throw e();const[r]=t,n=Jr(Tt.fromParts(r));return{type:on,child:n}}case sn:{const t=mn(o,e);if(2!==t.length)throw e();const[r,n]=t,i=Jr(Tt.fromParts(r)),s=Jr(Tt.fromParts(n));return{type:sn,referrer:i,referent:s}}case an:{const[t,...r]=o,n=en[t];if(null==n)throw e();const i=mn(r,e);if(2!==i.length)throw e();const[s,a]=i,c=Jr(Tt.fromParts(s)),u=Jr(Tt.fromParts(a));return{type:an,reactionType:n,user:c,reactable:u}}default:throw e()}}function yn(t){switch(t.type){case rn:return At.append(hn.authors,...fn(Zr(t.author)),...fn(Zr(t.content)));case nn:return At.append(hn.mergedAs,...fn(Zr(t.pull)));case on:return At.append(hn.hasParent,...fn(Zr(t.child)));case sn:return At.append(hn.references,...fn(Zr(t.referrer)),...fn(Zr(t.referent)));case an:return At.append(hn.reacts,t.reactionType,...fn(Zr(t.user)),...fn(Zr(t.reactable)));case cn:return At.append(hn.correspondsToCommit,...fn(Zr(t.githubCommit)));default:throw new Error(t.type)}}var _n,vn,bn,wn,En,Sn,Tn,An,On;function Mn(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const kn=j()({name:"Repository",pluralName:"Repositories",prefix:Yr.repo,defaultWeight:0,description:"NodeType for a GitHub repository"}),xn=j()({name:"Issue",pluralName:"Issues",prefix:Yr.issue,defaultWeight:0,description:"NodeType for a GitHub issue"}),Nn=j()({name:"Pull request",pluralName:"Pull requests",prefix:Yr.pull,defaultWeight:4,description:"NodeType for a GitHub pull request"}),Rn=j()({name:"Pull request review",pluralName:"Pull request reviews",prefix:Yr.review,defaultWeight:1,description:"NodeType for a GitHub code review"}),In=j()({name:"Comment",pluralName:"Comments",prefix:Yr.comment,defaultWeight:0,description:"NodeType for a GitHub comment"}),Cn=j()({name:"Commit",pluralName:"Commits",prefix:Yr.commit,defaultWeight:0,description:"Represents a particular Git commit on GitHub, i.e. scoped to a particular repository"}),jn=j()({name:"User",pluralName:"Users",prefix:Yr.user,defaultWeight:0,description:"NodeType for a GitHub user"}),Ln=j()({name:"Bot",pluralName:"Bots",prefix:Yr.bot,defaultWeight:0,description:"NodeType for a GitHub bot account"}),Pn=j()([kn,xn,Nn,Rn,In,Cn,jn,Ln]),Dn=j()({forwardName:"authors",backwardName:"is authored by",defaultWeight:{forwards:.5,backwards:1},prefix:hn.authors,description:ge(_n||(_n=Mn(["    Connects a GitHub account to a post that they authored.\n\n    Examples of posts include issues, pull requests, and comments.\n  "],["\\\n    Connects a GitHub account to a post that they authored.\n\n    Examples of posts include issues, pull requests, and comments.\n  "])))}),Fn=j()({forwardName:"has parent",backwardName:"has child",defaultWeight:{forwards:1,backwards:1/4},prefix:hn.hasParent,description:ge(vn||(vn=Mn(["    Connects a GitHub entity to its child entities.\n\n    For example, a Repository has Issues and Pull Requests as children, and a\n    Pull Request has comments and reviews as children.\n  "],["\\\n    Connects a GitHub entity to its child entities.\n\n    For example, a Repository has Issues and Pull Requests as children, and a\n    Pull Request has comments and reviews as children.\n  "])))}),Bn=j()({forwardName:"merges",backwardName:"is merged by",defaultWeight:{forwards:.5,backwards:1},prefix:hn.mergedAs,description:ge(bn||(bn=Mn(["    Connects a GitHub pull request to the Git commit that it merges.\n  "],["\\\n    Connects a GitHub pull request to the Git commit that it merges.\n  "])))}),Un=j()({forwardName:"references",backwardName:"is referenced by",defaultWeight:{forwards:1,backwards:0},prefix:hn.references,description:ge(wn||(wn=Mn(['    Connects a GitHub post to an entity that it references.\n\n    For example, if you write a GitHub issue comment that says "thanks\n    @username for pull #1337", it will create references edges to both the user\n    @username, and to pull #1337 in the same repository.\n  '],['\\\n    Connects a GitHub post to an entity that it references.\n\n    For example, if you write a GitHub issue comment that says "thanks\n    @username for pull #1337", it will create references edges to both the user\n    @username, and to pull #1337 in the same repository.\n  '])))}),qn=j()({forwardName:"reacted  to",backwardName:"got  from",defaultWeight:{forwards:2,backwards:0},prefix:hn.reactsHeart,description:ge(En||(En=Mn(["    Connects users to posts to which they gave a  reaction.\n  "],["\\\n    Connects users to posts to which they gave a  reaction.\n  "])))}),Hn=j()({forwardName:"reacted  to",backwardName:"got  from",defaultWeight:{forwards:1,backwards:0},prefix:hn.reactsThumbsUp,description:ge(Sn||(Sn=Mn(["    Connects users to posts to which they gave a  reaction.\n  "],["\\\n    Connects users to posts to which they gave a  reaction.\n  "])))}),Gn=j()({forwardName:"reacted  to",backwardName:"got  from",defaultWeight:{forwards:4,backwards:0},prefix:hn.reactsHooray,description:ge(Tn||(Tn=Mn(["    Connects users to posts to which they gave a  reaction.\n  "],["\\\n    Connects users to posts to which they gave a  reaction.\n  "])))}),zn=j()({forwardName:"reacted  to",backwardName:"got  from",defaultWeight:{forwards:1,backwards:0},prefix:hn.reactsRocket,description:ge(An||(An=Mn(["    Connects users to posts to which they gave a  reaction.\n  "],["\\\n    Connects users to posts to which they gave a  reaction.\n  "])))}),Wn=j()({forwardName:"corresponds to Git commit",backwardName:"merged on GitHub as",defaultWeight:{forwards:1,backwards:1},prefix:hn.correspondsToCommit,description:ge(On||(On=Mn(["    Connects a commit on GitHub to the corresponding raw Git commit.\n  "],["\\\n    Connects a commit on GitHub to the corresponding raw Git commit.\n  "])))}),$n=j()([Dn,Fn,Bn,Un,Hn,qn,Gn,zn,Wn]),Vn=j()({name:"GitHub",nodePrefix:Yr.base,edgePrefix:hn.base,nodeTypes:Pn,edgeTypes:$n,userTypes:[jn]}),Yn=Tt.fromParts(["sourcecred","ethereum"]),Kn=At.fromParts(["sourcecred","ethereum"]),Jn=j()({name:"Ethereum Address Entry",pluralName:"Ethereum Address Entries",prefix:Yn,defaultWeight:0,description:"A Ethereum address, that can be utilized by a participantto receive grain payouts, and linked to their identity."}),Zn=j()({name:"Ethereum",nodePrefix:Yn,edgePrefix:Kn,nodeTypes:[Jn],edgeTypes:[],userTypes:[Jn]});class Xn{constructor(){var t,e,r;r=void 0,(e="_items")in(t=this)?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,this._items=[]}append(t){return this._items.push(t),this}extend(t){for(const e of t)this._items.push(e);return this}values(){return this._items.values()}toString(){return this._items.map(t=>U()(t)+"\n").join("")}static fromString(t,e){const r=new Xn;return function(t){if(0===(t=t.trimRight()).length)return[];if(t.startsWith("[")){if("[]"===t)return[];return t.split("\n").slice(1,-1).map(t=>t.endsWith(",")?t.slice(0,-1):t)}return t.split("\n")}(t).forEach((t,n)=>{let i;try{i=e.parse(JSON.parse(t))}catch(t){throw new Error("line ".concat(n+1," is not valid JSON: ").concat(t))}if(!i.ok)throw new Error("line ".concat(n+1,": ").concat(i.err));r.append(i.value)}),r}}function Qn(t){return Tt.append(Yn,t)}function ti(t){const e={description:t,address:Qn(t)};return{pluginName:pr("ethereum"),name:gr(t),type:"USER",alias:e}}function ei(t){return Array.from(t.values()).map(ti)}var ri=r(55);function ni(t){if(!Object(ri.isAddress)(t))throw new Error("not a valid ethereum address: ".concat(t));return Object(ri.toChecksumAddress)(t)}const ii=nt(K,ni),oi=_t("sourcecred/ethAddress",{"0.0.1":st(ii)}),si={parseAddress:ni,truncateEthAddress:function(t){const e=t.slice(0,6),r=t.slice(-4);return"".concat(e,"...").concat(r)},nodeAddressForEthAddress:Qn},ai={createIdentities:ei,createIdentity:ti},ci=ut({name:K,pluralName:K,prefix:Tt.parser,defaultWeight:J,description:K}),ui=ut({forwardName:K,backwardName:K,defaultWeight:qe,prefix:At.parser,description:K}),li=ut({name:K,nodePrefix:Tt.parser,edgePrefix:At.parser,nodeTypes:st(ci),edgeTypes:st(ui),userTypes:st(ci)});function hi(t){const e=He(),{nodeTypes:r,edgeTypes:n}=t;for(const{prefix:t,defaultWeight:n}of r)e.nodeWeights.set(t,n);for(const{prefix:t,defaultWeight:r}of n)e.edgeWeights.set(t,r);return e}var di=r(28);const fi=/[+/\-_]|[csfhuit]{2}/i;function pi(t){return!t.match(fi)}function mi(){const t=[...function(t){if("undefined"!=typeof window){if(window.crypto&&window.crypto.getRandomValues)return window.crypto.getRandomValues(t);if("object"==typeof window.msCrypto&&"function"==typeof window.msCrypto.getRandomValues)return window.msCrypto.getRandomValues(t)}{const e=("undefined"!=typeof require?require:r(120))("crypto");if(t.length>65536){const e=new Error;throw e.code=22,e.message="Quota exceeded: requested ".concat(t.length," > 65536 bytes"),e.name="QuotaExceededError",e}const n=e.randomBytes(t.length);return t.set(n),t}}(new Uint8Array(16))].map(t=>String.fromCharCode(t)).join("");return Object(di.encode)(t).slice(0,-2)}function gi(){for(let t=0;t<1024;t++){const t=mi();if(pi(t))return t}throw new Error("failed to generate clean UUID after ".concat(1024," attempts"))}function yi(t){if(t.endsWith("="))throw new Error("expected unpadded string: "+JSON.stringify(t));if(22!==t.length)throw new Error("expected length-22 string: "+JSON.stringify(t));if(!pi(t))throw new Error("unclean UUID: "+JSON.stringify(t)+JSON.stringify(fi.exec(t)));let e;try{e=Object(di.decode)(t)}catch(e){throw new Error("invalid base64 string: "+JSON.stringify(t))}if(Object(di.encode)(e)!==t+"==")throw new Error("non-canonical base64 string: "+JSON.stringify(t));return t}const _i=nt(K,yi),vi=nt(ft("//"),t=>yi(t)),bi=_i,wi=vi,Ei=ut({address:Tt.parser,description:K}),Si=j()({USER:"USER",PROJECT:"PROJECT",ORGANIZATION:"ORGANIZATION",BOT:"BOT"}),Ti=rt(Object.keys(Si)),Ai=Tt.fromParts(["sourcecred","core","IDENTITY"]);function Oi(t,e){const r=gi();try{Ti.parseOrThrow(t)}catch(e){throw new Error("invalid identity subtype: ".concat(t))}return{id:r,subtype:t,address:Tt.append(Ai,r),name:pr(e),aliases:[]}}function Mi(t){let{name:e,address:r}=t;return{address:r,description:e,timestampMs:null}}function ki(t){return t.map(t=>({replacement:Mi(t),old:t.aliases.map(t=>t.address)}))}const xi=ut({id:_i,subtype:Ti,name:yr,address:Tt.parser,aliases:st(Ei)});const Ni=rt(["BTC","FIL"]),Ri=nt(K,(function(t){const e=parseInt(t,10).toString();if(Number.isNaN(e)||e!==t)throw new Error("Invalid EVM chainId value: ".concat(t));return t})),Ii=ut({type:rt(["EVM"]),chainId:Ri,tokenAddress:ii}),Ci=ut({type:rt(["PROTOCOL"]),chainId:Ni}),ji=ot([Ii,Ci]);function Li(t){return U()(t)}function Pi(t,e){return e?Ii.parseOrThrow({type:"EVM",chainId:t,tokenAddress:e}):Ci.parseOrThrow({type:"PROTOCOL",chainId:t})}var Di=r(3),Fi=r.n(Di);function Bi(){return{name:"Grain",suffix:"g",decimals:2}}const Ui=nt(ut({},{currencyName:K,currencySuffix:K,decimalsToDisplay:J,integrationCurrency:ji}),(function(t){if("number"==typeof t.decimalsToDisplay&&(t.decimalsToDisplay>18||t.decimalsToDisplay<0))throw new Error("currencyConfig: decimalsToDisplay must be between 0-18");return{name:bt(t.currencyName,"Grain"),suffix:bt(t.currencySuffix,"g"),decimals:bt(t.decimalsToDisplay,2),integrationCurrency:t.integrationCurrency}})),qi="0",Hi=18,Gi=Fi()(10).pow(Hi).toString();function zi(t,e){return Fi()(t).plus(Fi()(e)).toString()}function Wi(t,e){return Fi()(t).subtract(Fi()(e)).toString()}function $i(t,e){return Fi()(t).times(Fi()(e)).toString()}function Vi(t,e){return Fi()(t).divide(Fi()(e)).toString()}function Yi(t,e){return Fi()(t).lt(Fi()(e))}function Ki(t,e){return Fi()(t).gt(Fi()(e))}function Ji(t,e){return Fi()(t).leq(Fi()(e))}function Zi(t,e){return Fi()(t).geq(Fi()(e))}function Xi(t,e){return Fi()(t).eq(Fi()(e))}function Qi(t){return Fi()(t).toString()}function to(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"g";if(!Number.isInteger(e)||e<0||e>Hi)throw new Error("decimals must be integer in range [0..".concat(Hi,"]"));const n="-"===t[0];let i=[...t];n&&(i=i.slice(1,i.length)),i.length<Hi+1&&(i=[...new Array(Hi+1-i.length).fill("0"),...i]);const o=i.length-Hi,s=Math.floor((o-1)/3);for(let t=0;t<s;t++)i.splice(o-3*t-3,0,",");return e>0&&i.splice(i.length-Hi,0,"."),i=i.slice(0,i.length-Hi+e),n&&i.splice(0,0,"-"),i.join("")+r}function eo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"g";return to(t,Hi,"").replace(/\.?0+$/,"")+e}function ro(t,e){if(!isFinite(e))throw new Error("invalid input: num is ".concat(e));if(1===e)return t;const r=Number(t)*e;return Fi()(Math.floor(r)).toString()}function no(t,e){return ro(t,1/e)}function io(t){if(!isFinite(t)||Math.floor(t)!==t)throw new Error("not an integer: ".concat(t));return Fi()(Gi).times(Fi()(t)).toString()}function oo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hi;if("string"!=typeof t)throw new Error("not a string: ".concat(t));if(!isFinite(t)||!t.trim())throw new Error("input not a valid number: ".concat(t));const[r="",n=""]=t.split(".");if(n.length>e)throw new Error("Provided decimals ".concat(n.length," exceed allowable precision ").concat(e));const i=n.padEnd(e,"0");return Fi()("".concat(r).concat(i)).toString()}const so=t=>eo(t,"").replace(/,/g,"");function ao(t){return ro(Gi,t)}function co(t,e){return Number(t)/Number(e)}function uo(t,e){if(Yi(t,qi))throw new Error("negative budget");const r=e.reduce((t,e)=>t+e,0);if(!isFinite(r))throw new Error("scores must all be finite, got: ".concat(r));if(r<=0)throw new Error("total score must be positive, got: ".concat(r));let n=r,i=t;const o=e.map(t=>{if(t<0)throw new Error("negative score: "+t);if(0===t||0===n)return"0";let e=t/n;e>1&&(e=1);const r=ro(i,e);return i=Wi(i,r),n-=t,r});if(Yi(i,"0"))throw new Error("invariant error: budget overspent: "+i);return Ki(i,"0")&&(o[o.length-1]=zi(o[o.length-1],i)),o}function lo(t){let e=Fi()(0);for(const r of t)e=e.add(Fi()(r));return e.toString()}const ho=nt(K,Qi);function fo(t,e){let r=0;if(void 0===e)for(let e of t)(e=+e)&&(r+=e);else{let n=-1;for(let i of t)(i=+e(i,++n,t))&&(r+=i)}return r}function po(t){if(Yi(t,qi))throw new Error("Grain amount must be nonnegative, got ".concat(t));return t}function mo(t){return po(io(t))}const go=nt(ho,po),yo=(nt(J,mo),ot([nt(Z,mo),nt(K,(function(t){return po(oo(t))}))]));nt(K,(function(t){return po(Qi(t))}));function _o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function vo(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_o(Object(r),!0).forEach((function(e){bo(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function bo(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const wo=ut({policyType:rt(["BALANCED"]),budget:ot([K,J]),numIntervalsLookback:J}),Eo=ut({policyType:rt(["BALANCED"]),budget:yo,numIntervalsLookback:J}),So=nt(ut({policyType:rt(["BALANCED"]),budget:go},{numIntervalsLookback:J}),t=>vo(vo({},t),{},{numIntervalsLookback:null!=t.numIntervalsLookback?t.numIntervalsLookback:0}));function To(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ao(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?To(Object(r),!0).forEach((function(e){Oo(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):To(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Oo(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Mo=ut({policyType:rt(["IMMEDIATE"]),budget:ot([K,J]),numIntervalsLookback:J}),ko=ut({policyType:rt(["IMMEDIATE"]),budget:yo,numIntervalsLookback:J}),xo=nt(ut({policyType:rt(["IMMEDIATE"]),budget:go},{numIntervalsLookback:J}),t=>Ao(Ao({},t),{},{numIntervalsLookback:null!=t.numIntervalsLookback?t.numIntervalsLookback:1}));function No(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ro(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?No(Object(r),!0).forEach((function(e){Io(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):No(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Io(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Co=ut({policyType:rt(["RECENT"]),budget:ot([K,J]),discount:nt(J,Po)},{exclusions:st(wi)}),jo=nt(ut({policyType:rt(["RECENT"]),budget:yo,discount:nt(J,Po)},{exclusions:st(wi)}),t=>Ro(Ro({},t),{},{exclusions:t.exclusions||[]})),Lo=nt(ut({policyType:rt(["RECENT"]),budget:go,discount:nt(J,Po)},{exclusions:st(wi)}),t=>Ro(Ro({},t),{},{exclusions:t.exclusions||[]}));function Po(t){if(t<0||t>1)throw new Error("Discount must be in range [0,1]");return t}function Do(t,e){for(const{id:r}of e)if(r===t.recipient)return[{id:r,amount:t.budget}];throw new Error("no active grain account for identity: ".concat(t.recipient))}const Fo=ut({policyType:rt(["SPECIAL"]),budget:ot([K,J]),memo:K,recipient:_i}),Bo=ut({policyType:rt(["SPECIAL"]),budget:yo,memo:K,recipient:_i}),Uo=ut({policyType:rt(["SPECIAL"]),budget:go,memo:K,recipient:_i});const qo=ot([wo,Mo,Co,Fo]),Ho=ot([Eo,ko,jo,Bo]),Go=ot([So,xo,Lo,Uo]);function zo(t){if(Go.parseOrThrow(t),Yi(t.budget,qi))throw new Error("invalid budget: ".concat(t.budget));return t}function Wo(t){const e=lo(t.receipts.map(t=>t.amount));if(e!==t.policy.budget)throw new Error("allocation has budget of ".concat(t.policy.budget," but distributed ").concat(e));return t}function $o(t,e,r){switch(t.policyType){case"IMMEDIATE":return function(t,e,r){if(t.numIntervalsLookback<1)throw new Error("numIntervalsLookback must be at least 1, got ".concat(t.numIntervalsLookback));if(!Number.isInteger(t.numIntervalsLookback))throw new Error("numIntervalsLookback must be an integer, got ".concat(t.numIntervalsLookback));const n=e.withTimeScopeFromLookback(r,t.numIntervalsLookback).activeParticipants(),i=n.map(t=>t.cred),o=uo(t.budget,i);return n.map((t,e)=>{let{identity:r}=t;return{id:r.id,amount:o[e]}})}(t,e,r);case"RECENT":return function(t,e,r){const n=e.withTimeScopeFromLookback(r,0).activeParticipants().filter(e=>!t.exclusions.includes(e.identity.id)),i=n.map(e=>e.credPerInterval.reduce((e,r)=>e*(1-t.discount)+r,0)),o=uo(t.budget,i);return n.map((t,e)=>{let{identity:r}=t;return{id:r.id,amount:o[e]}})}(t,e,r);case"BALANCED":return function(t,e,r){if(t.numIntervalsLookback<0)throw new Error("numIntervalsLookback must be at least 0, got ".concat(t.numIntervalsLookback));if(!Number.isInteger(t.numIntervalsLookback))throw new Error("numIntervalsLookback must be an integer, got ".concat(t.numIntervalsLookback));const n=e.withTimeScopeFromLookback(r,t.numIntervalsLookback).activeParticipants(),i=fo(n.map(t=>t.cred)),o=ro(zi(lo(n.map(t=>t.grainEarned)),t.budget),1/i),s=n.map(t=>{const e=fo(t.credPerInterval),r=ro(o,e);return Ki(r,t.grainEarned)?Wi(r,t.grainEarned):qi}).map(t=>Number(t)),a=uo(t.budget,s);return n.map((t,e)=>{let{identity:r}=t;return{id:r.id,amount:a[e]}})}(t,e,r);case"SPECIAL":return Do(t,e.activeParticipants().map(t=>t.identity));default:throw new Error("Unknown policyType: ".concat(t.policyType))}}const Vo=ut({id:_i,amount:ho}),Yo=ut({policy:Go,id:_i,receipts:st(Vo)}),Ko=ut({id:_i,allocations:st(Yo),credTimestamp:J});function Jo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Zo(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Jo(Object(r),!0).forEach((function(e){Xo(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jo(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Xo(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class Qo{constructor(){Xo(this,"_ledgerEventLog",void 0),Xo(this,"_nameToId",void 0),Xo(this,"_lowercaseNames",void 0),Xo(this,"_aliasAddressToIdentity",void 0),Xo(this,"_accounts",void 0),Xo(this,"_allocations",void 0),Xo(this,"_distributions",void 0),Xo(this,"_allocationsToDistributions",void 0),Xo(this,"_latestTimestamp",-1/0),Xo(this,"_lastDistributionTimestamp",null),Xo(this,"_shouldTrackGrainIntegration",!1),Xo(this,"_grainIntegrationStatuses",void 0),this._ledgerEventLog=new Xn,this._nameToId=new Map,this._lowercaseNames=new Set,this._aliasAddressToIdentity=new Map,this._accounts=new Map,this._allocations=new Map,this._distributions=new Map,this._allocationsToDistributions=new Map,this._grainIntegrationStatuses=new Map}accounts(){return Array.from(new Set(this._accounts.values()))}account(t){return this._mutableAccount(t)}_mutableAccount(t){const e=this._accounts.get(t);if(null==e)throw new Error("no Account for identity: ".concat(t));return e}nameAvailable(t){return pr(t),!this._lowercaseNames.has(t.toLowerCase())}accountByAddress(t){const e=this._aliasAddressToIdentity.get(t);return null==e?null:this.account(e)}accountByName(t){const e=this._nameToId.get(pr(t));return null==e?null:this.account(e)}allocation(t){const e=this._allocations.get(t);if(null==e)throw new Error("no Allocation for id: ".concat(t));return e}allocations(){return this._allocations.values()}distribution(t){const e=this._distributions.get(t);if(null==e)throw new Error("no Distribution for id: ".concat(t));return e}distributions(){return this._distributions.values()}distributionByAllocationId(t){const e=this._allocationsToDistributions.get(t);if(null==e)throw new Error("no Distribution for allocation id: ".concat(t));return this.distribution(e)}createIdentity(t,e){const r=Oi(t,e),n={type:"CREATE_IDENTITY",identity:r};return this._createAndProcessEvent(n),vt(this._nameToId.get(r.name))}_createIdentity(t){let{identity:e}=t;if(this._nameToId.has(e.name))throw new Error("createIdentity: name already taken: ".concat(e.name));if(this._lowercaseNames.has(e.name.toLowerCase()))throw new Error("createIdentity: already have same name with different capitalization: ".concat(e.name));if(0!==e.aliases.length)throw new Error("createIdentity: new identities may not have aliases");if(this._aliasAddressToIdentity.has(e.address))throw new Error("createIdentity: innate address already claimed ".concat(e.id));this._nameToId.set(e.name,e.id),this._lowercaseNames.add(e.name.toLowerCase()),this._aliasAddressToIdentity.set(e.address,e.id),this._accounts.set(e.id,{balance:qi,paid:qi,identity:e,active:!1,allocationHistory:[],payoutAddresses:new Map,mergedIdentityIds:[e.id]})}mergeIdentities(t){const{base:e,target:r}=t,n={type:"MERGE_IDENTITIES",base:e,target:r};return this._createAndProcessEvent(n),this}_mergeIdentities(t){let{base:e,target:r}=t;const n=this._mutableAccount(e),i=this.account(r),o=n.identity,s=i.identity;if(e===r)throw new Error("tried to merge identity @".concat(o.name," with itself"));const a=o.aliases.slice(),c=t=>{a.push(t),this._aliasAddressToIdentity.set(t.address,o.id)};s.aliases.forEach(t=>c(t));const u={address:s.address,description:"identity @".concat(s.name," (id: ").concat(s.id,")")};c(u);const l=Zo(Zo({},o),{},{aliases:a});n.identity=l,n.paid=zi(n.paid,i.paid),n.allocationHistory=n.allocationHistory.concat(i.allocationHistory).sort((t,e)=>t.credTimestampMs-e.credTimestampMs),n.payoutAddresses=new Map([...i.payoutAddresses.entries(),...n.payoutAddresses.entries()]),n.balance=zi(n.balance,i.balance),i.mergedIdentityIds.forEach(t=>{this._accounts.set(t,n),n.mergedIdentityIds.push(t)}),this._nameToId.delete(s.name),this._lowercaseNames.delete(s.name.toLowerCase())}renameIdentity(t,e){return this._createAndProcessEvent({type:"RENAME_IDENTITY",identityId:t,newName:pr(e)}),this}_renameIdentity(t){let{identityId:e,newName:r}=t;if(!this._accounts.has(e))throw new Error("renameIdentity: no identity matches id ".concat(e));const n=this._mutableAccount(e),i=n.identity,o=i.name;if(o===r)throw new Error("renameIdentity: identity already has name ".concat(r));if(this._nameToId.has(r))throw new Error("renameIdentity: conflict on name ".concat(r));const s=r.toLowerCase();if(this._lowercaseNames.has(s)&&s!==o.toLowerCase())throw new Error("renameIdentity: already have same name with different capitalization: ".concat(r));const a={id:e,name:r,subtype:i.subtype,address:i.address,aliases:i.aliases};this._nameToId.delete(i.name),this._nameToId.set(r,e),this._lowercaseNames.delete(i.name.toLowerCase()),this._lowercaseNames.add(r.toLowerCase()),n.identity=a}addAlias(t,e){return this._createAndProcessEvent({type:"ADD_ALIAS",identityId:t,alias:e}),this}_addAlias(t){let{identityId:e,alias:r}=t;if(!this._accounts.has(e))throw new Error("addAlias: no identity matches id ".concat(e));const n=this._mutableAccount(e),i=n.identity;if(-1!==i.aliases.map(t=>t.address).indexOf(r.address))throw new Error("addAlias: identity already has alias: ".concat(i.name,", ").concat(Tt.toString(r.address)));if(this._aliasAddressToIdentity.has(r.address))throw new Error("addAlias: alias ".concat(Tt.toString(r.address)," already bound"));this._aliasAddressToIdentity.set(r.address,e);const o=i.aliases.slice();o.push(r);const s={id:i.id,name:i.name,subtype:i.subtype,aliases:o,address:i.address};n.identity=s}activate(t){if(!this._accounts.has(t))throw new Error("identity ".concat(t," not found"));const{active:e}=this.account(t);return e||this._createAndProcessEvent({type:"TOGGLE_ACTIVATION",identityId:t}),this}deactivate(t){if(!this._accounts.has(t))throw new Error("identity ".concat(t," not found"));const{active:e}=this.account(t);return e?(this._createAndProcessEvent({type:"TOGGLE_ACTIVATION",identityId:t}),this):this}_toggleActivation(t){let{identityId:e}=t;const r=this._mutableAccount(e);r.active=!r.active}distributeGrain(t){return this._createAndProcessEvent({type:"DISTRIBUTE_GRAIN",distribution:t}),this}_distributeGrain(t){let{distribution:e}=t;const r=Ko.parse(e);if(!r.ok)throw new Error("invalid distribution: ".concat(r.err));for(const{receipts:t}of e.allocations)for(const{id:e,amount:r}of t){if(!this._accounts.has(e))throw new Error("cannot distribute; invalid id ".concat(e));if(Yi(r,qi))throw new Error("negative Grain amount: ".concat(r));const{active:t}=this.account(e);if(!t)throw new Error("attempt to distribute to inactive account: ".concat(e))}this._distributions.set(e.id,e);for(const t of e.allocations){this._allocations.set(t.id,t),this._allocationsToDistributions.set(t.id,e.id);for(const r of t.receipts)this._allocateGrain({grainReceipt:r,allocationId:t.id,credTimestampMs:e.credTimestamp})}(null===this._lastDistributionTimestamp||e.credTimestamp>this._lastDistributionTimestamp)&&(this._lastDistributionTimestamp=e.credTimestamp),this._shouldTrackGrainIntegration&&this._grainIntegrationStatuses.set(e.id,!1)}transferGrain(t){const{from:e,to:r,amount:n,memo:i}=t;return this._createAndProcessEvent({from:e,to:r,amount:n,memo:i,type:"TRANSFER_GRAIN"}),this}_transferGrain(t){let{from:e,to:r,amount:n}=t;if(!this._accounts.has(e))throw new Error("invalid sender: ".concat(e));if(!this._accounts.has(r))throw new Error("invalid recipient: ".concat(r));const i=this._mutableAccount(e),o=this._mutableAccount(r);if(!i.active)throw new Error("transfer from inactive account: ".concat(e));if(!o.active)throw new Error("transfer to inactive account: ".concat(r));if(Yi(n,qi))throw new Error("cannot transfer negative Grain amount: ".concat(n));if(Ki(n,i.balance))throw new Error("transferGrain: ".concat(e," has insufficient balance for transfer: ").concat(n," > ").concat(i.balance));i.balance=Wi(i.balance,n),o.balance=zi(o.balance,n)}changeIdentityType(t,e){return this._createAndProcessEvent({type:"CHANGE_IDENTITY_TYPE",newType:e,identityId:t}),this}_changeIdentityType(t){let{identityId:e,newType:r}=t;if(!Ti.parse(r).ok)throw new Error("changeIdentityType: invalid type ".concat(r));if(!this._accounts.has(e))throw new Error("changeIdentityType: no identity matches id ".concat(e));const n=this._mutableAccount(e),i=n.identity;if(i.subtype===r)throw new Error("changeIdentityType: identity already has type ".concat(r));const o={id:e,name:i.name,subtype:r,address:i.address,aliases:i.aliases};n.identity=o}setPayoutAddress(t,e,r,n){return this._createAndProcessEvent({type:"SET_PAYOUT_ADDRESS",id:t,payoutAddress:e,currency:Pi(r,n)}),this}_setPayoutAddress(t){let{id:e,currency:r,payoutAddress:n}=t;if(!this._accounts.has(e))throw new Error("setPayoutAddress: no identity matches id ".concat(e));const i=this._mutableAccount(e),o=ji.parse(r);if(!o.ok)throw new Error("Invalid chainId or tokenAddress:\n        ".concat(o.err));if(null===n)i.payoutAddresses.delete(Li(o.value));else{if(!ii.parse(n).ok)throw new Error("setPayoutAddress: invalid payout address: ".concat(n));i.payoutAddresses.set(Li(o.value),n)}}enableIntegrationTracking(){return this._shouldTrackGrainIntegration||this._createAndProcessEvent({type:"ENABLE_GRAIN_INTEGRATION"}),this}disableIntegrationTracking(){return this._shouldTrackGrainIntegration&&this._createAndProcessEvent({type:"DISABLE_GRAIN_INTEGRATION"}),this}_enableGrainIntegrationTracking(t){this._shouldTrackGrainIntegration=!0}_disableGrainIntegrationTracking(t){this._shouldTrackGrainIntegration=!1,this._grainIntegrationStatuses.clear()}markDistributionExecuted(t){if(!this._shouldTrackGrainIntegration)throw new Error("integration tracking not enabled");if(void 0===this._grainIntegrationStatuses.get(t))throw new Error("Distribution not eligible to executed");if(!0===this._grainIntegrationStatuses.get(t))throw new Error("Integration has already executed this distribution");return this._createAndProcessEvent({type:"MARK_DISTRIBUTION_EXECUTED",id:t}),this}_markDistributionExecuted(t){let{id:e}=t;this._grainIntegrationStatuses.set(e,!0)}trackedDistributions(){return this._grainIntegrationStatuses.keys()}isGrainIntegrationExecuted(t){return this._grainIntegrationStatuses.get(t)}eventLog(){return Array.from(this._ledgerEventLog.values())}static fromEventLog(t){const e=new Qo;for(const r of t)e._processEvent(r);return e}serialize(){return this._ledgerEventLog.toString()}static parse(t){const e=Xn.fromString(t,ls);return Qo.fromEventLog(Array.from(e.values()))}lastDistributionTimestamp(){return this._lastDistributionTimestamp}_processAction(t){switch(t.type){case"CREATE_IDENTITY":this._createIdentity(t);break;case"RENAME_IDENTITY":this._renameIdentity(t);break;case"ADD_ALIAS":this._addAlias(t);break;case"MERGE_IDENTITIES":this._mergeIdentities(t);break;case"TOGGLE_ACTIVATION":this._toggleActivation(t);break;case"DISTRIBUTE_GRAIN":this._distributeGrain(t);break;case"TRANSFER_GRAIN":this._transferGrain(t);break;case"CHANGE_IDENTITY_TYPE":this._changeIdentityType(t);break;case"SET_PAYOUT_ADDRESS":this._setPayoutAddress(t);break;case"ENABLE_GRAIN_INTEGRATION":this._enableGrainIntegrationTracking(t);break;case"DISABLE_GRAIN_INTEGRATION":this._disableGrainIntegrationTracking(t);break;case"MARK_DISTRIBUTION_EXECUTED":this._markDistributionExecuted(t);break;default:throw new Error("Unknown type: ".concat(t.type))}}_processEvent(t){const{action:e,ledgerTimestamp:r}=t;if(null==r||!isFinite(r))throw new Error("ledger: invalid timestamp ".concat(r));if(r<this._latestTimestamp)throw new Error("ledger: out-of-order timestamp: ".concat(r," < ").concat(this._latestTimestamp));this._processAction(e),this._latestTimestamp=r,this._ledgerEventLog.append(t)}_createAndProcessEvent(t){const e={ledgerTimestamp:hs(),action:t,version:"1",uuid:gi()};this._processEvent(e)}_allocateGrain(t){const e=this._mutableAccount(t.grainReceipt.id);e.paid=zi(t.grainReceipt.amount,e.paid),e.allocationHistory.push(t),e.balance=zi(t.grainReceipt.amount,e.balance)}}const ts=ut({type:rt(["CREATE_IDENTITY"]),identity:xi}),es=ut({type:rt(["RENAME_IDENTITY"]),identityId:_i,newName:yr}),rs=ut({type:rt(["CHANGE_IDENTITY_TYPE"]),identityId:_i,newType:Ti}),ns=ut({type:rt(["ADD_ALIAS"]),identityId:_i,alias:Ei}),is=ut({type:rt(["MERGE_IDENTITIES"]),base:_i,target:_i}),os=ut({type:rt(["TOGGLE_ACTIVATION"]),identityId:_i}),ss=ut({type:rt(["DISTRIBUTE_GRAIN"]),distribution:Ko}),as=ut({type:rt(["SET_PAYOUT_ADDRESS"]),id:_i,currency:ji,payoutAddress:ii}),cs=ut({type:rt(["TRANSFER_GRAIN"]),from:_i,to:_i,amount:ho,memo:ot([K,Q])}),us=ot([ts,es,rs,ns,is,os,ss,cs,as,ut({type:rt(["ENABLE_GRAIN_INTEGRATION"])}),ut({type:rt(["DISABLE_GRAIN_INTEGRATION"])}),ut({type:rt(["MARK_DISTRIBUTION_EXECUTED"]),id:_i})]),ls=ut({action:us,ledgerTimestamp:J,version:rt(["1"]),uuid:_i}),hs=()=>Date.now(),ds=st(ut({name:yr,pluginName:yr,alias:Ei,type:Ti}));function fs(t,e){const r=t.accountByAddress(e.alias.address);if(null!=r)return r.identity.id;const n=function(t,e){if(e(t.name))return t.name;const r=pr(t.name+"-"+t.pluginName);if(e(r))return r;for(let t=1;t<100;t++){const n=pr(r+"-"+t);if(e(n))return n}throw new Error("unable to find an identity name for ".concat(U()(t)))}(e,e=>t.nameAvailable(e)),i=t.createIdentity(e.type,n);return t.addAlias(i,e.alias),i}var ps=r(1),ms=r.n(ps);const gs={type:"sourcecred/weightedGraph",version:"0.1.0"};function ys(){return{graph:new kt,weights:He()}}function _s(t){const e=t.graph.toJSON(),r=Ye(t.weights);return mt(gs,{graphJSON:e,weightsJSON:r})}function vs(t){const{graphJSON:e,weightsJSON:r}=gt(gs,t);return{graph:kt.fromJSON(e),weights:Ke(r)}}function bs(t){return{graph:kt.merge(t.map(t=>t.graph)),weights:ze(t.map(t=>t.weights))}}function ws(t,e){const r=ze([t.weights,e],{nodeResolver:(t,e)=>e,edgeResolver:(t,e)=>e});return{graph:t.graph,weights:r}}r(14);var Es=r(11);let Ss,Ts;if("undefined"!=typeof window&&"undefined"==typeof process){if(!window.TextEncoder||!window.TextDecoder)throw new Error("No Encoder classes available.");Ts=window.TextDecoder,Ss=window.TextEncoder}else Ts=Es.TextDecoder||globalThis.TextDecoder,Ss=Es.TextEncoder||globalThis.TextEncoder;const As=t=>(new Ts).decode(t),Os=t=>(new Ss).encode(t),Ms=t=>"ENOENT"===t.code||404===t.number;async function ks(t,e,r){const n=await t.get(e);return r.parseOrThrow(JSON.parse(As(n)))}async function xs(t,e,r,n){try{const n=await t.get(e);return r.parseOrThrow(JSON.parse(As(n)))}catch(t){if(Ms(t))return console.log("File not found at path: ".concat(e,". Defaulting.")),n();throw t}}function Ns(t){let e=t.length;for(;--e>=0;)t[e]=0}const Rs=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Is=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Cs=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),js=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ls=new Array(576);Ns(Ls);const Ps=new Array(60);Ns(Ps);const Ds=new Array(512);Ns(Ds);const Fs=new Array(256);Ns(Fs);const Bs=new Array(29);Ns(Bs);const Us=new Array(30);function qs(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let Hs,Gs,zs;function Ws(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}Ns(Us);const $s=t=>t<256?Ds[t]:Ds[256+(t>>>7)],Vs=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},Ys=(t,e,r)=>{t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,Vs(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},Ks=(t,e,r)=>{Ys(t,r[2*e],r[2*e+1])},Js=(t,e)=>{let r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1},Zs=(t,e,r)=>{const n=new Array(16);let i,o,s=0;for(i=1;i<=15;i++)n[i]=s=s+r[i-1]<<1;for(o=0;o<=e;o++){let e=t[2*o+1];0!==e&&(t[2*o]=Js(n[e]++,e))}},Xs=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},Qs=t=>{t.bi_valid>8?Vs(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},ta=(t,e,r,n)=>{const i=2*e,o=2*r;return t[i]<t[o]||t[i]===t[o]&&n[e]<=n[r]},ea=(t,e,r)=>{const n=t.heap[r];let i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&ta(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!ta(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},ra=(t,e,r)=>{let n,i,o,s,a=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*a]<<8|t.pending_buf[t.d_buf+2*a+1],i=t.pending_buf[t.l_buf+a],a++,0===n?Ks(t,i,e):(o=Fs[i],Ks(t,o+256+1,e),s=Rs[o],0!==s&&(i-=Bs[o],Ys(t,i,s)),n--,o=$s(n),Ks(t,o,r),s=Is[o],0!==s&&(n-=Us[o],Ys(t,n,s)))}while(a<t.last_lit);Ks(t,256,e)},na=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems;let s,a,c,u=-1;for(t.heap_len=0,t.heap_max=573,s=0;s<o;s++)0!==r[2*s]?(t.heap[++t.heap_len]=u=s,t.depth[s]=0):r[2*s+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=u<2?++u:0,r[2*c]=1,t.depth[c]=0,t.opt_len--,i&&(t.static_len-=n[2*c+1]);for(e.max_code=u,s=t.heap_len>>1;s>=1;s--)ea(t,r,s);c=o;do{s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],ea(t,r,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,r[2*c]=r[2*s]+r[2*a],t.depth[c]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,r[2*s+1]=r[2*a+1]=c,t.heap[1]=c++,ea(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,c=e.stat_desc.max_length;let u,l,h,d,f,p,m=0;for(d=0;d<=15;d++)t.bl_count[d]=0;for(r[2*t.heap[t.heap_max]+1]=0,u=t.heap_max+1;u<573;u++)l=t.heap[u],d=r[2*r[2*l+1]+1]+1,d>c&&(d=c,m++),r[2*l+1]=d,l>n||(t.bl_count[d]++,f=0,l>=a&&(f=s[l-a]),p=r[2*l],t.opt_len+=p*(d+f),o&&(t.static_len+=p*(i[2*l+1]+f)));if(0!==m){do{for(d=c-1;0===t.bl_count[d];)d--;t.bl_count[d]--,t.bl_count[d+1]+=2,t.bl_count[c]--,m-=2}while(m>0);for(d=c;0!==d;d--)for(l=t.bl_count[d];0!==l;)h=t.heap[--u],h>n||(r[2*h+1]!==d&&(t.opt_len+=(d-r[2*h+1])*r[2*h],r[2*h+1]=d),l--)}})(t,e),Zs(r,u,t.bl_count)},ia=(t,e,r)=>{let n,i,o=-1,s=e[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=s,s=e[2*(n+1)+1],++a<c&&i===s||(a<u?t.bl_tree[2*i]+=a:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,o=i,0===s?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4))},oa=(t,e,r)=>{let n,i,o=-1,s=e[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),n=0;n<=r;n++)if(i=s,s=e[2*(n+1)+1],!(++a<c&&i===s)){if(a<u)do{Ks(t,i,t.bl_tree)}while(0!=--a);else 0!==i?(i!==o&&(Ks(t,i,t.bl_tree),a--),Ks(t,16,t.bl_tree),Ys(t,a-3,2)):a<=10?(Ks(t,17,t.bl_tree),Ys(t,a-3,3)):(Ks(t,18,t.bl_tree),Ys(t,a-11,7));a=0,o=i,0===s?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4)}};let sa=!1;const aa=(t,e,r,n)=>{Ys(t,0+(n?1:0),3),((t,e,r,n)=>{Qs(t),n&&(Vs(t,r),Vs(t,~r)),t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r})(t,e,r,!0)};var ca={_tr_init:t=>{sa||((()=>{let t,e,r,n,i;const o=new Array(16);for(r=0,n=0;n<28;n++)for(Bs[n]=r,t=0;t<1<<Rs[n];t++)Fs[r++]=n;for(Fs[r-1]=n,i=0,n=0;n<16;n++)for(Us[n]=i,t=0;t<1<<Is[n];t++)Ds[i++]=n;for(i>>=7;n<30;n++)for(Us[n]=i<<7,t=0;t<1<<Is[n]-7;t++)Ds[256+i++]=n;for(e=0;e<=15;e++)o[e]=0;for(t=0;t<=143;)Ls[2*t+1]=8,t++,o[8]++;for(;t<=255;)Ls[2*t+1]=9,t++,o[9]++;for(;t<=279;)Ls[2*t+1]=7,t++,o[7]++;for(;t<=287;)Ls[2*t+1]=8,t++,o[8]++;for(Zs(Ls,287,o),t=0;t<30;t++)Ps[2*t+1]=5,Ps[2*t]=Js(t,5);Hs=new qs(Ls,Rs,257,286,15),Gs=new qs(Ps,Is,0,30,15),zs=new qs(new Array(0),Cs,0,19,7)})(),sa=!0),t.l_desc=new Ws(t.dyn_ltree,Hs),t.d_desc=new Ws(t.dyn_dtree,Gs),t.bl_desc=new Ws(t.bl_tree,zs),t.bi_buf=0,t.bi_valid=0,Xs(t)},_tr_stored_block:aa,_tr_flush_block:(t,e,r,n)=>{let i,o,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),na(t,t.l_desc),na(t,t.d_desc),s=(t=>{let e;for(ia(t,t.dyn_ltree,t.l_desc.max_code),ia(t,t.dyn_dtree,t.d_desc.max_code),na(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*js[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==e?aa(t,e,r,n):4===t.strategy||o===i?(Ys(t,2+(n?1:0),3),ra(t,Ls,Ps)):(Ys(t,4+(n?1:0),3),((t,e,r,n)=>{let i;for(Ys(t,e-257,5),Ys(t,r-1,5),Ys(t,n-4,4),i=0;i<n;i++)Ys(t,t.bl_tree[2*js[i]+1],3);oa(t,t.dyn_ltree,e-1),oa(t,t.dyn_dtree,r-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),ra(t,t.dyn_ltree,t.dyn_dtree)),Xs(t),n&&Qs(t)},_tr_tally:(t,e,r)=>(t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(Fs[r]+256+1)]++,t.dyn_dtree[2*$s(e)]++),t.last_lit===t.lit_bufsize-1),_tr_align:t=>{Ys(t,2,3),Ks(t,256,Ls),(t=>{16===t.bi_valid?(Vs(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}};var ua=(t,e,r,n)=>{let i=65535&t|0,o=t>>>16&65535|0,s=0;for(;0!==r;){s=r>2e3?2e3:r,r-=s;do{i=i+e[n++]|0,o=o+i|0}while(--s);i%=65521,o%=65521}return i|o<<16|0};const la=new Uint32Array((()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e})());var ha=(t,e,r,n)=>{const i=la,o=n+r;t^=-1;for(let r=n;r<o;r++)t=t>>>8^i[255&(t^e[r])];return-1^t},da={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},fa={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:pa,_tr_stored_block:ma,_tr_flush_block:ga,_tr_tally:ya,_tr_align:_a}=ca,{Z_NO_FLUSH:va,Z_PARTIAL_FLUSH:ba,Z_FULL_FLUSH:wa,Z_FINISH:Ea,Z_BLOCK:Sa,Z_OK:Ta,Z_STREAM_END:Aa,Z_STREAM_ERROR:Oa,Z_DATA_ERROR:Ma,Z_BUF_ERROR:ka,Z_DEFAULT_COMPRESSION:xa,Z_FILTERED:Na,Z_HUFFMAN_ONLY:Ra,Z_RLE:Ia,Z_FIXED:Ca,Z_DEFAULT_STRATEGY:ja,Z_UNKNOWN:La,Z_DEFLATED:Pa}=fa,Da=(t,e)=>(t.msg=da[e],e),Fa=t=>(t<<1)-(t>4?9:0),Ba=t=>{let e=t.length;for(;--e>=0;)t[e]=0};let Ua=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask;const qa=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))},Ha=(t,e)=>{ga(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,qa(t.strm)},Ga=(t,e)=>{t.pending_buf[t.pending++]=e},za=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Wa=(t,e,r,n)=>{let i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),1===t.state.wrap?t.adler=ua(t.adler,e,i,r):2===t.state.wrap&&(t.adler=ha(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},$a=(t,e)=>{let r,n,i=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match;const c=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,u=t.window,l=t.w_mask,h=t.prev,d=t.strstart+258;let f=u[o+s-1],p=u[o+s];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do{if(r=e,u[r+s]===p&&u[r+s-1]===f&&u[r]===u[o]&&u[++r]===u[o+1]){o+=2,r++;do{}while(u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&o<d);if(n=258-(d-o),o=d-258,n>s){if(t.match_start=e,s=n,n>=a)break;f=u[o+s-1],p=u[o+s]}}}while((e=h[e&l])>c&&0!=--i);return s<=t.lookahead?s:t.lookahead},Va=t=>{const e=t.w_size;let r,n,i,o,s;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-262)){t.window.set(t.window.subarray(e,e+e),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,n=t.hash_size,r=n;do{i=t.head[--r],t.head[r]=i>=e?i-e:0}while(--n);n=e,r=n;do{i=t.prev[--r],t.prev[r]=i>=e?i-e:0}while(--n);o+=e}if(0===t.strm.avail_in)break;if(n=Wa(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=n,t.lookahead+t.insert>=3)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=Ua(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=Ua(t,t.ins_h,t.window[s+3-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)},Ya=(t,e)=>{let r,n;for(;;){if(t.lookahead<262){if(Va(t),t.lookahead<262&&e===va)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=Ua(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-262&&(t.match_length=$a(t,r)),t.match_length>=3)if(n=ya(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=Ua(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Ua(t,t.ins_h,t.window[t.strstart+1]);else n=ya(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Ha(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===Ea?(Ha(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Ha(t,!1),0===t.strm.avail_out)?1:2},Ka=(t,e)=>{let r,n,i;for(;;){if(t.lookahead<262){if(Va(t),t.lookahead<262&&e===va)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=Ua(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-262&&(t.match_length=$a(t,r),t.match_length<=5&&(t.strategy===Na||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=ya(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=Ua(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Ha(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(n=ya(t,0,t.window[t.strstart-1]),n&&Ha(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=ya(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===Ea?(Ha(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Ha(t,!1),0===t.strm.avail_out)?1:2};function Ja(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}const Za=[new Ja(0,0,0,0,(t,e)=>{let r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Va(t),0===t.lookahead&&e===va)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;const n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,Ha(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-262&&(Ha(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Ea?(Ha(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Ha(t,!1),t.strm.avail_out),1)}),new Ja(4,4,8,4,Ya),new Ja(4,5,16,8,Ya),new Ja(4,6,32,32,Ya),new Ja(4,4,16,16,Ka),new Ja(8,16,32,32,Ka),new Ja(8,16,128,128,Ka),new Ja(8,32,128,256,Ka),new Ja(32,128,258,1024,Ka),new Ja(32,258,258,4096,Ka)];function Xa(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Pa,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Ba(this.dyn_ltree),Ba(this.dyn_dtree),Ba(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Ba(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Ba(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Qa=t=>{if(!t||!t.state)return Da(t,Oa);t.total_in=t.total_out=0,t.data_type=La;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=va,pa(e),Ta},tc=t=>{const e=Qa(t);var r;return e===Ta&&((r=t.state).window_size=2*r.w_size,Ba(r.head),r.max_lazy_match=Za[r.level].max_lazy,r.good_match=Za[r.level].good_length,r.nice_match=Za[r.level].nice_length,r.max_chain_length=Za[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=2,r.match_available=0,r.ins_h=0),e},ec=(t,e,r,n,i,o)=>{if(!t)return Oa;let s=1;if(e===xa&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>9||r!==Pa||n<8||n>15||e<0||e>9||o<0||o>Ca)return Da(t,Oa);8===n&&(n=9);const a=new Xa;return t.state=a,a.strm=t,a.wrap=s,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=e,a.strategy=o,a.method=r,tc(t)};var rc={deflateInit:(t,e)=>ec(t,e,Pa,15,8,ja),deflateInit2:ec,deflateReset:tc,deflateResetKeep:Qa,deflateSetHeader:(t,e)=>t&&t.state?2!==t.state.wrap?Oa:(t.state.gzhead=e,Ta):Oa,deflate:(t,e)=>{let r,n;if(!t||!t.state||e>Sa||e<0)return t?Da(t,Oa):Oa;const i=t.state;if(!t.output||!t.input&&0!==t.avail_in||666===i.status&&e!==Ea)return Da(t,0===t.avail_out?ka:Oa);i.strm=t;const o=i.last_flush;if(i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,Ga(i,31),Ga(i,139),Ga(i,8),i.gzhead?(Ga(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Ga(i,255&i.gzhead.time),Ga(i,i.gzhead.time>>8&255),Ga(i,i.gzhead.time>>16&255),Ga(i,i.gzhead.time>>24&255),Ga(i,9===i.level?2:i.strategy>=Ra||i.level<2?4:0),Ga(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(Ga(i,255&i.gzhead.extra.length),Ga(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=ha(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(Ga(i,0),Ga(i,0),Ga(i,0),Ga(i,0),Ga(i,0),Ga(i,9===i.level?2:i.strategy>=Ra||i.level<2?4:0),Ga(i,3),i.status=113);else{let e=Pa+(i.w_bits-8<<4)<<8,r=-1;r=i.strategy>=Ra||i.level<2?0:i.level<6?1:6===i.level?2:3,e|=r<<6,0!==i.strstart&&(e|=32),e+=31-e%31,i.status=113,za(i,e),0!==i.strstart&&(za(i,t.adler>>>16),za(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(r=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>r&&(t.adler=ha(t.adler,i.pending_buf,i.pending-r,r)),qa(t),r=i.pending,i.pending!==i.pending_buf_size));)Ga(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>r&&(t.adler=ha(t.adler,i.pending_buf,i.pending-r,r)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=ha(t.adler,i.pending_buf,i.pending-r,r)),qa(t),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,Ga(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>r&&(t.adler=ha(t.adler,i.pending_buf,i.pending-r,r)),0===n&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=ha(t.adler,i.pending_buf,i.pending-r,r)),qa(t),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,Ga(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>r&&(t.adler=ha(t.adler,i.pending_buf,i.pending-r,r)),0===n&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&qa(t),i.pending+2<=i.pending_buf_size&&(Ga(i,255&t.adler),Ga(i,t.adler>>8&255),t.adler=0,i.status=113)):i.status=113),0!==i.pending){if(qa(t),0===t.avail_out)return i.last_flush=-1,Ta}else if(0===t.avail_in&&Fa(e)<=Fa(o)&&e!==Ea)return Da(t,ka);if(666===i.status&&0!==t.avail_in)return Da(t,ka);if(0!==t.avail_in||0!==i.lookahead||e!==va&&666!==i.status){let r=i.strategy===Ra?((t,e)=>{let r;for(;;){if(0===t.lookahead&&(Va(t),0===t.lookahead)){if(e===va)return 1;break}if(t.match_length=0,r=ya(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(Ha(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Ea?(Ha(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Ha(t,!1),0===t.strm.avail_out)?1:2})(i,e):i.strategy===Ia?((t,e)=>{let r,n,i,o;const s=t.window;for(;;){if(t.lookahead<=258){if(Va(t),t.lookahead<=258&&e===va)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=t.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){o=t.strstart+258;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<o);t.match_length=258-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=ya(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=ya(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(Ha(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Ea?(Ha(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Ha(t,!1),0===t.strm.avail_out)?1:2})(i,e):Za[i.level].func(i,e);if(3!==r&&4!==r||(i.status=666),1===r||3===r)return 0===t.avail_out&&(i.last_flush=-1),Ta;if(2===r&&(e===ba?_a(i):e!==Sa&&(ma(i,0,0,!1),e===wa&&(Ba(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),qa(t),0===t.avail_out))return i.last_flush=-1,Ta}return e!==Ea?Ta:i.wrap<=0?Aa:(2===i.wrap?(Ga(i,255&t.adler),Ga(i,t.adler>>8&255),Ga(i,t.adler>>16&255),Ga(i,t.adler>>24&255),Ga(i,255&t.total_in),Ga(i,t.total_in>>8&255),Ga(i,t.total_in>>16&255),Ga(i,t.total_in>>24&255)):(za(i,t.adler>>>16),za(i,65535&t.adler)),qa(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?Ta:Aa)},deflateEnd:t=>{if(!t||!t.state)return Oa;const e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?Da(t,Oa):(t.state=null,113===e?Da(t,Ma):Ta)},deflateSetDictionary:(t,e)=>{let r=e.length;if(!t||!t.state)return Oa;const n=t.state,i=n.wrap;if(2===i||1===i&&42!==n.status||n.lookahead)return Oa;if(1===i&&(t.adler=ua(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){0===i&&(Ba(n.head),n.strstart=0,n.block_start=0,n.insert=0);let t=new Uint8Array(n.w_size);t.set(e.subarray(r-n.w_size,r),0),e=t,r=n.w_size}const o=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,Va(n);n.lookahead>=3;){let t=n.strstart,e=n.lookahead-2;do{n.ins_h=Ua(n,n.ins_h,n.window[t+3-1]),n.prev[t&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=t,t++}while(--e);n.strstart=t,n.lookahead=2,Va(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=s,t.input=a,t.avail_in=o,n.wrap=i,Ta},deflateInfo:"pako deflate (from Nodeca project)"};const nc=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var ic=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(const e in r)nc(r,e)&&(t[e]=r[e])}}return t},oc=t=>{let e=0;for(let r=0,n=t.length;r<n;r++)e+=t[r].length;const r=new Uint8Array(e);for(let e=0,n=0,i=t.length;e<i;e++){let i=t[e];r.set(i,n),n+=i.length}return r};let sc=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){sc=!1}const ac=new Uint8Array(256);for(let t=0;t<256;t++)ac[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;ac[254]=ac[254]=1;var cc=t=>{let e,r,n,i,o,s=t.length,a=0;for(i=0;i<s;i++)r=t.charCodeAt(i),55296==(64512&r)&&i+1<s&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)r=t.charCodeAt(i),55296==(64512&r)&&i+1<s&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[o++]=r:r<2048?(e[o++]=192|r>>>6,e[o++]=128|63&r):r<65536?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|63&r):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|63&r);return e},uc=(t,e)=>{let r,n;const i=e||t.length,o=new Array(2*i);for(n=0,r=0;r<i;){let e=t[r++];if(e<128){o[n++]=e;continue}let s=ac[e];if(s>4)o[n++]=65533,r+=s-1;else{for(e&=2===s?31:3===s?15:7;s>1&&r<i;)e=e<<6|63&t[r++],s--;s>1?o[n++]=65533:e<65536?o[n++]=e:(e-=65536,o[n++]=55296|e>>10&1023,o[n++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&sc)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r})(o,n)},lc=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let r=e-1;for(;r>=0&&128==(192&t[r]);)r--;return r<0||0===r?e:r+ac[t[r]]>e?r:e};var hc=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const dc=Object.prototype.toString,{Z_NO_FLUSH:fc,Z_SYNC_FLUSH:pc,Z_FULL_FLUSH:mc,Z_FINISH:gc,Z_OK:yc,Z_STREAM_END:_c,Z_DEFAULT_COMPRESSION:vc,Z_DEFAULT_STRATEGY:bc,Z_DEFLATED:wc}=fa;function Ec(t){this.options=ic({level:vc,method:wc,chunkSize:16384,windowBits:15,memLevel:8,strategy:bc},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new hc,this.strm.avail_out=0;let r=rc.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==yc)throw new Error(da[r]);if(e.header&&rc.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?cc(e.dictionary):"[object ArrayBuffer]"===dc.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,r=rc.deflateSetDictionary(this.strm,t),r!==yc)throw new Error(da[r]);this._dict_set=!0}}function Sc(t,e){const r=new Ec(e);if(r.push(t,!0),r.err)throw r.msg||da[r.err];return r.result}Ec.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=e===~~e?e:!0===e?gc:fc,"string"==typeof t?r.input=cc(t):"[object ArrayBuffer]"===dc.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(o===pc||o===mc)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(i=rc.deflate(r,o),i===_c)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=rc.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===yc;if(0!==r.avail_out){if(o>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},Ec.prototype.onData=function(t){this.chunks.push(t)},Ec.prototype.onEnd=function(t){t===yc&&(this.result=oc(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Tc={Deflate:Ec,deflate:Sc,deflateRaw:function(t,e){return(e=e||{}).raw=!0,Sc(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,Sc(t,e)},constants:fa};var Ac=function(t,e){let r,n,i,o,s,a,c,u,l,h,d,f,p,m,g,y,_,v,b,w,E,S,T,A;const O=t.state;r=t.next_in,T=t.input,n=r+(t.avail_in-5),i=t.next_out,A=t.output,o=i-(e-t.avail_out),s=i+(t.avail_out-257),a=O.dmax,c=O.wsize,u=O.whave,l=O.wnext,h=O.window,d=O.hold,f=O.bits,p=O.lencode,m=O.distcode,g=(1<<O.lenbits)-1,y=(1<<O.distbits)-1;t:do{f<15&&(d+=T[r++]<<f,f+=8,d+=T[r++]<<f,f+=8),_=p[d&g];e:for(;;){if(v=_>>>24,d>>>=v,f-=v,v=_>>>16&255,0===v)A[i++]=65535&_;else{if(!(16&v)){if(0==(64&v)){_=p[(65535&_)+(d&(1<<v)-1)];continue e}if(32&v){O.mode=12;break t}t.msg="invalid literal/length code",O.mode=30;break t}b=65535&_,v&=15,v&&(f<v&&(d+=T[r++]<<f,f+=8),b+=d&(1<<v)-1,d>>>=v,f-=v),f<15&&(d+=T[r++]<<f,f+=8,d+=T[r++]<<f,f+=8),_=m[d&y];r:for(;;){if(v=_>>>24,d>>>=v,f-=v,v=_>>>16&255,!(16&v)){if(0==(64&v)){_=m[(65535&_)+(d&(1<<v)-1)];continue r}t.msg="invalid distance code",O.mode=30;break t}if(w=65535&_,v&=15,f<v&&(d+=T[r++]<<f,f+=8,f<v&&(d+=T[r++]<<f,f+=8)),w+=d&(1<<v)-1,w>a){t.msg="invalid distance too far back",O.mode=30;break t}if(d>>>=v,f-=v,v=i-o,w>v){if(v=w-v,v>u&&O.sane){t.msg="invalid distance too far back",O.mode=30;break t}if(E=0,S=h,0===l){if(E+=c-v,v<b){b-=v;do{A[i++]=h[E++]}while(--v);E=i-w,S=A}}else if(l<v){if(E+=c+l-v,v-=l,v<b){b-=v;do{A[i++]=h[E++]}while(--v);if(E=0,l<b){v=l,b-=v;do{A[i++]=h[E++]}while(--v);E=i-w,S=A}}}else if(E+=l-v,v<b){b-=v;do{A[i++]=h[E++]}while(--v);E=i-w,S=A}for(;b>2;)A[i++]=S[E++],A[i++]=S[E++],A[i++]=S[E++],b-=3;b&&(A[i++]=S[E++],b>1&&(A[i++]=S[E++]))}else{E=i-w;do{A[i++]=A[E++],A[i++]=A[E++],A[i++]=A[E++],b-=3}while(b>2);b&&(A[i++]=A[E++],b>1&&(A[i++]=A[E++]))}break}}break}}while(r<n&&i<s);b=f>>3,r-=b,f-=b<<3,d&=(1<<f)-1,t.next_in=r,t.next_out=i,t.avail_in=r<n?n-r+5:5-(r-n),t.avail_out=i<s?s-i+257:257-(i-s),O.hold=d,O.bits=f};const Oc=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Mc=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),kc=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),xc=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Nc=(t,e,r,n,i,o,s,a)=>{const c=a.bits;let u,l,h,d,f,p,m=0,g=0,y=0,_=0,v=0,b=0,w=0,E=0,S=0,T=0,A=null,O=0;const M=new Uint16Array(16),k=new Uint16Array(16);let x,N,R,I=null,C=0;for(m=0;m<=15;m++)M[m]=0;for(g=0;g<n;g++)M[e[r+g]]++;for(v=c,_=15;_>=1&&0===M[_];_--);if(v>_&&(v=_),0===_)return i[o++]=20971520,i[o++]=20971520,a.bits=1,0;for(y=1;y<_&&0===M[y];y++);for(v<y&&(v=y),E=1,m=1;m<=15;m++)if(E<<=1,E-=M[m],E<0)return-1;if(E>0&&(0===t||1!==_))return-1;for(k[1]=0,m=1;m<15;m++)k[m+1]=k[m]+M[m];for(g=0;g<n;g++)0!==e[r+g]&&(s[k[e[r+g]]++]=g);if(0===t?(A=I=s,p=19):1===t?(A=Oc,O-=257,I=Mc,C-=257,p=256):(A=kc,I=xc,p=-1),T=0,g=0,m=y,f=o,b=v,w=0,h=-1,S=1<<v,d=S-1,1===t&&S>852||2===t&&S>592)return 1;for(;;){x=m-w,s[g]<p?(N=0,R=s[g]):s[g]>p?(N=I[C+s[g]],R=A[O+s[g]]):(N=96,R=0),u=1<<m-w,l=1<<b,y=l;do{l-=u,i[f+(T>>w)+l]=x<<24|N<<16|R|0}while(0!==l);for(u=1<<m-1;T&u;)u>>=1;if(0!==u?(T&=u-1,T+=u):T=0,g++,0==--M[m]){if(m===_)break;m=e[r+s[g]]}if(m>v&&(T&d)!==h){for(0===w&&(w=v),f+=y,b=m-w,E=1<<b;b+w<_&&(E-=M[b+w],!(E<=0));)b++,E<<=1;if(S+=1<<b,1===t&&S>852||2===t&&S>592)return 1;h=T&d,i[h]=v<<24|b<<16|f-o|0}}return 0!==T&&(i[f+T]=m-w<<24|64<<16|0),a.bits=v,0};const{Z_FINISH:Rc,Z_BLOCK:Ic,Z_TREES:Cc,Z_OK:jc,Z_STREAM_END:Lc,Z_NEED_DICT:Pc,Z_STREAM_ERROR:Dc,Z_DATA_ERROR:Fc,Z_MEM_ERROR:Bc,Z_BUF_ERROR:Uc,Z_DEFLATED:qc}=fa,Hc=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function Gc(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const zc=t=>{if(!t||!t.state)return Dc;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,jc},Wc=t=>{if(!t||!t.state)return Dc;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,zc(t)},$c=(t,e)=>{let r;if(!t||!t.state)return Dc;const n=t.state;return e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?Dc:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,Wc(t))},Vc=(t,e)=>{if(!t)return Dc;const r=new Gc;t.state=r,r.window=null;const n=$c(t,e);return n!==jc&&(t.state=null),n};let Yc,Kc,Jc=!0;const Zc=t=>{if(Jc){Yc=new Int32Array(512),Kc=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Nc(1,t.lens,0,288,Yc,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Nc(2,t.lens,0,32,Kc,0,t.work,{bits:5}),Jc=!1}t.lencode=Yc,t.lenbits=9,t.distcode=Kc,t.distbits=5},Xc=(t,e,r,n)=>{let i;const o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(e.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),o.window.set(e.subarray(r-n,r-n+i),o.wnext),(n-=i)?(o.window.set(e.subarray(r-n,r),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var Qc={inflateReset:Wc,inflateReset2:$c,inflateResetKeep:zc,inflateInit:t=>Vc(t,15),inflateInit2:Vc,inflate:(t,e)=>{let r,n,i,o,s,a,c,u,l,h,d,f,p,m,g,y,_,v,b,w,E,S,T=0;const A=new Uint8Array(4);let O,M;const k=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return Dc;r=t.state,12===r.mode&&(r.mode=13),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,n=t.input,a=t.avail_in,u=r.hold,l=r.bits,h=a,d=c,S=jc;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;l<16;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if(2&r.wrap&&35615===u){r.check=0,A[0]=255&u,A[1]=u>>>8&255,r.check=ha(r.check,A,2,0),u=0,l=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=30;break}if((15&u)!==qc){t.msg="unknown compression method",r.mode=30;break}if(u>>>=4,l-=4,E=8+(15&u),0===r.wbits)r.wbits=E;else if(E>r.wbits){t.msg="invalid window size",r.mode=30;break}r.dmax=1<<r.wbits,t.adler=r.check=1,r.mode=512&u?10:12,u=0,l=0;break;case 2:for(;l<16;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if(r.flags=u,(255&r.flags)!==qc){t.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&(A[0]=255&u,A[1]=u>>>8&255,r.check=ha(r.check,A,2,0)),u=0,l=0,r.mode=3;case 3:for(;l<32;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}r.head&&(r.head.time=u),512&r.flags&&(A[0]=255&u,A[1]=u>>>8&255,A[2]=u>>>16&255,A[3]=u>>>24&255,r.check=ha(r.check,A,4,0)),u=0,l=0,r.mode=4;case 4:for(;l<16;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&(A[0]=255&u,A[1]=u>>>8&255,r.check=ha(r.check,A,2,0)),u=0,l=0,r.mode=5;case 5:if(1024&r.flags){for(;l<16;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&(A[0]=255&u,A[1]=u>>>8&255,r.check=ha(r.check,A,2,0)),u=0,l=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(f=r.length,f>a&&(f=a),f&&(r.head&&(E=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(o,o+f),E)),512&r.flags&&(r.check=ha(r.check,n,f,o)),a-=f,o+=f,r.length-=f),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===a)break t;f=0;do{E=n[o+f++],r.head&&E&&r.length<65536&&(r.head.name+=String.fromCharCode(E))}while(E&&f<a);if(512&r.flags&&(r.check=ha(r.check,n,f,o)),a-=f,o+=f,E)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===a)break t;f=0;do{E=n[o+f++],r.head&&E&&r.length<65536&&(r.head.comment+=String.fromCharCode(E))}while(E&&f<a);if(512&r.flags&&(r.check=ha(r.check,n,f,o)),a-=f,o+=f,E)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;l<16;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if(u!==(65535&r.check)){t.msg="header crc mismatch",r.mode=30;break}u=0,l=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=12;break;case 10:for(;l<32;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}t.adler=r.check=Hc(u),u=0,l=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,r.hold=u,r.bits=l,Pc;t.adler=r.check=1,r.mode=12;case 12:if(e===Ic||e===Cc)break t;case 13:if(r.last){u>>>=7&l,l-=7&l,r.mode=27;break}for(;l<3;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}switch(r.last=1&u,u>>>=1,l-=1,3&u){case 0:r.mode=14;break;case 1:if(Zc(r),r.mode=20,e===Cc){u>>>=2,l-=2;break t}break;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=30}u>>>=2,l-=2;break;case 14:for(u>>>=7&l,l-=7&l;l<32;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if((65535&u)!=(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&u,u=0,l=0,r.mode=15,e===Cc)break t;case 15:r.mode=16;case 16:if(f=r.length,f){if(f>a&&(f=a),f>c&&(f=c),0===f)break t;i.set(n.subarray(o,o+f),s),a-=f,o+=f,c-=f,s+=f,r.length-=f;break}r.mode=12;break;case 17:for(;l<14;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if(r.nlen=257+(31&u),u>>>=5,l-=5,r.ndist=1+(31&u),u>>>=5,l-=5,r.ncode=4+(15&u),u>>>=4,l-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;l<3;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}r.lens[k[r.have++]]=7&u,u>>>=3,l-=3}for(;r.have<19;)r.lens[k[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,O={bits:r.lenbits},S=Nc(0,r.lens,0,19,r.lencode,0,r.work,O),r.lenbits=O.bits,S){t.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;T=r.lencode[u&(1<<r.lenbits)-1],g=T>>>24,y=T>>>16&255,_=65535&T,!(g<=l);){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if(_<16)u>>>=g,l-=g,r.lens[r.have++]=_;else{if(16===_){for(M=g+2;l<M;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if(u>>>=g,l-=g,0===r.have){t.msg="invalid bit length repeat",r.mode=30;break}E=r.lens[r.have-1],f=3+(3&u),u>>>=2,l-=2}else if(17===_){for(M=g+3;l<M;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}u>>>=g,l-=g,E=0,f=3+(7&u),u>>>=3,l-=3}else{for(M=g+7;l<M;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}u>>>=g,l-=g,E=0,f=11+(127&u),u>>>=7,l-=7}if(r.have+f>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=30;break}for(;f--;)r.lens[r.have++]=E}}if(30===r.mode)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,O={bits:r.lenbits},S=Nc(1,r.lens,0,r.nlen,r.lencode,0,r.work,O),r.lenbits=O.bits,S){t.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,O={bits:r.distbits},S=Nc(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,O),r.distbits=O.bits,S){t.msg="invalid distances set",r.mode=30;break}if(r.mode=20,e===Cc)break t;case 20:r.mode=21;case 21:if(a>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,r.hold=u,r.bits=l,Ac(t,d),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,n=t.input,a=t.avail_in,u=r.hold,l=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;T=r.lencode[u&(1<<r.lenbits)-1],g=T>>>24,y=T>>>16&255,_=65535&T,!(g<=l);){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if(y&&0==(240&y)){for(v=g,b=y,w=_;T=r.lencode[w+((u&(1<<v+b)-1)>>v)],g=T>>>24,y=T>>>16&255,_=65535&T,!(v+g<=l);){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}u>>>=v,l-=v,r.back+=v}if(u>>>=g,l-=g,r.back+=g,r.length=_,0===y){r.mode=26;break}if(32&y){r.back=-1,r.mode=12;break}if(64&y){t.msg="invalid literal/length code",r.mode=30;break}r.extra=15&y,r.mode=22;case 22:if(r.extra){for(M=r.extra;l<M;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;T=r.distcode[u&(1<<r.distbits)-1],g=T>>>24,y=T>>>16&255,_=65535&T,!(g<=l);){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if(0==(240&y)){for(v=g,b=y,w=_;T=r.distcode[w+((u&(1<<v+b)-1)>>v)],g=T>>>24,y=T>>>16&255,_=65535&T,!(v+g<=l);){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}u>>>=v,l-=v,r.back+=v}if(u>>>=g,l-=g,r.back+=g,64&y){t.msg="invalid distance code",r.mode=30;break}r.offset=_,r.extra=15&y,r.mode=24;case 24:if(r.extra){for(M=r.extra;l<M;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===c)break t;if(f=d-c,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=30;break}f>r.wnext?(f-=r.wnext,p=r.wsize-f):p=r.wnext-f,f>r.length&&(f=r.length),m=r.window}else m=i,p=s-r.offset,f=r.length;f>c&&(f=c),c-=f,r.length-=f;do{i[s++]=m[p++]}while(--f);0===r.length&&(r.mode=21);break;case 26:if(0===c)break t;i[s++]=r.length,c--,r.mode=21;break;case 27:if(r.wrap){for(;l<32;){if(0===a)break t;a--,u|=n[o++]<<l,l+=8}if(d-=c,t.total_out+=d,r.total+=d,d&&(t.adler=r.check=r.flags?ha(r.check,i,d,s-d):ua(r.check,i,d,s-d)),d=c,(r.flags?u:Hc(u))!==r.check){t.msg="incorrect data check",r.mode=30;break}u=0,l=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;l<32;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if(u!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=30;break}u=0,l=0}r.mode=29;case 29:S=Lc;break t;case 30:S=Fc;break t;case 31:return Bc;case 32:default:return Dc}return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,r.hold=u,r.bits=l,(r.wsize||d!==t.avail_out&&r.mode<30&&(r.mode<27||e!==Rc))&&Xc(t,t.output,t.next_out,d-t.avail_out),h-=t.avail_in,d-=t.avail_out,t.total_in+=h,t.total_out+=d,r.total+=d,r.wrap&&d&&(t.adler=r.check=r.flags?ha(r.check,i,d,t.next_out-d):ua(r.check,i,d,t.next_out-d)),t.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0===h&&0===d||e===Rc)&&S===jc&&(S=Uc),S},inflateEnd:t=>{if(!t||!t.state)return Dc;let e=t.state;return e.window&&(e.window=null),t.state=null,jc},inflateGetHeader:(t,e)=>{if(!t||!t.state)return Dc;const r=t.state;return 0==(2&r.wrap)?Dc:(r.head=e,e.done=!1,jc)},inflateSetDictionary:(t,e)=>{const r=e.length;let n,i,o;return t&&t.state?(n=t.state,0!==n.wrap&&11!==n.mode?Dc:11===n.mode&&(i=1,i=ua(i,e,r,0),i!==n.check)?Fc:(o=Xc(t,e,r,r),o?(n.mode=31,Bc):(n.havedict=1,jc))):Dc},inflateInfo:"pako inflate (from Nodeca project)"};var tu=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const eu=Object.prototype.toString,{Z_NO_FLUSH:ru,Z_FINISH:nu,Z_OK:iu,Z_STREAM_END:ou,Z_NEED_DICT:su,Z_STREAM_ERROR:au,Z_DATA_ERROR:cu,Z_MEM_ERROR:uu}=fa;function lu(t){this.options=ic({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new hc,this.strm.avail_out=0;let r=Qc.inflateInit2(this.strm,e.windowBits);if(r!==iu)throw new Error(da[r]);if(this.header=new tu,Qc.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=cc(e.dictionary):"[object ArrayBuffer]"===eu.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Qc.inflateSetDictionary(this.strm,e.dictionary),r!==iu)))throw new Error(da[r])}function hu(t,e){const r=new lu(e);if(r.push(t),r.err)throw r.msg||da[r.err];return r.result}lu.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(s=e===~~e?e:!0===e?nu:ru,"[object ArrayBuffer]"===eu.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),o=Qc.inflate(r,s),o===su&&i&&(o=Qc.inflateSetDictionary(r,i),o===iu?o=Qc.inflate(r,s):o===cu&&(o=su));r.avail_in>0&&o===ou&&r.state.wrap>0&&0!==t[r.next_in];)Qc.inflateReset(r),o=Qc.inflate(r,s);switch(o){case au:case cu:case su:case uu:return this.onEnd(o),this.ended=!0,!1}if(a=r.avail_out,r.next_out&&(0===r.avail_out||o===ou))if("string"===this.options.to){let t=lc(r.output,r.next_out),e=r.next_out-t,i=uc(r.output,t);r.next_out=e,r.avail_out=n-e,e&&r.output.set(r.output.subarray(t,t+e),0),this.onData(i)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(o!==iu||0!==a){if(o===ou)return o=Qc.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},lu.prototype.onData=function(t){this.chunks.push(t)},lu.prototype.onEnd=function(t){t===iu&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=oc(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var du={Inflate:lu,inflate:hu,inflateRaw:function(t,e){return(e=e||{}).raw=!0,hu(t,e)},ungzip:hu,constants:fa};const{Deflate:fu,deflate:pu,deflateRaw:mu,gzip:gu}=Tc,{Inflate:yu,inflate:_u,inflateRaw:vu,ungzip:bu}=du;var wu=pu,Eu=_u;function Su(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class Tu{constructor(t){Su(this,"_baseStorage",void 0),this._baseStorage=t}async get(t){const e=await this._baseStorage.get(t);return Eu(e,{to:"Uint8Array"})}}class Au extends Tu{constructor(t){super(t),Su(this,"_baseStorage",void 0),this._baseStorage=t}async set(t,e){this._baseStorage.set(t,wu(e))}}var Ou=r(7),Mu=r.n(Ou);class ku{constructor(t){var e,r,n;n=void 0,(r="_base")in(e=this)?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,this._base=t}async get(t){const e=new URL(t,this._base).href;if(!e.startsWith(this._base))throw new Error("Path traversal is not allowed. ".concat(e," does not begin with ").concat(this._base," -- try adding trailing / to base"));const r=await Mu()(e);if(!r.ok){const e=new Error("Error fetching ".concat(t,": ").concat(r.status," ").concat(r.statusText));throw e.number=r.status,e}return new Uint8Array(await r.arrayBuffer())}}const xu=/^[a-z0-9-]+$/;function Nu(t){const e=(t=t.toLowerCase()).split("/");if(2!==e.length)throw new Error('PluginId must have exactly one "/" separator; got "'.concat(t,'"'));if(!e[0].match(xu))throw new Error('plugin owner not valid: "'.concat(e[0],'"'));if(!e[1].match(xu))throw new Error('plugin name not valid: "'.concat(e[1],'"'));return t}function Ru(t){return t.split("/")[0]}function Iu(t){return t.split("/")[1]}const Cu=nt(K,Nu);function ju(t){return j()({name:"Contribution",pluralName:"Contributions",prefix:Tt.fromParts([Ru(t),Iu(t),"CONTRIBUTION"]),defaultWeight:1,description:"NodeType for a generic contribution"})}function Lu(t){return j()({name:"Participant",pluralName:"Participant",prefix:Tt.fromParts([Ru(t),Iu(t),"PARTICIPANT"]),defaultWeight:1,description:"NodeType for a generic participant"})}function Pu(t){return j()({forwardName:"participated in",backwardName:"had participation from",defaultWeight:{forwards:.5,backwards:1},prefix:At.fromParts([Ru(t),Iu(t),"PARTICIPATES_IN"]),description:"NodeType for a generic participant-contribution relationship"})}function Du(t){return j()({name:Iu(t),nodePrefix:Tt.fromParts([Ru(t),Iu(t)]),edgePrefix:At.fromParts([Ru(t),Iu(t)]),nodeTypes:[Lu(t),ju(t)],edgeTypes:[Pu(t)],userTypes:[Lu(t)]})}function Fu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Bu={GRAPH:"graph.json",GRAPH_ZIP:"graph",DECLARATION:"declaration.json",IDENTITIES:"identityProposals.json"},Uu=ut({graphUrl:K},{declarationUrl:K,identityProposalsUrl:K});class qu{constructor(t){if(Fu(this,"id",void 0),Fu(this,"storage",void 0),Fu(this,"defaultConfigDirectory",void 0),Fu(this,"config",void 0),!t.storage&&!t.config)throw new Error("Must provide either config or storage parameter to construct ExternalPlugin.");this.id=t.pluginId,this.storage=t.storage,this.defaultConfigDirectory={configDirectory:()=>Object(ps.join)("config/plugins/",t.pluginId),cacheDirectory:()=>Object(ps.join)("cache/",t.pluginId)},this.config=t.config}async getConfig(t){if(this.config)return this.config;const e=Object(ps.join)(t.configDirectory(),"config.json");if(!this.storage)throw"Something is wrong. Either storage or config should exist.";return xs(this.storage,e,Uu,()=>{})}async getStorage(t,e){const r=await this.getConfig(t);if(r)switch(e){case"GRAPH":case"GRAPH_ZIP":return{storage:new ku(r.graphUrl),path:""};case"DECLARATION":return r.declarationUrl?{storage:new ku(r.declarationUrl),path:""}:void 0;case"IDENTITIES":return r.identityProposalsUrl?{storage:new ku(r.identityProposalsUrl),path:""}:void 0}if(!this.storage)throw"Something is wrong. Either storage or config should exist.";return{storage:this.storage,path:Object(ps.join)(t.configDirectory(),Bu[e])}}async declaration(){const t=await this.getStorage(this.defaultConfigDirectory,"DECLARATION"),e=t?await xs(t.storage,t.path,li,()=>null):null;return e||Du(this.id)}async load(t,e){}async graph(t,e){const r=await this.getStorage(t,"GRAPH"),n=await this.getStorage(t,"GRAPH_ZIP");if(!r||!n)throw"Something is wrong. Graph must have storage or config.";const i=vs(await ks(r.storage,r.path,tt).catch(()=>ks(new Tu(n.storage),n.path,tt))),o=hi(await this.declaration());return{graph:i.graph,weights:ze([i.weights,o])}}async referenceDetector(t){return{addressFromUrl:()=>{}}}async identities(t){const e=await this.getStorage(t,"IDENTITIES");return e?await xs(e.storage,e.path,ds,()=>[]):[]}}function Hu(t,e){switch(e.type){case"SYNTHETIC_LOOP":return t;case"IN_EDGE":return e.edge.src;case"OUT_EDGE":return e.edge.dst;default:throw new Error(e.type)}}function Gu(t,e,r){const n=new Map,i=new Map;for(const e of t.nodes())n.set(e.address,[]),i.set(e.address,0);function o(t,e){vt(n.get(t)).push(e);const r=Hu(t,e.adjacency),o=vt(i.get(r));i.set(r,o+e.weight)}for(const e of t.nodes())o(e.address,{adjacency:{type:"SYNTHETIC_LOOP"},weight:r});for(const r of t.edges({showDangling:!1})){const{forwards:t,backwards:n}=e(r),{src:i,dst:s}=r;o(s,{adjacency:{type:"IN_EDGE",edge:r},weight:t}),o(i,{adjacency:{type:"OUT_EDGE",edge:r},weight:n})}for(const[t,e]of n.entries())for(const r of e){const e=Hu(t,r.adjacency),n=vt(i.get(e)),o=r.weight/n;r.weight=o}return n}function zu(t){return function(t,e){const r=new Map;for(const[n,i]of t.entries())r.set(n,e(n,i));return r}(t,(t,e)=>{const r=new Map;for(const n of e){const e=Hu(t,n.adjacency);r.set(e,n.weight+bt(r.get(e),0))}return r})}function Wu(t){return function(t){const e=Array.from(t.keys()),r=new Map;return e.forEach((t,e)=>{r.set(t,e)}),{nodeOrder:e,chain:e.map(e=>{const n=vt(t.get(e)),i={neighbor:new Uint32Array(n.size),weight:new Float64Array(n.size)};let o=0;for(const[t,e]of n.entries()){const n=vt(r.get(t));i.neighbor[o]=n,i.weight[o]=e,o++}return i})}}(zu(t))}function $u(t,e){const r={},n={};e.forEach((t,e)=>{r[t]=e}),t.nodeOrder.forEach((t,e)=>{n[t]=e});const i=[];for(const o of e){const{neighbor:e,weight:s}=t.chain[n[o]],a=e.map(e=>r[t.nodeOrder[e]]);i.push({neighbor:a,weight:s})}return{nodeOrder:e,chain:i}}function Vu(t){return{nodeOrder:t.nodeOrder,chain:t.chain.map(t=>{let{neighbor:e,weight:r}=t;if(e.length!==r.length)throw new Error("".concat(e.length," !== ").concat(r.length));const n=Array(e.length).fill(null).map((t,n)=>({neighbor:e[n],weight:r[n]}));return n.sort((t,e)=>t.neighbor-e.neighbor),{neighbor:new Uint32Array(n.map(t=>t.neighbor)),weight:new Float64Array(n.map(t=>t.weight))}})}}function Yu(t){return Vu($u(t,t.nodeOrder.slice().sort()))}function Ku(t,e){const r=new Map;return t.forEach((t,n)=>{const i=e[n];r.set(t,i)}),r}function Ju(t){if(isNaN(t)||!isFinite(t)||t!==Math.floor(t)||t<=0)throw new Error("expected positive integer, but got: "+t);return new Float64Array(t).fill(1/t)}function Zu(t,e){if(0===t.length||t.length!==e.length)throw new Error("invalid input");let r=-1/0;return t.forEach((t,n)=>{const i=Math.abs(t-e[n]);r=Math.max(i,r)}),r}function Xu(t){const e=t.length;return t.forEach((t,r)=>{if(t.length!==e)throw new Error("expected rows to have length ".concat(e,", but row ").concat(r," has ").concat(t.length))}),t.forEach((t,e)=>{t.forEach((t,r)=>{if(isNaN(t)||!isFinite(t)||t<0)throw new Error("expected positive real entries, but [".concat(e,"][").concat(r,"] is ").concat(t))})}),t.forEach((t,e)=>{const r=t.reduce((t,e)=>t+e,0);if(Math.abs(r-1)>1e-6)throw new Error("expected rows to sum to 1, but row ".concat(e," sums to ").concat(r))}),t.map((e,r)=>{const n=t.map((t,e)=>[e,t[r]]).filter(t=>{let[e,r]=t;return r>0});return{neighbor:new Uint32Array(n.map(t=>{let[e,r]=t;return e})),weight:new Float64Array(n.map(t=>{let[e,r]=t;return r}))}})}function Qu(t,e,r,n,i){t.forEach((t,o)=>{let{neighbor:s,weight:a}=t;const c=s.length;let u=r*e[o];for(let t=0;t<c;t++){const e=s[t];u+=(1-r)*n[e]*a[t]}i[o]=u})}function tl(t,e,r,n){const i=new Float64Array(n.length);return Qu(t,e,r,n,i),i}function el(t,e){const r=function*(t,e){const{chain:r,pi0:n,seed:i,alpha:o}=t;let s=new Float64Array(n),a=new Float64Array(s.length),c=0;for(;;){if(c>=e.maxIterations){e.verbose&&console.log("[".concat(c,"] FAILED to converge")),Qu(r,i,o,s,a);return{pi:s,convergenceDelta:Zu(s,a)}}c++,Qu(r,i,o,s,a);const t=Zu(s,a);if(e.verbose&&console.log("[".concat(c,"] delta = ").concat(t)),t<e.convergenceThreshold)return e.verbose&&console.log("[".concat(c,"] CONVERGED")),{pi:s,convergenceDelta:t};[a,s]=[s,a],yield}throw new Error("Unreachable.")}(t,{verbose:e.verbose,convergenceThreshold:e.convergenceThreshold,maxIterations:e.maxIterations});return new Promise((t,n)=>{const{yieldAfterMs:i}=e,o=()=>{const e=Date.now();do{const e=r.next();if(e.done){if(null==e.value)throw new Error(String(e.value));return void t(e.value)}}while(Date.now()-e<i);setTimeout(o,0)};o()})}var rl=r(96),nl=r.n(rl);function il(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const ol=Symbol("EMPTY");class sl{constructor(t){il(this,"addressModule",void 0),il(this,"entry",void 0),this.addressModule=t,this.entry={value:ol,map:new Map}}add(t,e){const r=this.addressModule.toParts(t);let n=this.entry;for(const t of r)n.map.has(t)||n.map.set(t,{map:new Map,value:ol}),n=vt(n.map.get(t));if(n.value!==ol)throw new Error("Tried to overwrite entry at ".concat(this.addressModule.toString(t)));return n.value=e,this}get(t){const e=this.addressModule.toParts(t),r=[];let n=this.entry;for(const t of e){if(n.value!==ol){const t=n.value;r.push(t)}const e=n.map.get(t);if(null==e)return r;n=e}if(n.value!==ol){const t=n.value;r.push(t)}return r}getLast(t){const e=this.get(t);return e[e.length-1]}}class al extends sl{constructor(){super(Tt)}}class cl extends sl{constructor(){super(At)}}function ul(t){const e=new al;for(const[r,n]of t.nodeWeights.entries())e.add(r,n);return function(t){return e.get(t).reduce((t,e)=>t*e,1)}}const ll=t=>t;function hl(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];const i=0===r.length?[ll]:r;function o(t,e){for(const r of i){const n=r(t),i=r(e);if(n>i)return 1;if(n<i)return-1}return 0}return[...t].sort(o)}var dl=new Date,fl=new Date;function pl(t){return function t(e,r,n,i){function o(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return o.floor=function(t){return e(t=new Date(+t)),t},o.ceil=function(t){return e(t=new Date(t-1)),r(t,1),e(t),t},o.round=function(t){var e=o(t),r=o.ceil(t);return t-e<r-t?e:r},o.offset=function(t,e){return r(t=new Date(+t),null==e?1:Math.floor(e)),t},o.range=function(t,n,i){var s,a=[];if(t=o.ceil(t),i=null==i?1:Math.floor(i),!(t<n&&i>0))return a;do{a.push(s=new Date(+t)),r(t,i),e(t)}while(s<t&&t<n);return a},o.filter=function(n){return t((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(t,e){if(t>=t)if(e<0)for(;++e<=0;)for(;r(t,-1),!n(t););else for(;--e>=0;)for(;r(t,1),!n(t););}))},n&&(o.count=function(t,r){return dl.setTime(+t),fl.setTime(+r),e(dl),e(fl),Math.floor(n(dl,fl))},o.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?o.filter(i?function(e){return i(e)%t==0}:function(e){return o.count(0,e)%t==0}):o:null}),o}((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var ml=pl(0),gl=pl(1),yl=pl(2),_l=pl(3),vl=pl(4),bl=pl(5),wl=pl(6);ml.range,gl.range,yl.range,_l.range,vl.range,bl.range,wl.range;function El(t){let e=null;for(const{startTimeMs:r,endTimeMs:n}of t){if(isNaN(r)||isNaN(n))throw new Error("NaN in interval [".concat(r,", ").concat(n,"]"));if(null!=e&&r!==e)throw new Error("last interval ended at ".concat(e," but this interval starts at ").concat(r));if(n<=r)throw new Error("interval must have positive length, but got [".concat(r,", ").concat(n,"]"));e=n}return t.map(t=>{let{startTimeMs:e,endTimeMs:r}=t;return{startTimeMs:e,endTimeMs:r}})}const Sl=st(ut({startTimeMs:J,endTimeMs:J})).fmap(t=>El(t));function Tl(t){const e=hl(Array.from(t.nodes()).filter(t=>null!=t.timestampMs),t=>t.timestampMs),r=hl(Array.from(t.edges({showDangling:!1})),t=>t.timestampMs),n=Al(t);let i=0,o=0;return n.map(t=>{const n=[],s=[];for(;i<e.length&&e[i].timestampMs<t.endTimeMs;)n.push(e[i++]);for(;o<r.length&&r[o].timestampMs<t.endTimeMs;)s.push(r[o++]);return{interval:t,nodes:n,edges:s}})}function Al(t){const e=Array.from(t.nodes()).map(t=>t.timestampMs).filter(t=>null!=t).map(t=>vt(t)),r=Array.from(t.edges({showDangling:!1})).map(t=>t.timestampMs);if(0===e.length&&0===r.length)return[];const n=e.concat(r);return function(t,e){if(!isFinite(t)||!isFinite(e))throw new Error("invalid non-finite input");if("number"!=typeof t||"number"!=typeof e)throw new Error("start or end are not numbers");if(t>e)throw new Error("start time after end time");t=ml.floor(t),e=ml.ceil(e+1);const r=ml.range(t,e);r.push(e);const n=[];for(let t=0;t<r.length-1;t++)n.push({startTimeMs:+r[t],endTimeMs:+r[t+1]});return El(n)}(function(t,e){let r;if(void 0===e)for(const e of t)null!=e&&(r>e||void 0===r&&e>=e)&&(r=e);else{let n=-1;for(let i of t)null!=(i=e(i,++n,t))&&(r>i||void 0===r&&i>=i)&&(r=i)}return r}(n),function(t,e){let r;if(void 0===e)for(const e of t)null!=e&&(r<e||void 0===r&&e>=e)&&(r=e);else{let n=-1;for(let i of t)null!=(i=e(i,++n,t))&&(r<i||void 0===r&&i>=i)&&(r=i)}return r}(n))}var Ol=r(36),Ml=r.n(Ol);const kl=st(ut({fromParticipantId:bi,recipients:st(ut({toParticipantId:bi,proportions:st(ut({timestampMs:J,proportionValue:J}))}))}));class xl{constructor(t,e){var r,n,i;i=void 0,(n="_index")in(r=this)?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,function(t){t.forEach((e,r)=>{if(t.findIndex(t=>t.fromParticipantId===e.fromParticipantId)!==r)throw"More than one PersonalAttribution object found with fromParticipantId [".concat(e.fromParticipantId,"]");e.recipients.forEach((t,r)=>{if(e.recipients.findIndex(e=>e.toParticipantId===t.toParticipantId)!==r)throw"More than one AttributionRecipient object found with toParticipantId [".concat(t.toParticipantId,"] for fromParticipantId [").concat(e.fromParticipantId,"] ");t.proportions.forEach((r,n)=>{if(n>0&&r.timestampMs<t.proportions[n-1].timestampMs)throw"Personal Attribution proportions not in chronological order for [".concat(e.fromParticipantId,"] to [").concat(t.toParticipantId,"]");if(r.proportionValue<0||1<r.proportionValue)throw"Personal Attribution proportion value must be between 0 and 1, inclusive. Found [".concat(r.proportionValue,"].")})})})}(t),this._index=this._getIndexFromList(t),this._validateIndex(this._index,e)}_getIndexFromList(t){const e=new Map;for(const r of t){const t=new Map;for(const e of r.recipients)t.set(e.toParticipantId,e);e.set(r.fromParticipantId,t)}return e}_validateIndex(t,e){for(const r of t.values())for(const t of e){const e=this._getSumProportionValue(t,Array.from(r.values()));if(e&&e>1)throw"Sum of Personal Attributions for epoch [".concat(t,"] is greater than 1. Found: [").concat(e,"].")}}toPersonalAttributions(){return Array.from(this._index.entries()).map(t=>{let[e,r]=t;return{fromParticipantId:e,recipients:Array.from(r.values())}})}recipientsForEpochAndParticipant(t,e){const r=this._index.get(e);return r?Array.from(r.values()).filter(e=>{let{proportions:r}=e;return this._getProportionValue(t,r)}).map(t=>{let{toParticipantId:e}=t;return e}):[]}getProportionValue(t,e,r){const n=this._index.get(e);if(!n)throw"Could not find PersonalAttribution from [".concat(e,"]");const i=n.get(r);if(!i)throw"Could not find AttributionRecipient from [".concat(e,"] to [").concat(r,"]");return this._getProportionValue(t,i.proportions)}_getProportionValue(t,e){if(e.length&&t<e[0].timestampMs)return null;const r=Ml()(e,e=>e.timestampMs<=t);return r?r.proportionValue:null}getSumProportionValue(t,e){const r=this._index.get(e);return r?this._getSumProportionValue(t,Array.from(r.values())):null}_getSumProportionValue(t,e){const r=e.map(e=>{let{proportions:r}=e;return this._getProportionValue(t,r)}).filter(t=>null!==t);return 0===r.length?null:r.reduce((t,e)=>e?t+e:t,0)}}const Nl=ut({address:Tt.parser,description:K,mint:J}),Rl=pt({name:"MarkovEdgeAddress",nonce:"ME",otherNonces:(new Map).set("N","NodeAddress").set("E","EdgeAddress")});function Il(t,e){return Rl.fromParts([e,...At.toParts(t)])}function Cl(t){return Il(t.address,t.reversed?"B":"F")}const jl=Tt.fromParts(["sourcecred","core","gadget"]),Ll=(()=>{const t=Tt.append(jl,"SEED");return Object.freeze({prefix:t,toRaw:()=>t,fromRaw:e=>{if(e!==t)throw new Error("not seed node: ".concat(e))},node:()=>({address:t,description:"",mint:0})})})(),Pl=(()=>{const t=Tt.append(jl,"EPOCH_ACCUMULATOR"),e=Tt.toParts(t).length;function r(e){return Tt.append(t,String(e.epochStart))}return Object.freeze({prefix:t,toRaw:r,fromRaw:function(r){if(!Tt.hasPrefix(r,t))throw new Error("Not an accumulator node address: "+Tt.toString(r));const n=Tt.toParts(r).slice(e);if(1!==n.length)throw new Error("extra parts: ".concat(U()(n)));const i=+n[0];if(String(i)!==n[0])throw new Error("bad epoch representation: ".concat(n[0]));return{epochStart:i}},node:function(t){return{address:r(t),description:"Epoch accumulator starting ".concat(t.epochStart," ms past epoch"),mint:0}}})})(),Dl=(()=>{const t=Tt.append(jl,"USER_EPOCH"),e=Tt.toParts(t).length;function r(e){return Tt.append(t,String(e.epochStart),e.owner)}return Object.freeze({prefix:t,toRaw:r,fromRaw:function(r){if(!Tt.hasPrefix(r,t))throw new Error("Not an epoch node address: "+Tt.toString(r));const n=Tt.toParts(r).slice(e),i=+n[0];return{owner:yi(n[1]),epochStart:i}},node:function(t){return{address:r(t),description:"Participant epoch for ".concat(t.owner," starting ").concat(t.epochStart," ms past epoch"),mint:0}}})})();function Fl(t){let{edgePrefix:e,seedIsSrc:r,toParts:n,fromParts:i}=t;const o=Il(e,"F"),s=Rl.toParts(o).length;return Object.freeze({prefix:o,toRaw:t=>Rl.append(o,...n(t)),fromRaw:t=>i(Rl.toParts(t).slice(s)),markovEdge:(t,i)=>{const o=Ll.prefix,s=Tt.fromParts(n(t));return{address:At.append(e,...n(t)),reversed:!1,src:r?o:s,dst:r?s:o,transitionProbability:i}}})}const Bl=At.fromParts(["sourcecred","core","gadget"]),Ul=Fl({edgePrefix:At.append(Bl,"RADIATION"),seedIsSrc:!1,toParts:t=>Tt.toParts(t),fromParts:t=>Tt.fromParts(t)}),ql=Fl({edgePrefix:At.append(Bl,"SEED_MINT"),seedIsSrc:!0,toParts:t=>Tt.toParts(t),fromParts:t=>Tt.fromParts(t)}),Hl=(()=>{const t=At.append(Bl,"PAYOUT"),e=Il(t,"F"),r=Rl.toParts(e).length;return Object.freeze({prefix:e,toRaw:t=>{let{epochStart:r,owner:n}=t;return Rl.append(e,String(r),n)},fromRaw:t=>{const e=Rl.toParts(t).slice(r);return{epochStart:+e[0],owner:yi(e[1])}},markovEdge:(e,r)=>{let{owner:n,epochStart:i}=e;return{address:At.append(t,String(i),n),reversed:!1,src:Dl.toRaw({owner:n,epochStart:i}),dst:Pl.toRaw({epochStart:i}),transitionProbability:r}}})})(),Gl=At.append(Bl,"EPOCH_WEBBING"),zl=(()=>{const t=Il(Gl,"F"),e=Rl.toParts(t).length;return{prefix:t,toRaw:e=>{let{thisStart:r,lastStart:n,owner:i}=e;return Rl.append(t,String(n),String(r),i)},fromRaw:t=>{const r=Rl.toParts(t).slice(e);return{lastStart:+r[0],thisStart:+r[1],owner:yi(r[2])}},markovEdge:(t,e)=>{let{thisStart:r,lastStart:n,owner:i}=t;const o={epochStart:r,owner:i},s={epochStart:n,owner:i};return{address:At.append(Gl,String(n),String(r),i),reversed:!1,src:Dl.toRaw(s),dst:Dl.toRaw(o),transitionProbability:e}}}})(),Wl=(()=>{const t=Il(Gl,"B"),e=Rl.toParts(t).length;return{prefix:t,toRaw:e=>{let{thisStart:r,lastStart:n,owner:i}=e;return Rl.append(t,String(n),String(r),i)},fromRaw:t=>{const r=Rl.toParts(t).slice(e);return{lastStart:+r[0],thisStart:+r[1],owner:yi(r[2])}},markovEdge:(t,e)=>{let{thisStart:r,lastStart:n,owner:i}=t;const o={epochStart:r,owner:i},s={epochStart:n,owner:i};return{address:At.append(Gl,String(n),String(r),i),reversed:!0,src:Dl.toRaw(o),dst:Dl.toRaw(s),transitionProbability:e}}}})(),$l=(()=>{const t=At.append(Bl,"ATTRIBUTION"),e=Il(t,"F"),r=Rl.toParts(e).length;return Object.freeze({prefix:e,toRaw:t=>{let{epochStart:r,fromParticipantId:n,toParticipantId:i}=t;return Rl.append(e,String(r),n,i)},fromRaw:t=>{const e=Rl.toParts(t).slice(r);return{epochStart:+e[0],fromParticipantId:yi(e[1]),toParticipantId:yi(e[2])}},markovEdge:(e,r)=>{let{epochStart:n,fromParticipantId:i,toParticipantId:o}=e;return{address:At.append(t,String(n),i,o),reversed:!1,src:Dl.toRaw({owner:i,epochStart:n}),dst:Dl.toRaw({owner:o,epochStart:n}),transitionProbability:r}}})})();function Vl(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Yl=ut({address:Tt.parser,description:K,id:_i}),Kl=ut({alpha:J,beta:J,gammaForward:J,gammaBackward:J}),Jl=ut({address:At.parser,reversed:X,src:J,dst:J,transitionProbability:J});class Zl{constructor(t,e,r,n,i,o,s,a,c){Vl(this,"_nodes",void 0),Vl(this,"_edges",void 0),Vl(this,"_participants",void 0),Vl(this,"_epochStarts",void 0),Vl(this,"_lastEpochEndMs",void 0),Vl(this,"_parameters",void 0),Vl(this,"_mintTransitionProbabilties",void 0),Vl(this,"_radiationTransitionProbabilties",void 0),Vl(this,"_nodeIndex",void 0),Vl(this,"_edgeIndex",void 0),Vl(this,"_indexedPersonalAttributions",void 0),this._nodes=t,this._edges=e,this._epochStarts=j()(n),this._lastEpochEndMs=i,this._participants=j()(r),this._parameters=j()(o),this._radiationTransitionProbabilties=j()(a),this._mintTransitionProbabilties=s,this._nodeIndex=new Map([...Xl(t,n,r)].map((t,e)=>[t,e])),this._edgeIndex=new Map([...e.keys(),...eh(n,r,s,Xl(t,n,r),c)].map((t,e)=>[t,e])),this._indexedPersonalAttributions=c}static new(t){const{weightedGraph:e,participants:r,parameters:n,intervals:i,personalAttributions:o}=t,{alpha:s,beta:a,gammaForward:c,gammaBackward:u}=n,l=new Map,h=new Map,d=new Map(r.map(t=>[t.address,t.id])),f=new Set(r.map(t=>t.address)),p=new Map,m=(()=>{const t=t=>t>=0&&t<=1;if(!(t(a)&&t(c)&&t(u)&&t(s)))throw new Error("Invalid transition probability: "+[a,c,u,s].join(" or "));const e=1-(s+a+c+u);if(e<0)throw new Error("Overlarge transition probability: "+(1-e));return e})();if(0===i.length)throw new Error("need at least one interval");const g=i.map(t=>t.startTimeMs),y=i[i.length-1].endTimeMs,_=t=>{if(l.has(t.address))throw new Error("Node conflict: "+t.address);l.set(t.address,t)},v=t=>{const e=Cl(t);if(h.has(e))throw new Error("Edge conflict: "+e);h.set(e,t),b(t)},b=t=>{const e=t.transitionProbability;if(e<0||e>1){const r=Cl(t),n=Rl.toString(r);throw new Error("Invalid transition probability for ".concat(n,": ").concat(e))}p.set(t.src,(p.get(t.src)||0)+e)},w=new xl(o,g),E=ul(e.weights);for(const t of e.graph.nodes()){if(f.has(t.address))continue;const e=E(t.address);if(e<0||!Number.isFinite(e)){const r=Tt.toString(t.address);throw new Error("Bad node weight for ".concat(r,": ").concat(e))}if(Tt.hasPrefix(t.address,jl))throw new Error("Unexpected core node in underlying graph: "+Tt.toString(t.address));_({address:t.address,description:t.description,mint:e})}let S=null;for(const t of g){for(const e of r){const r={owner:e.id,epochStart:t};if(b(Hl.markovEdge(r,a)),null!=S){const r={thisStart:t,lastStart:S,owner:e.id};b(zl.markovEdge(r,c)),b(Wl.markovEdge(r,u))}else{const r={thisStart:t,lastStart:t,owner:e.id},n=Wl.markovEdge(r,u);b(n)}}S=t}if(null==S)throw new Error("invariant violation: there were no epochs");for(const t of r){const e={thisStart:S,lastStart:S,owner:t.id},r=zl.markovEdge(e,c);b(r)}const T=new Map;{let t=0;const e=new Map;for(const{address:r,mint:n}of l.values())n>0&&(t+=n,e.set(r,n));if(!(t>0))throw new Error("No outflow from seed; add cred-minting nodes");for(const[r,n]of e)T.set(r,n/t)}const A=(t,e)=>{const r=d.get(t);if(null==r)return t;const n=nl()(g,e),i=g[n-1];return Dl.toRaw({owner:r,epochStart:i})},O=function*(){const t=function(t){const e=new cl;for(const[r,n]of t.edgeWeights.entries())e.add(r,n);return function(t){return e.get(t).reduce((t,e)=>({forwards:t.forwards*e.forwards,backwards:t.backwards*e.backwards}),{forwards:1,backwards:1})}}(e.weights);for(const r of function*(){for(const r of e.graph.edges({showDangling:!1})){const e=t(r.address);yield{address:r.address,reversed:!1,src:r.src,dst:r.dst,timestamp:r.timestampMs,weight:e.forwards},yield{address:r.address,reversed:!0,src:r.dst,dst:r.src,timestamp:r.timestampMs,weight:e.backwards}}}())r.weight>0&&(yield r)},M=new Map;for(const t of O()){const e=A(t.src,t.timestamp);let r=M.get(e);null==r&&(r={totalOutWeight:0,outEdges:[]},M.set(e,r)),r.totalOutWeight+=t.weight,r.outEdges.push(t)}for(const[t,{totalOutWeight:e,outEdges:r}]of M){const n=Tt.hasPrefix(t,Dl.prefix)?m:1-s;for(const t of r){const r=t.weight/e*n;v({address:t.address,reversed:t.reversed,src:A(t.src,t.timestamp),dst:A(t.dst,t.timestamp),transitionProbability:r})}}const k=[...function*(){yield*l.values();for(const t of Ql(g,r))yield vt(th(t))}()].map(t=>1-bt(p.get(t.address),0));return new Zl(l,h,r,g,y,n,T,k,w)}epochStarts(){return this._epochStarts}intervals(){const t=this._epochStarts,e=[];for(let r=0;r<t.length;r++){const n=t[r],i=r+1<t.length?t[r+1]:this._lastEpochEndMs;e.push({startTimeMs:n,endTimeMs:i})}return El(e)}participants(){return this._participants}parameters(){return this._parameters}nodeIndex(t){return bt(this._nodeIndex.get(t),null)}*nodeOrder(){yield*Xl(this._nodes,this._epochStarts,this._participants)}node(t){return Tt.assertValid(t),this._nodes.get(t)||th(t)}*nodes(t){const e=t?t.prefix:Tt.empty;for(const[t,r]of this._nodes)Tt.hasPrefix(t,e)&&(yield r);for(const t of Ql(this._epochStarts,this._participants))Tt.hasPrefix(t,e)&&(yield vt(th(t)))}edgeIndex(t){return bt(this._edgeIndex.get(t),null)}*edgeOrder(){yield*this._edges.keys(),yield*eh(this._epochStarts,this._participants,this._mintTransitionProbabilties,this.nodeOrder(),this._indexedPersonalAttributions)}edge(t){return Rl.assertValid(t),this._edges.get(t)||rh(t,this._parameters,this._nodeIndex,this._mintTransitionProbabilties,this._radiationTransitionProbabilties,this._indexedPersonalAttributions)}*edges(){yield*this._edges.values();for(const t of eh(this._epochStarts,this._participants,this._mintTransitionProbabilties,this.nodeOrder(),this._indexedPersonalAttributions))yield vt(rh(t,this._parameters,this._nodeIndex,this._mintTransitionProbabilties,this._radiationTransitionProbabilties,this._indexedPersonalAttributions))}*inNeighbors(t){for(const e of this.edges())e.dst===t&&(yield e)}toMarkovChain(){const t=Array.from(this.nodes()),e=new Map;for(const{address:r}of t)e.set(r,0);for(const t of this.edges()){const r=t.src;e.set(r,vt(e.get(r))+t.transitionProbability)}for(const[t,r]of e){const e=r-1;if(Math.abs(e)>.001){const e=Tt.toString(t);throw new Error("Transition weights for ".concat(e," do not sum to 1.0: ").concat(r))}}const r=new Map;for(const t of this.edges())G(r,t.dst,t);const n=t.map(t=>{let{address:e}=t;const n=bt(r.get(e),[]),i=n.length,o=new Uint32Array(i),s=new Float64Array(i);return n.forEach((t,e)=>{const r=this.nodeIndex(t.src);if(null==r)throw new Error(t.src);o[e]=r,s[e]=t.transitionProbability}),{neighbor:o,weight:s}});return{nodeOrder:t.map(t=>t.address),chain:n}}toJSON(){const t=Array.from(this._edges.values()).map(t=>({address:t.address,reversed:t.reversed,src:vt(this.nodeIndex(t.src)),dst:vt(this.nodeIndex(t.dst)),transitionProbability:t.transitionProbability})),e=Array.from(this._mintTransitionProbabilties).map(t=>{let[e,r]=t;return[vt(this.nodeIndex(e)),r]});return{nodes:[...this._nodes.values()],indexedEdges:t,participants:this._participants,epochStarts:this._epochStarts,lastEpochEndMs:this._lastEpochEndMs,parameters:this._parameters,radiationTransitionProbabilities:this._radiationTransitionProbabilties,indexedMints:e,personalAttributions:this._indexedPersonalAttributions.toPersonalAttributions()}}static fromJSON(t){const{nodes:e,indexedEdges:r,participants:n,epochStarts:i,lastEpochEndMs:o,parameters:s,radiationTransitionProbabilities:a,indexedMints:c,personalAttributions:u}=t,l=[...e.map(t=>t.address),...Ql(i,n)],h=r.map(t=>({address:t.address,reversed:t.reversed,src:l[t.src],dst:l[t.dst],transitionProbability:t.transitionProbability})),d=new Map(c.map(t=>{let[e,r]=t;return[l[e],r]})),f=new xl(u,i);return new Zl(new Map(e.map(t=>[t.address,t])),new Map(h.map(t=>[Cl(t),t])),n,i,o,s,d,a,f)}}function*Xl(t,e,r){yield*t.keys(),yield*Ql(e,r)}function*Ql(t,e){yield Ll.prefix;for(const r of t){yield Pl.toRaw({epochStart:r});for(const{id:t}of e)yield Dl.toRaw({owner:t,epochStart:r})}}function th(t){return Tt.hasPrefix(t,Dl.prefix)?Dl.node(Dl.fromRaw(t)):Tt.hasPrefix(t,Pl.prefix)?Pl.node(Pl.fromRaw(t)):Tt.hasPrefix(t,Ll.prefix)?Ll.node():null}function*eh(t,e,r,n,i){let o=null;for(const r of t){for(const{id:t}of e){yield Hl.toRaw({owner:t,epochStart:r});for(const e of i.recipientsForEpochAndParticipant(r,t))yield $l.toRaw({epochStart:r,fromParticipantId:t,toParticipantId:e});if(null!=o){const e={thisStart:r,lastStart:o,owner:t};yield zl.toRaw(e),yield Wl.toRaw(e)}else{const e={thisStart:r,lastStart:r,owner:t};yield Wl.toRaw(e)}}o=r}if(null==o)throw new Error("invariant violation: there were no epochs");for(const{id:t}of e){const e={thisStart:o,lastStart:o,owner:t};yield zl.toRaw(e)}for(const t of r.keys())yield ql.toRaw(t);for(const t of n)t!==Ll.prefix&&(yield Ul.toRaw(t))}function rh(t,e,r,n,i,o){if(Rl.hasPrefix(t,Ul.prefix)){const e=Ul.fromRaw(t),n=i[vt(r.get(e))];return Ul.markovEdge(e,n)}if(Rl.hasPrefix(t,ql.prefix)){const e=ql.fromRaw(t),r=vt(n.get(e));return ql.markovEdge(e,r)}if(Rl.hasPrefix(t,Hl.prefix)){const r=Hl.fromRaw(t),n=o.getSumProportionValue(r.epochStart,r.owner)||0;return Hl.markovEdge(Hl.fromRaw(t),e.beta-n*e.beta)}if(Rl.hasPrefix(t,zl.prefix))return zl.markovEdge(zl.fromRaw(t),e.gammaForward);if(Rl.hasPrefix(t,Wl.prefix))return Wl.markovEdge(Wl.fromRaw(t),e.gammaBackward);if(Rl.hasPrefix(t,$l.prefix)){const r=$l.fromRaw(t),n=o.getProportionValue(r.epochStart,r.fromParticipantId,r.toParticipantId)||0;return 0===n?null:$l.markovEdge($l.fromRaw(t),e.beta*n)}return null}const nh=ut({nodes:st(Nl),indexedEdges:st(Jl),participants:st(Yl),epochStarts:st(J),lastEpochEndMs:J,parameters:Kl,radiationTransitionProbabilities:st(J),indexedMints:st(ht([J,J])),personalAttributions:kl});nt(nh,Zl.fromJSON);function ih(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function oh(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ih(Object(r),!0).forEach((function(e){sh(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ih(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function sh(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class ah{constructor(t,e){sh(this,"_mpg",void 0),sh(this,"_scores",void 0),this._mpg=t,this._scores=e}_cred(t){const e=vt(this._mpg.nodeIndex(t));return this._scores[e]}_credFlow(t){return this._cred(t.src)*t.transitionProbability}node(t){const e=this._mpg.node(t);if(null!=e)return oh(oh({},e),{},{cred:this._cred(t)})}*nodes(){for(const t of this._mpg.nodes())yield oh(oh({},t),{},{cred:this._cred(t.address)})}*edges(){for(const t of this._mpg.edges())yield oh(oh({},t),{},{credFlow:this._credFlow(t)})}*participants(){for(const{address:t,description:e,id:r}of this._mpg.participants()){const n=this._mpg.epochStarts().map(t=>({owner:r,epochStart:t}));let i=0;const o=n.map(t=>{const e=Hl.toRaw(t),r=vt(this._mpg.edge(e)),n=this._credFlow(r);return i+=n,n});yield{address:t,description:e,credPerInterval:o,cred:i,id:r}}}intervals(){return this._mpg.intervals()}*inNeighbors(t){for(const e of this._mpg.inNeighbors(t))yield oh(oh({},e),{},{credFlow:this._credFlow(e)})}toJSON(){return{mpg:this._mpg.toJSON(),scores:this._scores}}static fromJSON(t){return new ah(Zl.fromJSON(t.mpg),t.scores)}}const ch=ut({mpg:nh,scores:st(J)}),uh=nt(ch,ah.fromJSON);var lh=r(97),hh=r.n(lh);function dh(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const fh=ut({participants:st(ut({active:X,identity:xi,cred:J,credPerInterval:st(J),grainEarned:ho,grainEarnedPerInterval:st(ho)})),intervals:Sl}).fmap(t=>ph.fromJSON(t));class ph{constructor(t,e){dh(this,"_participants",void 0),dh(this,"_intervals",void 0),dh(this,"_credTotals",void 0),dh(this,"_grainTotals",void 0),this._participants=t,this._intervals=e,this._credTotals=[],this._grainTotals=[],t.forEach(t=>{for(let e=0;e<this._intervals.length;e++)this._credTotals[e]=t.credPerInterval[e]+(this._credTotals[e]||0),this._grainTotals[e]=zi(t.grainEarnedPerInterval[e],this._grainTotals[e]||qi)})}static _calculateGrainEarnedPerInterval(t,e){let r=0;return e.map(e=>{let n=qi;for(;t.allocationHistory.length-1>=r&&e.startTimeMs<t.allocationHistory[r].credTimestampMs&&t.allocationHistory[r].credTimestampMs<=e.endTimeMs;)n=zi(n,t.allocationHistory[r].grainReceipt.amount),r++;return n})}validateForGrainAllocation(){if(0===this.activeParticipants().length)throw new Error("must have at least one identity to allocate grain to");if(this.activeParticipants().forEach(t=>{if(t.credPerInterval.forEach(t=>{if("number"!=typeof t)throw new Error("Non numeric cred value found");if(t<0)throw new Error("negative cred in interval data")}),"number"!=typeof t.cred)throw new Error("Non numeric cred value found");if(t.credPerInterval.length!==this.intervals().length)throw new Error("participant cred per interval length mismatch");if(t.grainEarnedPerInterval.length!==this.intervals().length)throw new Error("participant grain per interval length mismatch");if(fo(t.credPerInterval)!==t.cred)throw new Error("participant cred per interval mismatched with participant cred total");if(!Xi(lo(t.grainEarnedPerInterval),t.grainEarned))throw new Error("participant grain per interval mismatched with participant grain total:");t.grainEarnedPerInterval.forEach(t=>{if(t<qi)throw new Error("negative grain paid in interval data")})}),fo(this.totalCredPerInterval())<1)throw new Error("cred is zero. Make sure your plugins are configured correctly and remember to run 'yarn go' to calculate the cred scores.")}withTimeScope(t,e){return new mh(this,t,e)}withTimeScopeFromLookback(t,e){const r=this._intervals.filter(e=>e.endTimeMs<=t);return e?!r||r.length<=e?new mh(this,-1/0,t):new mh(this,r[r.length-e].startTimeMs,t):new mh(this,-1/0,t)}intervals(){return this._intervals}participants(){return this._participants}activeParticipants(){return this._participants.filter(t=>t.active)}totalCredPerInterval(){return this._credTotals}totalGrainPerInterval(){return this._grainTotals}toJSON(){return{participants:this._participants,intervals:this._intervals}}static fromJSON(t){return new ph(t.participants,t.intervals)}static fromCredGraphAndLedger(t,e){const r=j()(t.intervals()),n=new Map;for(const e of t.participants())n.set(e.id,e);const i=j()(e.accounts().map(t=>{const e=n.get(t.identity.id);if(!e)throw new Error("The graph is missing account [".concat(t.identity.name,": ").concat(t.identity.id,"] that exists in the ledger. Try recalculating the scores."));const i=this._calculateGrainEarnedPerInterval(t,r);return{active:t.active,identity:t.identity,cred:e.cred,credPerInterval:e.credPerInterval,grainEarned:t.paid,grainEarnedPerInterval:i}}));return new ph(i,r)}}class mh{constructor(t,e,r){dh(this,"_participants",void 0),dh(this,"_intervals",void 0),dh(this,"_credTotals",void 0),dh(this,"_grainTotals",void 0);const n=t.intervals();let i=n.findIndex(t=>e<=t.startTimeMs);-1===i&&(i=n.length);const o=hh()(n,t=>t.endTimeMs<=r)+1;this._intervals=j()(El(n.slice(i,o))),this._participants=j()(t.participants().map(t=>{const e=t.credPerInterval.slice(i,o),r=t.grainEarnedPerInterval.slice(i,o);return{active:t.active,identity:t.identity,cred:e.reduce((t,e)=>t+e,0),credPerInterval:e,grainEarned:r.reduce((t,e)=>zi(t,e||qi),qi),grainEarnedPerInterval:r}})),this._credTotals=t.totalCredPerInterval().slice(i,o),this._grainTotals=t.totalGrainPerInterval().slice(i,o)}intervals(){return this._intervals}participants(){return this._participants}activeParticipants(){return this._participants.filter(t=>t.active)}totalCredPerInterval(){return this._credTotals}totalGrainPerInterval(){return this._grainTotals}}function gh(t,e,r){const n=t.map(t=>function(t,e,r){const n=zo(t);return e.validateForGrainAllocation(),Wo({policy:t,receipts:$o(n,e,r),id:gi()})}(t,e,r));return{id:gi(),allocations:n,credTimestamp:r}}function yh(t,e,r,n,i){return function(t,e,r,n,i){const o=t.filter(t=>t.endTimeMs<=r),s=o.filter(t=>t.endTimeMs>e),a=s.slice(s.length-n,s.length);return i&&!a.length?El(o.slice(o.length-1)):El(a)}(e.intervals(),bt(r.lastDistributionTimestamp(),-1/0),n,t.maxSimultaneousDistributions,i).map(n=>{const i=ph.fromCredGraphAndLedger(e,r),o=gh(t.allocationPolicies,i,n.endTimeMs);return r.distributeGrain(o),o})}function _h(t,e){const r=t.accounts(),n=new Map,i=e.intervals(),o=0===i.length;for(const{address:t,description:r,credPerInterval:i}of e.participants())if(o)n.set(t,{cred:[],description:r});else{if(null===i)throw new Error("userlike ".concat(Tt.toString(t)," does not have detailed cred"));n.set(t,{cred:i,description:r})}return function(t,e,r){const n=new Set,i=new Set,o=[],s=[];for(const r of t){i.add(r.identity.address);for(const t of r.identity.aliases)n.add(t.address);const t=e.get(r.identity.address);if(null==t)throw new Error("cred sync error: no info for account ".concat(r.identity.name));const{cred:s}=t,a={account:r,cred:s,totalCred:fo(s)};o.push(a)}for(const[t,r]of e.entries()){if(i.has(t))continue;const{cred:e,description:o}=r;if(n.has(t))throw new Error("cred sync error: alias ".concat(Tt.toString(t)," (aka ").concat(o,") included in Cred scores"));s.push({alias:{address:t,description:o},cred:e,totalCred:fo(e)})}return{accounts:o,unclaimedAliases:s,intervals:r}}(r,n,i)}var vh=r(98),bh=r.n(vh);function wh(t,e){return bh()(t.eventLog(),e.eventLog(),"uuid")}const Eh={applyDistributions:yh,computeDistribution:gh,computeCredAccounts:_h};function Sh(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Th(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Sh(Object(r),!0).forEach((function(e){Ah(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sh(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ah(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class Oh{constructor(t){var e;Ah(this,"_ledger",void 0),Ah(this,"_storage",void 0),Ah(this,"_path",void 0),this._path=null!==(e=t.path)&&void 0!==e?e:"data/ledger.json",this._storage=t.storage,this._ledger=t.initLogs?Qo.fromEventLog(t.initLogs):new Qo}get ledger(){return this._ledger}_getLocalChanges(t){return wh(this._ledger,t)}_getRemoteChanges(t){return wh(t,this._ledger)}async persist(){const t=await this.reloadLedger();if(t.error)return t;await this._storage.set(this._path,Os(this._ledger.serialize()));const e=await this.reloadLedger();return e.error?e:0!==e.localChanges.length?Th(Th({},e),{},{error:"Some local changes have not been persisted"}):e}async reloadLedger(){let t;try{t=await this._getLedger()}catch(t){return{error:t.message,remoteChanges:[],localChanges:[]}}const e=this._getLocalChanges(t),r=this._getRemoteChanges(t);if(!r.length)return{error:null,remoteChanges:[],localChanges:e};try{for(const r of e)t._createAndProcessEvent(r.action);return this._ledger=t,{error:null,remoteChanges:r,localChanges:e}}catch(t){return this._ledger=await this._getLedger(),{error:"Unable to apply local changes: ".concat(t.message,", resetting to remote ledger"),remoteChanges:r,localChanges:e}}}async _getLedger(){const t=await this._storage.get(this._path);return Qo.parse(As(t))}}function Mh(t){const e=t.split("/");if(2!==e.length)throw new Error("Invalid repo string: ".concat(t));return function(t,e){const r=new RegExp("^".concat("[A-Za-z0-9-]+","$")),n=new RegExp("^".concat("[A-Za-z0-9-._]+","$"));if(!t.match(r))throw new Error("Invalid repository owner: ".concat(JSON.stringify(t)));if(!e.match(n))throw new Error("Invalid repository name: ".concat(JSON.stringify(e)));return{owner:t,name:e}}(e[0],e[1])}function kh(t){return"".concat(t.owner,"/").concat(t.name)}for(var xh={},Nh=new Array(64),Rh=0,Ih="A".charCodeAt(0),Ch="Z".charCodeAt(0);Rh+Ih<=Ch;Rh++){var jh=String.fromCharCode(Rh+Ih);xh[jh]=Rh,Nh[Rh]=jh}for(Rh=0,Ih="a".charCodeAt(0),Ch="z".charCodeAt(0);Rh+Ih<=Ch;Rh++){jh=String.fromCharCode(Rh+Ih);var Lh=Rh+26;xh[jh]=Lh,Nh[Lh]=jh}for(Rh=0;Rh<10;Rh++){xh[Rh.toString(10)]=Rh+52;jh=Rh.toString(10),Lh=Rh+52;xh[jh]=Lh,Nh[Lh]=jh}xh["+"]=62,Nh[62]="+",xh["/"]=63,Nh[63]="/";function Ph(t){for(var e="",r=0;r<t.length;r+=3){for(var n=0,i=0,o=r,s=Math.min(r+3,t.length);o<s;o++)n|=t[o]<<8*(s-o-1),i+=8;var a=Math.ceil(i/6);n<<=6*a-i;for(var c=1;c<=a;c++){var u=6*(a-c);e+=Nh[(n&63<<u)>>u]}e+="==".slice(0,4-a)}return e}function Dh(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class Fh{constructor(t){Dh(this,"_token",void 0),Dh(this,"_repoId",void 0),Dh(this,"_branch",void 0),this._token=t.apiToken,this._repoId=Mh(t.repo),this._branch=t.branch}async get(t){const e={method:"POST",headers:{Authorization:"Bearer ".concat(this._token)},body:JSON.stringify({query:"\nquery getContent($owner: String!, $repo: String!, $expression:String!) {\n  repository(owner: $owner, name: $repo) {\n    object(expression: $expression) {\n      ... on Blob {\n        oid\n      }\n    }\n  }\n}\n",variables:{owner:this._repoId.owner,repo:this._repoId.name,expression:"".concat(this._branch,":").concat(t)}})},r=await Mu()("".concat(Fh.ENDPOINT,"/graphql"),e),{data:n}=await r.json(),i=n.repository.object.oid,o=await Mu()("".concat(this._getRepoEndpoint(),"/git/blobs/").concat(i),{method:"GET",headers:{Authorization:"Bearer ".concat(this._token)}}),s=await o.json(),a=Object(di.decode)(s.content);return Os(a)}_getRepoEndpoint(){const{owner:t,name:e}=this._repoId;return"".concat(Fh.ENDPOINT,"/repos/").concat(t,"/").concat(e)}}Dh(Fh,"ENDPOINT","https://api.github.com");class Bh extends Fh{async set(t,e,r,n){const i=await Mu()("".concat(this._getRepoEndpoint(),"/git/ref/heads/").concat(this._branch),{method:"GET",headers:{Authorization:"Bearer ".concat(this._token)}}),o=(await i.json()).object.sha,s=await Mu()("".concat(this._getRepoEndpoint(),"/git/blobs"),{method:"POST",headers:{Authorization:"Bearer ".concat(this._token)},body:JSON.stringify({owner:this._repoId.owner,repo:this._repoId.name,content:Ph(e),encoding:"base64"})}),a=(await s.json()).sha,c=await Mu()("".concat(this._getRepoEndpoint(),"/git/trees"),{method:"POST",headers:{Authorization:"Bearer ".concat(this._token)},body:JSON.stringify({tree:[{sha:a,type:"blob",path:t,mode:"100644"}],base_tree:o})}),u=await c.json(),l=await Mu()("".concat(this._getRepoEndpoint(),"/git/commits"),{method:"POST",headers:{Authorization:"Bearer ".concat(this._token)},body:JSON.stringify({message:null!=r?r:"",tree:u.sha,parents:[o],author:null!=n?n:{name:"credbot",email:"credbot@users.noreply.github.com"}})}),h=await l.json();await Mu()("".concat(this._getRepoEndpoint(),"/git/refs/heads/").concat(this._branch),{method:"PATCH",headers:{Authorization:"Bearer ".concat(this._token)},body:JSON.stringify({sha:h.sha})})}}function Uh(t){const e=Hh(t);return new Date(e).toISOString()}function qh(t){if("string"!=typeof t)throw new TypeError("TimestampISO values must be strings, "+"received: ".concat(String(t)));const e=Date.parse(t);if(Number.isNaN(e))throw new RangeError("Could not parse TimestampISO, are you sure it's a valid ISO format? "+"received: ".concat(String(t)));return e}function Hh(t){const e=Number(t);if(null==t||!Number.isInteger(e))throw new TypeError("Numbers representing TimestampMs values must be finite integers, "+"received: ".concat(String(t)));return new Date(e).valueOf()}nt(J,Hh);const Gh=nt(K,(function(t){return qh(t),t}));function zh(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Wh(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?zh(Object(r),!0).forEach((function(e){$h(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zh(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function $h(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Vh=ut({startTime:Gh,weight:J});const Yh=ut({name:yr,periods:st(Vh)},{id:_i,autoActivateOnIdentityCreation:X,autoInjectStartingPeriodWeight:nt(J,(function(t){if(t<0)throw new Error("must be a non-negative number, got ".concat(t));return t}))}),Kh=st(Yh);function Jh(t,e){const r=function(t){const e=ul(t.weights);return Tl(t.graph).map(t=>{let{interval:r,nodes:n}=t,i=0;for(const{address:t}of n)i+=e(t);return{interval:r,totalMint:i}})}(t);return e.map(e=>{const n=t.graph.node(e.address);if(null==n)throw new Error("bonus recipient not in graph: ".concat(Tt.toString(e.address)));return{recipient:n,bonusIntervals:Zh(r,e.periods)}})}function Zh(t,e){let r=0,n=0;return t.map(t=>{let{interval:i,totalMint:o}=t;for(;r<e.length&&e[r].startTimeMs<=i.startTimeMs;)n=e[r].weight,r++;return{interval:i,amount:o*n}})}const Xh=Tt.fromParts(["sourcecred","core","BONUS"]);function Qh(t,e){return Tt.append(Xh,String(e.startTimeMs),...Tt.toParts(t.address))}function td(t,e){return{address:Qh(t,e),timestampMs:e.startTimeMs,description:"bonus minting for ".concat(t.description," starting ").concat(e.startTimeMs)}}const ed=At.fromParts(["sourcecred","core","BONUS"]),rd=Object.freeze({forwards:1,backwards:0});function nd(t,e){return At.append(ed,String(e.startTimeMs),...Tt.toParts(t.address))}function id(t,e){return{src:Qh(t,e),dst:t.address,address:nd(t,e),timestampMs:e.startTimeMs}}const od=rt(["WEEKLY"]);function sd(t,e){if(function(t){for(let e=0;e<t.length;e++)for(let r=e;r<t.length;r++)if(e!==r){if(Tt.hasPrefix(t[e],t[r]))return!0;if(Tt.hasPrefix(t[r],t[e]))return!0}return!1}(e.entries.map(t=>t.prefix)))throw new Error("budget prefix conflict detected");if("WEEKLY"!==e.intervalLength)throw new Error("non-weekly budgets not supported");return function(t,e){const r=Ge(t.weights);for(const{address:n,weight:i}of e){const e=bt(t.weights.nodeWeights.get(n),1);r.nodeWeights.set(n,e*i)}return{graph:t.graph.copy(),weights:r}}(t,function(t,e){const r=ul(t.weights),n=Tl(t.graph),i=e.entries.map(t=>function(t){const{evaluator:e,partition:r,entry:n}=t,{periods:i,prefix:o}=n;if(!function(t){let e=-1/0;for(const r of t){if(r<e)return!1;e=r}return!0}(i.map(t=>t.startTimeMs)))throw new Error("budget for ".concat(Tt.toString(o)," has periods out-of-order"));const s=[];for(const{interval:t,nodes:n}of r){const r=ad(i,t.startTimeMs),a=n.map(t=>t.address).filter(t=>Tt.hasPrefix(t,o)),c=cd(a.map(t=>({address:t,weight:e(t)})),r);if(1!==c)for(const t of a)s.push({address:t,weight:c})}return s}({evaluator:r,partition:n,entry:t}));return[].concat(...i)}(t,e))}function ad(t,e){const r=Ml()(t,t=>t.startTimeMs<=e);return r?r.budgetValue:1/0}function cd(t,e){const r=fo(t,t=>t.weight);return r<=e?1:e/r}function ud(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ld(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ud(Object(r),!0).forEach((function(e){hd(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ud(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function hd(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}async function dd(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r={maxIterations:255,convergenceThreshold:1e-7,yieldAfterMs:30,verbose:!1};e=ld(ld({},r),e);const n=t.toMarkovChain(),i={chain:n.chain,pi0:Ju(n.nodeOrder.length),seed:Ju(n.nodeOrder.length),alpha:0},o=await el(i,e),s=Ku(n.nodeOrder,o.pi),a=fo(Array.from(t.nodes({prefix:Pl.prefix})).map(t=>vt(s.get(t.address))));let c=0;for(const{mint:e}of t.nodes())c+=e;const u=n.nodeOrder.map((t,e)=>o.pi[e]/a*c);return new ah(t,u)}const fd=J.fmap(t=>{if(t<0||t>1)throw new Error("Proportion ".concat(t," is not in range [0,1]"));return t}),pd=st(ut({fromParticipantName:yr,recipients:st(ut({toParticipantName:yr,proportions:st(ut({startDate:Gh,decimalProportion:fd}))},{toParticipantId:bi}))},{fromParticipantId:bi}));async function md(t){let e=ws(bs(t.pluginGraphs),t.weightOverrides);const r=t.dependencies.map(e=>function(t,e){const r=t.id;if(null==r){const r=e.accountByName(t.name);if(null!=r){const e=r.identity.id;return Wh(Wh({},t),{},{id:e})}{const r=e.createIdentity("PROJECT",t.name);t.autoActivateOnIdentityCreation&&e.activate(r);const n=t.autoInjectStartingPeriodWeight;return null==n||t.periods.length?Wh(Wh({},t),{},{id:r}):Wh(Wh({},t),{},{id:r,periods:[{startTime:Uh(Date.now()),weight:n}]})}}{let n;try{n=e.account(r).identity}catch(e){throw new Error("The identity for the dependency ".concat(t.name," has been deleted from the ledger, or the ledger has been reset. ")+"If this was intentional, go to your dependencies.json file and delete the 'id' attribute to reset.")}if(n.name!==t.name)throw new Error("dependency name discrepancy: dep has name ".concat(t.name," in ")+"config, but name ".concat(n.name," in the ledger. ")+"if you deliberately renamed this dep in the ledger, please re-name it in the config as well.");return t}}(e,t.ledger)),n=t.ledger.accounts().map(t=>t.identity),i=e.graph.contractNodes(ki(n));e={graph:i,weights:e.weights},t.pluginsBudget&&(e=sd(e,t.pluginsBudget));e=bs([e,function(t){const e=new kt,r=He();for(const{recipient:n,bonusIntervals:i}of t){e.addNode(n);for(const{interval:t,amount:o}of i)0!==o&&(e.addNode(td(n,t)),e.addEdge(id(n,t)),r.nodeWeights.set(Qh(n,t),o))}return r.edgeWeights.set(ed,rd),{graph:e,weights:r}}(Jh(e,r.map(e=>function(t,e){const{id:r}=t;if(null==r)throw new Error("cannot convert config to policy before it has an id. ensureIdentityExists must be called first.");return{address:e.account(r).identity.address,periods:t.periods.map(t=>{let{startTime:e,weight:r}=t;return{weight:r,startTimeMs:qh(e)}})}}(e,t.ledger))))]);const o=(s=t.personalAttributions,a=t.ledger,s.map(t=>{var e;let{fromParticipantId:r,fromParticipantName:n,recipients:i}=t;const o=r?a.account(r).identity.id:null===(e=a.accountByName(n))||void 0===e?void 0:e.identity.id;if(!o)throw new Error("".concat(n," does not exist."));return{fromParticipantId:o,fromParticipantName:a.account(o).identity.name,recipients:i.map(t=>{var e;let{toParticipantId:r,toParticipantName:n,proportions:i}=t;const o=r?a.account(r).identity.id:null===(e=a.accountByName(n))||void 0===e?void 0:e.identity.id;if(!o)throw new Error("".concat(n," does not exist."));return{toParticipantId:o,toParticipantName:a.account(o).identity.name,proportions:i}})}}));var s,a;const c=await function(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0;const o={alpha:.1,beta:.4,gammaForward:.1,gammaBackward:.1},s=ld(ld({},o),n),a=e.accounts().map(t=>{let{identity:e}=t;return{description:e.name,address:e.address,id:e.id}}),c=Al(t.graph),u=Zl.new({weightedGraph:t,participants:a,parameters:s,intervals:c,personalAttributions:r});return dd(u,i)}(e,t.ledger,function(t){return t.map(t=>{let{fromParticipantId:e,recipients:r}=t;if(!e)throw new Error("PersonalAttributionConfig must be updated before use.");return{fromParticipantId:e,recipients:r.map(t=>{let{toParticipantId:e,proportions:r}=t;if(!e)throw new Error("PersonalAttributionConfig must be updated before use.");return{toParticipantId:e,proportions:r.map(t=>{let{startDate:e,decimalProportion:r}=t;return{timestampMs:qh(e),proportionValue:r}})}})}})}(o));return{credGraph:c,credGrainView:ph.fromCredGraphAndLedger(c,t.ledger),ledger:t.ledger,dependencies:r,personalAttributions:o}}r(65);function gd(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r(121);class yd{constructor(){gd(this,"_activeTasks",void 0),gd(this,"_entries",void 0),this._activeTasks=new Set,this._entries=[]}start(t){if(this._activeTasks.has(t))throw new Error("task ".concat(t," already active"));return this._activeTasks.add(t),this._entries.push({taskId:t,type:"START"}),this}finish(t){if(!this._activeTasks.has(t))throw new Error("task ".concat(t," not active"));return this._activeTasks.delete(t),this._entries.push({taskId:t,type:"FINISH"}),this}entries(){return this._entries.slice()}activeTasks(){return Array.from(this._activeTasks)}}class _d{constructor(t){var e,r,n;n=void 0,(r="refs")in(e=this)?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,this.refs=t}addressFromUrl(t){for(const e of this.refs){const r=e.addressFromUrl(t);if(r)return r}}}async function vd(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new yd;const n=[];for(const{pluginId:e,plugin:i,directoryContext:o}of t.plugins){const t="reference detector for ".concat(e);r.start(t);const s=await i.referenceDetector(o,r);n.push(s),r.finish(t)}n.push(bd(t.ledger));const i=new _d(n),o=[];for(const{pluginId:n,plugin:s,directoryContext:a}of t.plugins)if(!e||e.includes(n)){const e="generating graph for ".concat(n);r.start(e),o.push({pluginId:n,weightedGraph:await s.graph(a,i,r)});const c=await s.identities(a,r);for(const e of c)fs(t.ledger,e);r.finish(e)}return{pluginGraphs:o,ledger:t.ledger}}function bd(t){const e=new Map(t.accounts().map(t=>[t.identity.name.toLowerCase(),t.identity.address]));return{addressFromUrl:function(t){const r=t.replace("@","").toLowerCase();return e.get(r)}}}function wd(t){const e=new Map;return t.allocations.map(t=>{let{receipts:r}=t;r.map(t=>{let{amount:r,id:n}=t;const i=bt(e.get(n),qi);e.set(n,zi(r,i))})}),e}function Ed(t,e,r){const n=new Map,i=new Map,o=wd(e);for(const[e,s]of o.entries()){const{payoutAddresses:o,identity:a}=t.account(e),c=o.get(r);if(!c)continue;const u=bt(n.get(c),qi);n.set(c,zi(s,u)),i.set(c,a.id)}return{payoutDistributions:Array.from(n.entries()),payoutAddressToId:i}}async function Sd(t){return{distributions:yh(t.grainConfig,t.credGraph,t.ledger,+Date.now(),t.allowMultipleDistributionsPerInterval||!1),ledger:t.ledger}}function Td(t,e,r){const n=t.currencyDetails.integrationCurrency,i=t.grainConfig.integration,o=[];let s=e;return n&&i&&r.forEach(t=>{const e=function(t,e,r,n,i,o){let s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];const{payoutDistributions:a,payoutAddressToId:c}=Ed(t,r,Li(n));let u;try{u=e(a,{currency:n,accountingEnabled:s,processDistributions:i}),i&&t.markDistributionExecuted(r.id)}catch(t){throw new Error("Grain Integration failed: ".concat(t))}if(u&&o&&s&&i){const{transferredGrain:e}=u;for(const{payoutAddress:r,amount:n,memo:i}of e){const e=c.get(r);if(!e)throw new Error("Invalid recipient address: ".concat(r));t.transferGrain({from:e,to:o,amount:n,memo:"Integrated Distribution: ".concat(i)})}}return{ledger:t,output:u.outputFile,distributionCredTimestamp:r.credTimestamp}}(s,i.function,t,n,!1),{output:r,distributionCredTimestamp:a,ledger:c}=e;s=c,o.push({output:r,distributionCredTimestamp:a})}),{ledger:s,results:o}}function Ad(t,e){if(e<1)throw new Error("BatchSize must be 1 or more.");let r=0,n=t.next(),i=!n.done,o=0;const s=()=>{if(n.done)return n;if(r>=e)return r=0,o++,{value:void 0,done:!0};r++;const s=n;return n=t.next(),i=!n.done,n.done&&o++,s};return{next:s,hasNext:()=>i,numBatchesCompleted:()=>o,"@@iterator":()=>this,*[Symbol.iterator](){for(let t;!(t=s()).done;)yield t.value}}}var Od=r(4),Md=r.n(Od),kd=r(31),xd=r.n(kd);function Nd(t){return(Nd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Id(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Cd(t,e,r){return e&&Id(t.prototype,e),r&&Id(t,r),t}function jd(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pd(t,e)}function Ld(t){return(Ld=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pd(t,e){return(Pd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Dd(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Fd(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||Bd(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Bd(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}var Ud="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},qd=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hd=/^\w*$/,Gd=/^\./,zd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wd=/\\(\\)?/g,$d=/^\[object .+?Constructor\]$/,Vd="object"==typeof Ud&&Ud&&Ud.Object===Object&&Ud,Yd="object"==typeof self&&self&&self.Object===Object&&self,Kd=Vd||Yd||Function("return this")();var Jd,Zd=Array.prototype,Xd=Function.prototype,Qd=Object.prototype,tf=Kd["__core-js_shared__"],ef=(Jd=/[^.]+$/.exec(tf&&tf.keys&&tf.keys.IE_PROTO||""))?"Symbol(src)_1."+Jd:"",rf=Xd.toString,nf=Qd.hasOwnProperty,of=Qd.toString,sf=RegExp("^"+rf.call(nf).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),af=Kd.Symbol,cf=Zd.splice,uf=bf(Kd,"Map"),lf=bf(Object,"create"),hf=af?af.prototype:void 0,df=hf?hf.toString:void 0;function ff(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function pf(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function mf(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function gf(t,e){for(var r,n,i=t.length;i--;)if((r=t[i][0])===(n=e)||r!=r&&n!=n)return i;return-1}function yf(t,e){for(var r,n=0,i=(e=function(t,e){if(Tf(t))return!1;var r=typeof t;if("number"==r||"symbol"==r||"boolean"==r||null==t||Of(t))return!0;return Hd.test(t)||!qd.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:Tf(r=e)?r:wf(r)).length;null!=t&&n<i;)t=t[Ef(e[n++])];return n&&n==i?t:void 0}function _f(t){return!(!Af(t)||(e=t,ef&&ef in e))&&(function(t){var e=Af(t)?of.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?sf:$d).test(function(t){if(null!=t){try{return rf.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e}function vf(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function bf(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return _f(r)?r:void 0}ff.prototype.clear=function(){this.__data__=lf?lf(null):{}},ff.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},ff.prototype.get=function(t){var e=this.__data__;if(lf){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return nf.call(e,t)?e[t]:void 0},ff.prototype.has=function(t){var e=this.__data__;return lf?void 0!==e[t]:nf.call(e,t)},ff.prototype.set=function(t,e){return this.__data__[t]=lf&&void 0===e?"__lodash_hash_undefined__":e,this},pf.prototype.clear=function(){this.__data__=[]},pf.prototype.delete=function(t){var e=this.__data__,r=gf(e,t);return!(r<0)&&(r==e.length-1?e.pop():cf.call(e,r,1),!0)},pf.prototype.get=function(t){var e=this.__data__,r=gf(e,t);return r<0?void 0:e[r][1]},pf.prototype.has=function(t){return gf(this.__data__,t)>-1},pf.prototype.set=function(t,e){var r=this.__data__,n=gf(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},mf.prototype.clear=function(){this.__data__={hash:new ff,map:new(uf||pf),string:new ff}},mf.prototype.delete=function(t){return vf(this,t).delete(t)},mf.prototype.get=function(t){return vf(this,t).get(t)},mf.prototype.has=function(t){return vf(this,t).has(t)},mf.prototype.set=function(t,e){return vf(this,t).set(t,e),this};var wf=Sf((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(Of(t))return df?df.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var r=[];return Gd.test(t)&&r.push(""),t.replace(zd,(function(t,e,n,i){r.push(n?i.replace(Wd,"$1"):e||t)})),r}));function Ef(t){if("string"==typeof t||Of(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Sf(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s),s};return r.cache=new(Sf.Cache||mf),r}Sf.Cache=mf;var Tf=Array.isArray;function Af(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Of(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==of.call(t)}var Mf=function(t,e,r){var n=null==t?void 0:yf(t,e);return void 0===n?r:n};var kf=function(t,e){var r=!0;return t.reduce((function(t,n){return null==n&&(n=""),r?(r=!1,"".concat(n)):"".concat(t).concat(e).concat(n)}),"")},xf=function(t,e){try{return t.push.apply(t,Fd(e)),t}catch(r){return t.concat(e)}},Nf=function(t,e,r){return void 0===t[e]?r:t[e]},Rf=kf,If=xf,Cf=function(){function t(e){Rd(this,t),this.opts=this.preprocessOpts(e)}return Cd(t,[{key:"preprocessOpts",value:function(t){var e=Object.assign({},t);return e.transforms=Array.isArray(e.transforms)?e.transforms:e.transforms?[e.transforms]:[],e.delimiter=e.delimiter||",",e.eol=e.eol||xd.a.EOL,e.quote="string"==typeof e.quote?e.quote:'"',e.escapedQuote="string"==typeof e.escapedQuote?e.escapedQuote:"".concat(e.quote).concat(e.quote),e.header=!1!==e.header,e.includeEmptyRows=e.includeEmptyRows||!1,e.withBOM=e.withBOM||!1,e}},{key:"preprocessFieldsInfo",value:function(t){var e=this;return t.map((function(t){if("string"==typeof t)return{label:t,value:t.includes(".")||t.includes("[")?function(r){return Mf(r,t,e.opts.defaultValue)}:function(r){return Nf(r,t,e.opts.defaultValue)}};if("object"===Nd(t)){var r="default"in t?t.default:e.opts.defaultValue;if("string"==typeof t.value)return{label:t.label||t.value,value:t.value.includes(".")||t.value.includes("[")?function(e){return Mf(e,t.value,r)}:function(e){return Nf(e,t.value,r)}};if("function"==typeof t.value){var n=t.label||t.value.name||"",i={label:n,default:r};return{label:n,value:function(e){var n=t.value(e,i);return null==n?r:n}}}}throw new Error("Invalid field info option. "+JSON.stringify(t))}))}},{key:"getHeader",value:function(){var t=this;return Rf(this.opts.fields.map((function(e){return t.processValue(e.label)})),this.opts.delimiter)}},{key:"preprocessRow",value:function(t){return this.opts.transforms.reduce((function(t,e){return t.map((function(t){return e(t)})).reduce(If,[])}),[t])}},{key:"processRow",value:function(t){var e=this;if(t){var r=this.opts.fields.map((function(r){return e.processCell(t,r)}));if(this.opts.includeEmptyRows||!r.every((function(t){return void 0===t})))return Rf(r,this.opts.delimiter)}}},{key:"processCell",value:function(t,e){return this.processValue(e.value(t))}},{key:"processValue",value:function(t){if(null!=t){var e=Nd(t);if("boolean"!==e&&"number"!==e&&"string"!==e){if(void 0===(t=JSON.stringify(t)))return;'"'===t[0]&&(t=t.replace(/^"(.+)"$/,"$1"))}return"string"==typeof t&&(this.opts.excelStrings?(t.includes(this.opts.quote)&&(t=t.replace(new RegExp(this.opts.quote,"g"),"".concat(this.opts.escapedQuote).concat(this.opts.escapedQuote))),t='"=""'.concat(t,'"""')):(t.includes(this.opts.quote)&&(t=t.replace(new RegExp(this.opts.quote,"g"),this.opts.escapedQuote)),t="".concat(this.opts.quote).concat(t).concat(this.opts.quote))),t}}}]),t}(),jf=kf,Lf=xf,Pf=function(t){function e(t){var r;return Rd(this,e),(r=Dd(this,Ld(e).call(this,t))).opts.fields&&(r.opts.fields=r.preprocessFieldsInfo(r.opts.fields)),r}return jd(e,t),Cd(e,[{key:"parse",value:function(t){var e=this.preprocessData(t);this.opts.fields||(this.opts.fields=e.reduce((function(t,e){return Object.keys(e).forEach((function(e){t.includes(e)||t.push(e)})),t}),[]),this.opts.fields=this.preprocessFieldsInfo(this.opts.fields));var r=this.opts.header?this.getHeader():"",n=this.processData(e);return(this.opts.withBOM?"\ufeff":"")+r+(r&&n?this.opts.eol:"")+n}},{key:"preprocessData",value:function(t){var e=this,r=Array.isArray(t)?t:[t];if(!this.opts.fields&&(0===r.length||"object"!==Nd(r[0])))throw new Error('Data should not be empty or the "fields" option should be included');return 0===this.opts.transforms.length?r:r.map((function(t){return e.preprocessRow(t)})).reduce(Lf,[])}},{key:"processData",value:function(t){var e=this;return jf(t.map((function(t){return e.processRow(t)})).filter((function(t){return t})),this.opts.eol)}}]),e}(Cf),Df={},Ff=Df.LEFT_BRACE=1,Bf=Df.RIGHT_BRACE=2,Uf=Df.LEFT_BRACKET=3,qf=Df.RIGHT_BRACKET=4,Hf=Df.COLON=5,Gf=Df.COMMA=6,zf=Df.TRUE=7,Wf=Df.FALSE=8,$f=Df.NULL=9,Vf=Df.STRING=10,Yf=Df.NUMBER=11,Kf=Df.START=17,Jf=Df.STOP=18,Zf=Df.TRUE1=33,Xf=Df.TRUE2=34,Qf=Df.TRUE3=35,tp=Df.FALSE1=49,ep=Df.FALSE2=50,rp=Df.FALSE3=51,np=Df.FALSE4=52,ip=Df.NULL1=65,op=Df.NULL2=66,sp=Df.NULL3=67,ap=Df.NUMBER1=81,cp=Df.NUMBER3=83,up=Df.STRING1=97,lp=Df.STRING2=98,hp=Df.STRING3=99,dp=Df.STRING4=100,fp=Df.STRING5=101,pp=Df.STRING6=102,mp=Df.VALUE=113,gp=Df.KEY=114,yp=Df.OBJECT=129,_p=Df.ARRAY=130,vp="\\".charCodeAt(0),bp="/".charCodeAt(0),wp="\b".charCodeAt(0),Ep="\f".charCodeAt(0),Sp="\n".charCodeAt(0),Tp="\r".charCodeAt(0),Ap="\t".charCodeAt(0);function Op(){this.tState=Kf,this.value=void 0,this.string=void 0,this.stringBuffer=Buffer.alloc?Buffer.alloc(65536):new Buffer(65536),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=mp,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.offset=-1}Op.toknam=function(t){for(var e=Object.keys(Df),r=0,n=e.length;r<n;r++){var i=e[r];if(Df[i]===t)return i}return t&&"0x"+t.toString(16)};var Mp=Op.prototype;Mp.onError=function(t){throw t},Mp.charError=function(t,e){this.tState=Jf,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(t[e]))+" at position "+e+" in state "+Op.toknam(this.tState)))},Mp.appendStringChar=function(t){this.stringBufferOffset>=65536&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=t},Mp.appendStringBuf=function(t,e,r){var n=t.length;"number"==typeof e&&(n="number"==typeof r?r<0?t.length-e+r:r-e:t.length-e),n<0&&(n=0),this.stringBufferOffset+n>65536&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),t.copy(this.stringBuffer,this.stringBufferOffset,e,r),this.stringBufferOffset+=n},Mp.write=function(t){var e;"string"==typeof t&&(t=new Buffer(t));for(var r=0,n=t.length;r<n;r++)if(this.tState===Kf){if(e=t[r],this.offset++,123===e)this.onToken(Ff,"{");else if(125===e)this.onToken(Bf,"}");else if(91===e)this.onToken(Uf,"[");else if(93===e)this.onToken(qf,"]");else if(58===e)this.onToken(Hf,":");else if(44===e)this.onToken(Gf,",");else if(116===e)this.tState=Zf;else if(102===e)this.tState=tp;else if(110===e)this.tState=ip;else if(34===e)this.string="",this.stringBufferOffset=0,this.tState=up;else if(45===e)this.string="-",this.tState=ap;else if(e>=48&&e<64)this.string=String.fromCharCode(e),this.tState=cp;else if(32!==e&&9!==e&&10!==e&&13!==e)return this.charError(t,r)}else if(this.tState===up)if(e=t[r],this.bytes_remaining>0){for(var i=0;i<this.bytes_remaining;i++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+i]=t[i];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,r=r+i-1}else if(0===this.bytes_remaining&&e>=128){if(e<=193||e>244)return this.onError(new Error("Invalid UTF-8 character at position "+r+" in state "+Op.toknam(this.tState)));if(e>=194&&e<=223&&(this.bytes_in_sequence=2),e>=224&&e<=239&&(this.bytes_in_sequence=3),e>=240&&e<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+r>t.length){for(var o=0;o<=t.length-1-r;o++)this.temp_buffs[this.bytes_in_sequence][o]=t[r+o];this.bytes_remaining=r+this.bytes_in_sequence-t.length,r=t.length-1}else this.appendStringBuf(t,r,r+this.bytes_in_sequence),r=r+this.bytes_in_sequence-1}else if(34===e)this.tState=Kf,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(Vf,this.string),this.offset+=Buffer.byteLength(this.string,"utf8")+1,this.string=void 0;else if(92===e)this.tState=lp;else{if(!(e>=32))return this.charError(t,r);this.appendStringChar(e)}else if(this.tState===lp)if(34===(e=t[r]))this.appendStringChar(e),this.tState=up;else if(92===e)this.appendStringChar(vp),this.tState=up;else if(47===e)this.appendStringChar(bp),this.tState=up;else if(98===e)this.appendStringChar(wp),this.tState=up;else if(102===e)this.appendStringChar(Ep),this.tState=up;else if(110===e)this.appendStringChar(Sp),this.tState=up;else if(114===e)this.appendStringChar(Tp),this.tState=up;else if(116===e)this.appendStringChar(Ap),this.tState=up;else{if(117!==e)return this.charError(t,r);this.unicode="",this.tState=hp}else if(this.tState===hp||this.tState===dp||this.tState===fp||this.tState===pp){if(!((e=t[r])>=48&&e<64||e>64&&e<=70||e>96&&e<=102))return this.charError(t,r);if(this.unicode+=String.fromCharCode(e),this.tState++===pp){var s=parseInt(this.unicode,16);this.unicode=void 0,void 0!==this.highSurrogate&&s>=56320&&s<57344?(this.appendStringBuf(new Buffer(String.fromCharCode(this.highSurrogate,s))),this.highSurrogate=void 0):void 0===this.highSurrogate&&s>=55296&&s<56320?this.highSurrogate=s:(void 0!==this.highSurrogate&&(this.appendStringBuf(new Buffer(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new Buffer(String.fromCharCode(s)))),this.tState=up}}else if(this.tState===ap||this.tState===cp)switch(e=t[r]){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(e),this.tState=cp;break;default:this.tState=Kf;var a=Number(this.string);if(isNaN(a))return this.charError(t,r);this.string.match(/[0-9]+/)==this.string&&a.toString()!=this.string?this.onToken(Vf,this.string):this.onToken(Yf,a),this.offset+=this.string.length-1,this.string=void 0,r--}else if(this.tState===Zf){if(114!==t[r])return this.charError(t,r);this.tState=Xf}else if(this.tState===Xf){if(117!==t[r])return this.charError(t,r);this.tState=Qf}else if(this.tState===Qf){if(101!==t[r])return this.charError(t,r);this.tState=Kf,this.onToken(zf,!0),this.offset+=3}else if(this.tState===tp){if(97!==t[r])return this.charError(t,r);this.tState=ep}else if(this.tState===ep){if(108!==t[r])return this.charError(t,r);this.tState=rp}else if(this.tState===rp){if(115!==t[r])return this.charError(t,r);this.tState=np}else if(this.tState===np){if(101!==t[r])return this.charError(t,r);this.tState=Kf,this.onToken(Wf,!1),this.offset+=4}else if(this.tState===ip){if(117!==t[r])return this.charError(t,r);this.tState=op}else if(this.tState===op){if(108!==t[r])return this.charError(t,r);this.tState=sp}else if(this.tState===sp){if(108!==t[r])return this.charError(t,r);this.tState=Kf,this.onToken($f,null),this.offset+=3}},Mp.onToken=function(t,e){},Mp.parseError=function(t,e){this.tState=Jf,this.onError(new Error("Unexpected "+Op.toknam(t)+(e?"("+JSON.stringify(e)+")":"")+" in state "+Op.toknam(this.state)))},Mp.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},Mp.pop=function(){var t=this.value,e=this.stack.pop();this.value=e.value,this.key=e.key,this.mode=e.mode,this.emit(t),this.mode||(this.state=mp)},Mp.emit=function(t){this.mode&&(this.state=Gf),this.onValue(t)},Mp.onValue=function(t){},Mp.onToken=function(t,e){if(this.state===mp)if(t===Vf||t===Yf||t===zf||t===Wf||t===$f)this.value&&(this.value[this.key]=e),this.emit(e);else if(t===Ff)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=gp,this.mode=yp;else if(t===Uf)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=_p,this.state=mp;else if(t===Bf){if(this.mode!==yp)return this.parseError(t,e);this.pop()}else{if(t!==qf)return this.parseError(t,e);if(this.mode!==_p)return this.parseError(t,e);this.pop()}else if(this.state===gp)if(t===Vf)this.key=e,this.state=Hf;else{if(t!==Bf)return this.parseError(t,e);this.pop()}else if(this.state===Hf){if(t!==Hf)return this.parseError(t,e);this.state=mp}else{if(this.state!==Gf)return this.parseError(t,e);if(t===Gf)this.mode===_p?(this.key++,this.state=mp):this.mode===yp&&(this.state=gp);else{if(!(t===qf&&this.mode===_p||t===Bf&&this.mode===yp))return this.parseError(t,e);this.pop()}}},Op.C=Df;var kp=Op;Md.a.Transform,Md.a.Transform;Md.a.Readable;var xp=function(t,e){return new Pf(e).parse(t)};function Np(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;const r=Tt.toParts(t).slice(0,e);return r.join("/")}function Rp(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;const r=At.toParts(t).slice(0,e);return r.join("/")}function Ip(t,e){if(Tt.hasPrefix(t.address,Dl.prefix)){const{owner:r,epochStart:n}=Dl.fromRaw(t.address);return"Participant: ".concat(e.account(r).identity.name,", Epoch Start: ").concat(new Date(n).toDateString())}return t.description.replace(/[^a-zA-Z0-9/:[\]() \-.#]/g,"")}function Cp(t){let e=0;const r=function*(){let r=t.next();for(;!r.done;)e++,yield r.value,r=t.next()}();return{iterationsCompleted:()=>e,next:r.next,"@@iterator":()=>r,[Symbol.iterator]:()=>r}}async function jp(t){return{accounts:_h(t.ledger,t.credGraph),neo4j:t.featureFlags.neo4j?(t=>({nodes:Cp(function*(){const e=Ad(t.credGraph.nodes(),5e5);for(;e.hasNext();){const r=[];for(const n of e)r.push({description:Ip(n,t.ledger),cred:n.cred,mint:n.mint,"address:ID":Np(n.address),"nodeType:LABEL":Np(n.address,3),"plugin:LABEL":Np(n.address,2)});yield xp(r)}}()),edges:Cp(function*(){const e=Ad(t.credGraph.edges(),5e5);for(;e.hasNext();){const t=[];for(const r of e)t.push({reversed:r.reversed,transitionProbability:r.transitionProbability,credFlow:r.credFlow,address:Rp(r.address),":TYPE":Rp(r.address,3),"dst:END_ID":Np(r.dst),"src:START_ID":Np(r.src)});yield xp(t)}}())}))(t):void 0}}async function Lp(t,e){const r={"sourcecred/github":Vn,"sourcecred/discourse":Jt,"sourcecred/discord":he,"sourcecred/initiatives":Lr,"sourcecred/ethereum":Zn};if(r[t.toString()])return r[t.toString()];if("external"===Ru(t))return await new qu({pluginId:t,storage:e}).declaration();throw"Bad declaration: "+JSON.stringify(t)}const Pp=ut({startTime:Gh,budget:J}),Dp=ut({intervalLength:od,plugins:dt(st(Pp),Cu)});function Fp(t){return{budgetValue:t.budget,startTimeMs:qh(t.startTime)}}const Bp=ut({bundledPlugins:st(Cu)});function Up(t){if(function(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+String(t))}(t),0===t.length)return".";const e=t.charCodeAt(0)===qp,r=t.charCodeAt(t.length-1)===qp;return 0!==(t=function(t,e,r,n){let i,o="",s=0,a=-1,c=0;for(let u=0;u<=t.length;++u){if(u<t.length)i=t.charCodeAt(u);else{if(n(i))return o;i=qp}if(n(i)){if(a===u-1||1===c);else if(a!==u-1&&2===c){if(o.length<2||2!==s||46!==o.charCodeAt(o.length-1)||46!==o.charCodeAt(o.length-2)){if(o.length>2){const n=o.lastIndexOf(r);if(n!==o.length-1){-1===n?(o="",s=0):(o=o.slice(0,n),s=o.length-1-o.lastIndexOf(r)),a=u,c=0;continue}throw new Error("normalize: invariant violation: "+JSON.stringify({path:t,allowAboveRoot:e,separator:r}))}if(2===o.length||1===o.length){o="",s=0,a=u,c=0;continue}}e&&(o.length>0?o+="".concat(r,".."):o="..",s=2)}else o.length>0?o+=r+t.slice(a+1,u):o=t.slice(a+1,u),s=u-a-1;a=u,c=0}else 46===i&&-1!==c?++c:c=-1}return o}(t,!e,"/",Hp)).length||e||(t="."),t.length>0&&r&&(t+="/"),e?"/"+t:t}const qp=47;function Hp(t){return t===qp}function Gp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class zp{constructor(t){Gp(this,"_base",void 0),this._base=Up(t)}async get(t){const e=Up(Object(ps.join)(this._base,t));if(!e.startsWith(this._base)&&(e.startsWith("..")||Object(ps.isAbsolute)(e)||"."!==this._base))throw new Error("Path traversal is not allowed. ".concat(e," is not a subpath of ").concat(this._base));const r=await Mu()(e);if(!r.ok){const e=new Error("Error fetching ".concat(t,": ").concat(r.status," ").concat(r.statusText));throw e.number=r.status,e}return new Uint8Array(await r.arrayBuffer())}}const Wp={csv:r(99).csvIntegration};function $p(t){const e=Wp[t];if(!e)throw new Error("grain integration not found; enter a valid `integration` value in config/grain.json");return e}const Vp=nt(rt(["csv"]),t=>({name:t,function:$p(t)}));function Yp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Kp(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Yp(Object(r),!0).forEach((function(e){Jp(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yp(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Jp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}ut({allocationPolicies:st(qo)},{maxSimultaneousDistributions:J,sinkIdentity:yr,processDistributions:X,integration:Vp});const Zp=nt(ut({allocationPolicies:st(Ho)},{maxSimultaneousDistributions:J,sinkIdentity:yr,processDistributions:X,integration:Vp}),t=>Kp(Kp({},t),{},{maxSimultaneousDistributions:bt(t.maxSimultaneousDistributions,1/0)}));function Xp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Qp=t=>new pm(new ku(t)),tm=(t,e,r)=>new pm(new ku("https://raw.githubusercontent.com/".concat(t,"/").concat(e,"/").concat(r,"/"))),em=t=>new pm(new zp(t)),rm=["config","dependencies.json"],nm=["config","weights.json"],im=["config","pluginBudgets.json"],om=["config","grain.json"],sm=["config","currencyDetails.json"],am=["config","personalAttributions.json"],cm=["sourcecred.json"],um=["data","ledger.json"],lm=["output","credGraph"],hm=["output","credGrainView"],dm=["output","graphs"],fm=["graph"];class pm{constructor(t){Xp(this,"_storage",void 0),Xp(this,"_zipStorage",void 0),this._storage=t,this._zipStorage=new Tu(this._storage)}async readGraphInput(){throw"not yet implemented"}async readCredrankInput(){const[t,e,r,n,i,o]=await Promise.all([this.readPluginGraphs(),this.readLedger(),this.readWeightOverrides(),this.readDependencies(),this.readPluginsBudget(),this.readPersonalAttributions()]);return{pluginGraphs:t,ledger:e,weightOverrides:r,dependencies:n,pluginsBudget:i,personalAttributions:o}}async readGrainInput(){const[t,e,r,n]=await Promise.all([this.readCredGraph(),this.readLedger(),this.readGrainConfig(),this.readCurrencyDetails()]);return{credGraph:t,ledger:e,grainConfig:r,currencyDetails:n}}async readAnalysisInput(){const[t,e]=await Promise.all([this.readCredGraph(),this.readLedger()]);return{credGraph:t,ledger:e,featureFlags:{}}}async readWeightedGraphForPlugin(t){const e=Object(ps.join)(this.createPluginGraphDirectory(t),...fm);return vs(await ks(this._zipStorage,e,tt))}async readCredGraph(){const t=Object(ps.join)(...lm);return await ks(this._zipStorage,t+"",uh).catch(()=>ks(this._storage,t+".json",uh))}async readCredGrainView(){const t=Object(ps.join)(...hm);return ks(this._zipStorage,t+"",fh).catch(()=>ks(this._storage,t+".json",fh))}async readLedger(){const t=Object(ps.join)(...um);return async function(t,e,r){try{return As(await t.get(e))}catch(t){if(Ms(t))return r();throw t}}
/*! pako 2.0.3 https://github.com/nodeca/pako @license (MIT AND Zlib) */(this._storage,t,()=>(new Qo).serialize()).then(t=>Qo.parse(t))}async readGrainConfig(){const t=Object(ps.join)(...om);return ks(this._storage,t,Zp)}async readCurrencyDetails(){const t=Object(ps.join)(...sm);return xs(this._storage,t,Ui,Bi)}async readRawInstanceConfig(){const t=Object(ps.join)(...cm);return ks(this._storage,t,Bp)}async readPersonalAttributions(){const t=Object(ps.join)(...am);return xs(this._storage,t,pd,()=>[])}async readPluginGraphs(){const t=(await this.readRawInstanceConfig()).bundledPlugins;return await Promise.all(t.map(async t=>{const e=this.createPluginDirectory(dm,t),r=Object(ps.join)(e,...fm);return vs(await ks(this._zipStorage,r+"",tt).catch(()=>ks(this._storage,r+".json",tt)))}))}async readWeightOverrides(){const t=Object(ps.join)(...nm);return xs(this._storage,t,Ve,He)}async readDependencies(){const t=Object(ps.join)(...rm);return xs(this._storage,t,Kh,()=>[])}async readPluginsBudget(){const t=Object(ps.join)(...im),e=await xs(this._storage,t,Dp,()=>null);return e?await async function(t,e){return{entries:await Promise.all(Object.keys(t.plugins).map(async r=>{const n=Nu(r),i=await Lp(n,e);if(null==n)throw new Error("No available plugin with id ".concat(n));return{prefix:i.nodePrefix,periods:t.plugins[n].map(Fp)}})),intervalLength:t.intervalLength}}(e,this._storage):null}createPluginDirectory(t,e){const r=e.split("/");if(2!==r.length)throw new Error("Bad plugin name: ".concat(e));const[n,i]=r,o=[...t,n,i];return Object(ps.join)(...o)}createPluginGraphDirectory(t){return this.createPluginDirectory(dm,t)}}const mm={api:{graph:k,credrank:M,grain:x,analysis:N},instance:{readInstance:R},core:{address:i,algorithm:{markovChain:E,graphToMarkovChain:w},graph:o,weightedGraph:b,weights:u,credGraph:S,CredGrainView:ph},ledger:{ledger:v,identity:y,grain:_,utils:T,manager:A,storage:O},plugins:{ConstructorPlugin:class{constructor(t){if(Fu(this,"_weightedGraph",void 0),Fu(this,"_identityProposals",void 0),Fu(this,"_declaration",void 0),this._weightedGraph=t.weightedGraph||ys(),this._identityProposals=t.identityProposals||[],t.declaration)this._declaration=t.declaration;else{if(!t.pluginId)throw new Error("Must provide either a declaration or a pluginId");this._declaration=Du(t.pluginId)}}async declaration(){return this._declaration}async load(t,e){}async graph(t,e){return this._weightedGraph}async referenceDetector(t){return{addressFromUrl:()=>{}}}async identities(t){return this._identityProposals}},github:{declaration:p,edges:f,nodes:d},ethereum:{declaration:m,utils:g},discourse:{address:a,declaration:s},discord:{declaration:c,utils:l},initiatives:{declaration:h},declarationParser:li,identityProposalsParser:ds,coerceNameFromString:gr}};var gm=j()(mm),ym=r(13),_m=r.n(ym);function vm(t){try{_m.a.mkdirSync(t)}catch(t){if("EEXIST"!==t.code)throw t}}var bm=r(21),wm=r.n(bm),Em=r(27),Sm=r.n(Em);function Tm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Am(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Tm(Object(r),!0).forEach((function(e){Om(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tm(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Om(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mm(){return{type:"FAITHFUL"}}function km(t){const e={};for(const r of t)e[r]=!0;return{type:"UNFAITHFUL",actualTypenames:e}}function xm(t){function e(e,r,n){let{isFidelity:i=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=(i?"unfaithful typenames list of ":"")+"field ".concat(e.map(t=>JSON.stringify(t)).join("/")),s=t[r];if(null==s)throw new Error("".concat(o,' has unknown type: "').concat(r,'"'));if(!n.includes(s.type))throw new Error("".concat(o,' has invalid type "').concat(r,'" ')+'of kind "'.concat(s.type,'"'))}function r(t,r){switch(r.type){case"FAITHFUL":break;case"UNFAITHFUL":for(const n of Object.keys(r.actualTypenames))e(t,n,["OBJECT"],{isFidelity:!0});break;default:throw new Error(r.type)}}const n={};for(const i of Object.keys(t)){const o=t[i];switch(o.type){case"SCALAR":n[i]={type:"SCALAR",representation:o.representation};break;case"ENUM":n[i]={type:"ENUM",values:Am({},o.values)};break;case"OBJECT":for(const t of Object.keys(o.fields)){const n=o.fields[t];switch(n.type){case"ID":break;case"PRIMITIVE":null!=n.annotation&&e([i,t],n.annotation.elementType,["SCALAR","ENUM"]);break;case"NODE":case"CONNECTION":e([i,t],n.elementType,["OBJECT","UNION"]),r([i,t],n.fidelity);break;case"NESTED":for(const o of Object.keys(n.eggs)){const s=n.eggs[o];switch(s.type){case"PRIMITIVE":null!=s.annotation&&e([i,t,o],s.annotation.elementType,["SCALAR","ENUM"]);break;case"NODE":e([i,t,o],s.elementType,["OBJECT","UNION"]),r([i,t,o],s.fidelity);break;default:throw new Error(s.type)}}break;default:throw new Error(n.type)}}n[i]={type:"OBJECT",fields:Am({},o.fields)};break;case"UNION":for(const e of Object.keys(o.clauses)){const r=t[e];if(null==r)throw new Error('union has unknown clause: "'.concat(i,'"/"').concat(e,'"'));if("OBJECT"!==r.type)throw new Error('union has non-object type clause: "'.concat(i,'"/"').concat(e,'"'))}n[i]={type:"UNION",clauses:Am({},o.clauses)};break;default:throw new Error(o.type)}}return n}function Nm(t){return{type:"SCALAR",representation:t}}function Rm(t){const e={};for(const r of t)e[r]=!0;return{type:"ENUM",values:e}}function Im(t){for(const e of Object.keys(t)){const r=t[e];if("__typename"===e)throw new Error("reserved field name: "+e);if("ID"===r.type&&"id"!==e)throw new Error('invalid ID field with name "'.concat(e,'"'))}if(null==t.id)throw new Error('expected ID field with name "'.concat("id",'"'));if("ID"!==t.id.type)throw new Error('field "'.concat("id",'" must be an ID field'));return{type:"OBJECT",fields:Am({},t)}}function Cm(t){const e={};for(const r of t){if(null!=e[r])throw new Error('duplicate union clause: "'.concat(r,'"'));e[r]=!0}return{type:"UNION",clauses:e}}function jm(){return{type:"ID"}}function Lm(t){return{type:"PRIMITIVE",annotation:t||null}}function Pm(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"FAITHFUL"};return{type:"NODE",elementType:t,fidelity:e}}function Dm(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"FAITHFUL"};return{type:"CONNECTION",elementType:t,fidelity:e}}function Fm(t){return{nonNull:!0,elementType:t}}function Bm(t){return{nonNull:!1,elementType:t}}function Um(t){return{type:"NESTED",eggs:Am({},t)}}const qm={query:(t,e,r)=>({type:"QUERY",name:t,params:e,selections:r}),param:(t,e)=>({name:t,type:e}),fragment:(t,e,r)=>({type:"FRAGMENT",name:t,typeCondition:e,selections:r}),field:(t,e,r)=>({type:"FIELD",alias:null,name:t,args:e||{},selections:r||[]}),alias:(t,e)=>({type:"FIELD",alias:t,name:e.name,args:e.args,selections:e.selections}),fragmentSpread:t=>({type:"FRAGMENT_SPREAD",fragmentName:t}),inlineFragment:(t,e)=>({type:"INLINE_FRAGMENT",typeCondition:t,selections:e}),variable:t=>({type:"VARIABLE",data:t}),literal:t=>({type:"LITERAL",data:t}),enumLiteral:t=>({type:"ENUM",data:t}),list:t=>({type:"LIST",data:t}),object:t=>({type:"OBJECT",data:t})};function Hm(){const t={atom:t=>t,join:t=>t.join(" "),next:()=>t};return t}function Gm(t,e,r){return r.join(t.map(t=>e(t,r)))}function zm(t,e,r){return Gm(Object.keys(t),(function(r,n){return n.join([n.atom("".concat(r,":")),e(t[r],n.next())])}),r)}const Wm={body:(t,e)=>Gm(t,Wm.definition,e),definition(t,e){switch(t.type){case"QUERY":return Wm.queryDefinition(t,e);case"FRAGMENT":return Wm.fragmentDefinition(t,e);default:throw new Error("Unknown definition type: ".concat(t.type))}},queryDefinition(t,e){const r=(()=>{if(0===t.params.length)return"";{const e=Gm(t.params,Wm.parameter,Hm());return"(".concat(e,")")}})(),n=Gm(t.selections,Wm.selection,e.next());return e.join([e.atom("query ".concat(t.name).concat(r," {")),n,e.atom("}")])},parameter:(t,e)=>e.atom("$".concat(t.name,": ").concat(t.type)),fragmentDefinition(t,e){const r=Gm(t.selections,Wm.selection,e.next());return e.join([e.atom("fragment ".concat(t.name," on ").concat(t.typeCondition," {")),r,e.atom("}")])},selection(t,e){switch(t.type){case"FIELD":return Wm.field(t,e);case"FRAGMENT_SPREAD":return Wm.fragmentSpread(t,e);case"INLINE_FRAGMENT":return Wm.inlineFragment(t,e);default:throw new Error("Unknown selection type: ".concat(t.type))}},field(t,e){const r=null==t.alias?"":"".concat(t.alias,": "),n=(()=>{if(0===Object.keys(t.args).length)return"";{const e=zm(t.args,Wm.value,Hm());return"(".concat(e,")")}})();if(0===t.selections.length)return e.atom("".concat(t.name).concat(n));{const i=Gm(t.selections,Wm.selection,e.next());return e.join([e.atom("".concat(r).concat(t.name).concat(n," {")),i,e.atom("}")])}},fragmentSpread:(t,e)=>e.atom("...".concat(t.fragmentName)),inlineFragment(t,e){const r=null==t.typeCondition?"":" on ".concat(t.typeCondition),n=Gm(t.selections,Wm.selection,e.next());return e.join([e.atom("...".concat(r," {")),n,e.atom("}")])},value(t,e){switch(t.type){case"VARIABLE":return Wm.variableValue(t,e);case"LITERAL":return Wm.literalValue(t,e);case"ENUM":return Wm.enumValue(t,e);case"LIST":return Wm.listValue(t,e);case"OBJECT":return Wm.objectValue(t,e);default:throw new Error("Unknown value type: ".concat(t.type))}},variableValue:(t,e)=>e.atom("$".concat(t.data)),literalValue:(t,e)=>e.atom(JSON.stringify(t.data)),enumValue:(t,e)=>e.atom(t.data),listValue:(t,e)=>e.join([e.atom("["),Gm(t.data,Wm.value,e.next()),e.atom("]")]),objectValue:(t,e)=>e.join([e.atom("{"),zm(t.data,Wm.value,e.next()),e.atom("}")])};var $m,Vm,Ym,Km,Jm,Zm,Xm,Qm,tg,eg,rg,ng,ig,og,sg,ag,cg,ug,lg,hg,dg,fg,pg,mg,gg,yg,_g,vg,bg,wg,Eg,Sg,Tg,Ag,Og,Mg,kg;function xg(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Ng(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Rg(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ng(Object(r),!0).forEach((function(e){Ig(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ng(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ig(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class Cg{constructor(t,e,r){if(Ig(this,"_db",void 0),Ig(this,"_schema",void 0),Ig(this,"_schemaInfo",void 0),Ig(this,"_blacklistedIds",void 0),Ig(this,"_guessTypename",void 0),null==t)throw new Error("db: "+String(t));if(null==e)throw new Error("schema: "+String(e));const n=Rg({blacklistedIds:[],guessTypename:()=>null},r||{});this._db=t,this._schema=e,this._schemaInfo=function(t){const e={objectTypes:{},unionTypes:{}};for(const r of Object.keys(t)){const n=t[r];switch(n.type){case"SCALAR":case"ENUM":break;case"OBJECT":{const t={fields:n.fields,nestedFields:{},primitiveFieldNames:[],linkFieldNames:[],connectionFieldNames:[],nestedFieldNames:[]};e.objectTypes[r]=t;for(const e of Object.keys(n.fields)){const r=n.fields[e];switch(r.type){case"ID":break;case"PRIMITIVE":t.primitiveFieldNames.push(e);break;case"NODE":t.linkFieldNames.push(e);break;case"CONNECTION":t.connectionFieldNames.push(e);break;case"NESTED":{t.nestedFieldNames.push(e);const n={primitives:{},nodes:{}};for(const t of Object.keys(r.eggs)){const e=r.eggs[t];switch(e.type){case"PRIMITIVE":n.primitives[t]=e;break;case"NODE":n.nodes[t]=e;break;default:throw new Error(e.type)}}t.nestedFields[e]=n;break}default:throw new Error(r.type)}}break}case"UNION":{const t={clauses:Object.keys(n.clauses)};e.unionTypes[r]=t;break}default:throw new Error(n.type)}}return e}(this._schema),this._blacklistedIds=(()=>{const t={};for(const e of n.blacklistedIds)t[e]=!0;return t})(),this._guessTypename=n.guessTypename,this._initialize()}_initialize(){const t=U()({version:"MIRROR_v9",schema:this._schema,options:{blacklistedIds:this._blacklistedIds}}),e=this._db;e.transaction(()=>{e.prepare(ge($m||($m=xg(["          CREATE TABLE IF NOT EXISTS meta (\n              zero INTEGER PRIMARY KEY,\n              config TEXT NOT NULL\n          )\n        "],["\\\n          CREATE TABLE IF NOT EXISTS meta (\n              zero INTEGER PRIMARY KEY,\n              config TEXT NOT NULL\n          )\n        "])))).run();const r=e.prepare("SELECT config FROM meta").pluck().get();if(r===t)return;if(void 0!==r)throw new Error("Database already populated with incompatible schema, options, or version");e.prepare("INSERT INTO meta (zero, config) VALUES (0, ?)").run(t);const n=[ge(Vm||(Vm=xg(["          CREATE TABLE updates (\n              rowid INTEGER PRIMARY KEY,\n              time_epoch_millis INTEGER NOT NULL\n          )\n        "],["\\\n          CREATE TABLE updates (\n              rowid INTEGER PRIMARY KEY,\n              time_epoch_millis INTEGER NOT NULL\n          )\n        "]))),ge(Ym||(Ym=xg(["          CREATE TABLE objects (\n              id TEXT NOT NULL PRIMARY KEY,\n              typename TEXT,\n              last_update INTEGER,\n              FOREIGN KEY(last_update) REFERENCES updates(rowid),\n              CHECK((last_update IS NOT NULL) <= (typename IS NOT NULL))\n          )\n        "],["\\\n          CREATE TABLE objects (\n              id TEXT NOT NULL PRIMARY KEY,\n              typename TEXT,\n              last_update INTEGER,\n              FOREIGN KEY(last_update) REFERENCES updates(rowid),\n              CHECK((last_update IS NOT NULL) <= (typename IS NOT NULL))\n          )\n        "]))),ge(Km||(Km=xg(["          CREATE TABLE primitives (\n              rowid INTEGER PRIMARY KEY,\n              object_id TEXT NOT NULL,\n              fieldname TEXT NOT NULL,\n              value,  -- JSON string, or SQL 0 or 1 for nest fields\n              UNIQUE(object_id, fieldname),\n              FOREIGN KEY(object_id) REFERENCES objects(id)\n          )\n        "],["\\\n          CREATE TABLE primitives (\n              rowid INTEGER PRIMARY KEY,\n              object_id TEXT NOT NULL,\n              fieldname TEXT NOT NULL,\n              value,  -- JSON string, or SQL 0 or 1 for nest fields\n              UNIQUE(object_id, fieldname),\n              FOREIGN KEY(object_id) REFERENCES objects(id)\n          )\n        "]))),ge(Jm||(Jm=xg(["          CREATE UNIQUE INDEX idx_primitives__object_id__fieldname\n          ON primitives (object_id, fieldname)\n        "],["\\\n          CREATE UNIQUE INDEX idx_primitives__object_id__fieldname\n          ON primitives (object_id, fieldname)\n        "]))),ge(Zm||(Zm=xg(["          CREATE TABLE links (\n              rowid INTEGER PRIMARY KEY,\n              parent_id TEXT NOT NULL,\n              fieldname TEXT NOT NULL,\n              child_id TEXT,\n              UNIQUE(parent_id, fieldname),\n              FOREIGN KEY(parent_id) REFERENCES objects(id),\n              FOREIGN KEY(child_id) REFERENCES objects(id)\n          )\n        "],["\\\n          CREATE TABLE links (\n              rowid INTEGER PRIMARY KEY,\n              parent_id TEXT NOT NULL,\n              fieldname TEXT NOT NULL,\n              child_id TEXT,\n              UNIQUE(parent_id, fieldname),\n              FOREIGN KEY(parent_id) REFERENCES objects(id),\n              FOREIGN KEY(child_id) REFERENCES objects(id)\n          )\n        "]))),ge(Xm||(Xm=xg(["          CREATE UNIQUE INDEX idx_links__parent_id__fieldname\n          ON links (parent_id, fieldname)\n        "],["\\\n          CREATE UNIQUE INDEX idx_links__parent_id__fieldname\n          ON links (parent_id, fieldname)\n        "]))),ge(Qm||(Qm=xg(["          CREATE TABLE connections (\n              rowid INTEGER PRIMARY KEY,\n              object_id TEXT NOT NULL,\n              fieldname TEXT NOT NULL,\n              last_update INTEGER,\n              -- Each of the below fields must be NULL if the connection\n              -- has never been updated.\n              total_count INTEGER,\n              has_next_page BOOLEAN,\n              -- The end cursor may be NULL if no items are in the connection;\n              -- this is a consequence of GraphQL and the Relay pagination spec.\n              -- (It may also be NULL if the connection was never updated.)\n              end_cursor TEXT,\n              CHECK((last_update IS NULL) = (total_count IS NULL)),\n              CHECK((last_update IS NULL) = (has_next_page IS NULL)),\n              CHECK((last_update IS NULL) <= (end_cursor IS NULL)),\n              UNIQUE(object_id, fieldname),\n              FOREIGN KEY(object_id) REFERENCES objects(id),\n              FOREIGN KEY(last_update) REFERENCES updates(rowid)\n          )\n        "],["\\\n          CREATE TABLE connections (\n              rowid INTEGER PRIMARY KEY,\n              object_id TEXT NOT NULL,\n              fieldname TEXT NOT NULL,\n              last_update INTEGER,\n              -- Each of the below fields must be NULL if the connection\n              -- has never been updated.\n              total_count INTEGER,\n              has_next_page BOOLEAN,\n              -- The end cursor may be NULL if no items are in the connection;\n              -- this is a consequence of GraphQL and the Relay pagination spec.\n              -- (It may also be NULL if the connection was never updated.)\n              end_cursor TEXT,\n              CHECK((last_update IS NULL) = (total_count IS NULL)),\n              CHECK((last_update IS NULL) = (has_next_page IS NULL)),\n              CHECK((last_update IS NULL) <= (end_cursor IS NULL)),\n              UNIQUE(object_id, fieldname),\n              FOREIGN KEY(object_id) REFERENCES objects(id),\n              FOREIGN KEY(last_update) REFERENCES updates(rowid)\n          )\n        "]))),ge(tg||(tg=xg(["          CREATE UNIQUE INDEX idx_connections__object_id__fieldname\n          ON connections (object_id, fieldname)\n        "],["\\\n          CREATE UNIQUE INDEX idx_connections__object_id__fieldname\n          ON connections (object_id, fieldname)\n        "]))),ge(eg||(eg=xg(["          CREATE TABLE connection_entries (\n              rowid INTEGER PRIMARY KEY,\n              connection_id INTEGER NOT NULL,\n              idx INTEGER NOT NULL,  -- impose an ordering\n              child_id TEXT,\n              UNIQUE(connection_id, idx),\n              FOREIGN KEY(connection_id) REFERENCES connections(rowid),\n              FOREIGN KEY(child_id) REFERENCES objects(id)\n          )\n        "],["\\\n          CREATE TABLE connection_entries (\n              rowid INTEGER PRIMARY KEY,\n              connection_id INTEGER NOT NULL,\n              idx INTEGER NOT NULL,  -- impose an ordering\n              child_id TEXT,\n              UNIQUE(connection_id, idx),\n              FOREIGN KEY(connection_id) REFERENCES connections(rowid),\n              FOREIGN KEY(child_id) REFERENCES objects(id)\n          )\n        "]))),ge(rg||(rg=xg(["          CREATE INDEX idx_connection_entries__connection_id\n          ON connection_entries (connection_id)\n        "],["\\\n          CREATE INDEX idx_connection_entries__connection_id\n          ON connection_entries (connection_id)\n        "]))),ge(ng||(ng=xg(["          CREATE TABLE network_log (\n              rowid INTEGER PRIMARY KEY,\n              query TEXT,\n              query_parameters TEXT,  -- stringified JSON object\n              request_time_epoch_millis INTEGER,\n              response TEXT,\n              response_time_epoch_millis INTEGER,\n              update_id INTEGER,\n              CHECK((query IS NULL) = (query_parameters IS NULL)),\n              CHECK((request_time_epoch_millis IS NULL) = (query IS NULL)),\n              CHECK((response_time_epoch_millis IS NULL) = (response IS NULL)),\n              FOREIGN KEY(update_id) REFERENCES updates(rowid)\n          )\n        "],["\\\n          CREATE TABLE network_log (\n              rowid INTEGER PRIMARY KEY,\n              query TEXT,\n              query_parameters TEXT,  -- stringified JSON object\n              request_time_epoch_millis INTEGER,\n              response TEXT,\n              response_time_epoch_millis INTEGER,\n              update_id INTEGER,\n              CHECK((query IS NULL) = (query_parameters IS NULL)),\n              CHECK((request_time_epoch_millis IS NULL) = (query IS NULL)),\n              CHECK((response_time_epoch_millis IS NULL) = (response IS NULL)),\n              FOREIGN KEY(update_id) REFERENCES updates(rowid)\n          )\n        "])))];for(const t of n)e.prepare(t).run()})()}_createUpdate(t){return this._db.prepare("INSERT INTO updates (time_epoch_millis) VALUES (?)").run(+t).lastInsertRowid}registerObject(t){this._db.transaction(()=>{this._nontransactionallyRegisterObject(t)})()}_nontransactionallyRegisterObject(t,e){const r=this._db,{typename:n,id:i}=t;null==e&&(e=e=>{const r=JSON.stringify;return"object ".concat(r(t.id)," ")+"looks like it should have type ".concat(r(e),", ")+"not ".concat(r(t.typename))});const o=r.prepare("SELECT typename FROM objects WHERE id = ?").pluck().get(i);if(o===n)return;if(null!=o&&null==n)return;if(void 0===o);else if(null!==o){const t=JSON.stringify;throw new Error("Inconsistent type for ID ".concat(t(i),": ")+"expected ".concat(t(o),", got ").concat(t(n)))}if(null!=n){if(null==this._schema[n])throw new Error("Unknown type: "+JSON.stringify(n));if("OBJECT"!==this._schema[n].type)throw new Error("Cannot add object of non-object type: "+"".concat(JSON.stringify(n)," (").concat(this._schema[n].type,")"));const r=this._guessTypename(t.id);null!=r&&r!==t.typename&&console.warn("Warning: "+e(r))}if(void 0===o)this._db.prepare(ge(ig||(ig=xg(["            INSERT INTO objects (id, last_update, typename)\n            VALUES (:id, NULL, :typename)\n          "],["\\\n            INSERT INTO objects (id, last_update, typename)\n            VALUES (:id, NULL, :typename)\n          "])))).run({id:i,typename:n});else{Lg(r.prepare(ge(og||(og=xg(["          UPDATE objects SET typename = :typename\n          WHERE id = :id\n          AND typename IS NULL  -- sanity check\n          AND :typename IS NOT NULL  -- sanity check\n        "],["\\\n          UPDATE objects SET typename = :typename\n          WHERE id = :id\n          AND typename IS NULL  -- sanity check\n          AND :typename IS NOT NULL  -- sanity check\n        "])))))({id:i,typename:n})}if(null==n)return;const s=this._db.prepare(ge(sg||(sg=xg(["\n        INSERT INTO primitives (object_id, fieldname, value)\n        VALUES (:id, :fieldname, NULL)\n      "])))),a=this._db.prepare(ge(ag||(ag=xg(["        INSERT INTO links (parent_id, fieldname, child_id)\n        VALUES (:id, :fieldname, NULL)\n      "],["\\\n        INSERT INTO links (parent_id, fieldname, child_id)\n        VALUES (:id, :fieldname, NULL)\n      "])))),c=this._db.prepare(ge(cg||(cg=xg(["        INSERT INTO connections (object_id, fieldname)\n        VALUES (:id, :fieldname)\n      "],["\\\n        INSERT INTO connections (object_id, fieldname)\n        VALUES (:id, :fieldname)\n      "])))),u=this._schemaInfo.objectTypes[n];for(const t of u.primitiveFieldNames)s.run({id:i,fieldname:t});for(const t of u.linkFieldNames)a.run({id:i,fieldname:t});for(const t of u.nestedFieldNames){s.run({id:i,fieldname:t});const e=u.nestedFields[t];for(const r of Object.keys(e.primitives)){const e="".concat(t,".").concat(r);s.run({id:i,fieldname:e})}for(const r of Object.keys(e.nodes)){const e="".concat(t,".").concat(r);a.run({id:i,fieldname:e})}}for(const t of u.connectionFieldNames)c.run({id:i,fieldname:t})}_nontransactionallyRegisterNodeFieldResult(t,e){if(null==t)return null;if(this._blacklistedIds[t.id])return null;{const r={typename:void 0===t.__typename?null:t.__typename,id:t.id};return this._nontransactionallyRegisterObject(r,t=>{const n=JSON.stringify,i="object ".concat(n(r.id)," ")+"looks like it should have type ".concat(n(t),", ")+"but the server claims that it has type ".concat(n(r.typename));return"".concat(e(),": ").concat(i)}),r.id}}_findOutdated(t){const e=this._db;return e.transaction(()=>({typenames:e.prepare(ge(ug||(ug=xg(["            SELECT id AS id\n            FROM objects\n            WHERE typename IS NULL\n          "],["\\\n            SELECT id AS id\n            FROM objects\n            WHERE typename IS NULL\n          "])))).pluck().all(),objects:e.prepare(ge(lg||(lg=xg(["            SELECT typename AS typename, id AS id\n            FROM objects\n            LEFT OUTER JOIN updates ON objects.last_update = updates.rowid\n            WHERE\n                typename IS NOT NULL\n                AND (\n                    objects.last_update IS NULL\n                    OR updates.time_epoch_millis < :timeEpochMillisThreshold\n                )\n          "],["\\\n            SELECT typename AS typename, id AS id\n            FROM objects\n            LEFT OUTER JOIN updates ON objects.last_update = updates.rowid\n            WHERE\n                typename IS NOT NULL\n                AND (\n                    objects.last_update IS NULL\n                    OR updates.time_epoch_millis < :timeEpochMillisThreshold\n                )\n          "])))).all({timeEpochMillisThreshold:+t}),connections:e.prepare(ge(hg||(hg=xg(["            SELECT\n                objects.typename AS objectTypename,\n                connections.object_id AS objectId,\n                connections.fieldname AS fieldname,\n                connections.last_update IS NULL AS neverUpdated,\n                connections.end_cursor AS endCursor\n            FROM connections\n            LEFT OUTER JOIN updates\n                ON connections.last_update = updates.rowid\n            JOIN objects\n                ON connections.object_id = objects.id\n            WHERE\n                objectTypename IS NOT NULL\n                AND (\n                    connections.has_next_page\n                    OR connections.last_update IS NULL\n                    OR updates.time_epoch_millis < :timeEpochMillisThreshold\n                )\n          "],["\\\n            SELECT\n                objects.typename AS objectTypename,\n                connections.object_id AS objectId,\n                connections.fieldname AS fieldname,\n                connections.last_update IS NULL AS neverUpdated,\n                connections.end_cursor AS endCursor\n            FROM connections\n            LEFT OUTER JOIN updates\n                ON connections.last_update = updates.rowid\n            JOIN objects\n                ON connections.object_id = objects.id\n            WHERE\n                objectTypename IS NOT NULL\n                AND (\n                    connections.has_next_page\n                    OR connections.last_update IS NULL\n                    OR updates.time_epoch_millis < :timeEpochMillisThreshold\n                )\n          "])))).all({timeEpochMillisThreshold:+t}).map(t=>{const e=Rg({},t);return e.neverUpdated&&(e.endCursor=void 0),delete e.neverUpdated,e})}))()}_isUpToDate(t){return 0===t.typenames.length&&0===t.objects.length&&0===t.connections.length}_queryFromPlan(t,e){const r=t.typenames.slice(0,e.typenamesLimit),n=[];for(let t=0;t<r.length;t+=e.nodesOfTypeLimit)n.push(r.slice(t,t+e.nodesOfTypeLimit));const i=new Map;for(const r of t.objects.slice(0,e.nodesLimit))G(i,r.typename,r.id);const o=[];for(const[t,r]of i.entries())for(let n=0;n<r.length;n+=e.nodesOfTypeLimit){const i=r.slice(n,n+e.nodesOfTypeLimit);o.push({typename:t,ids:i})}const s=new Map;for(const r of t.connections.slice(0,e.connectionLimit)){let t=s.get(r.objectId);if(null==t)t={typename:r.objectTypename,connections:[]},s.set(r.objectId,t);else if(r.objectTypename!==t.typename){const e=JSON.stringify;throw new Error("Query plan has inconsistent typenames for "+"object ".concat(e(r.objectId),": ")+"".concat(e(t.typename)," vs. ").concat(e(r.objectTypename)))}t.connections.push({fieldname:r.fieldname,endCursor:r.endCursor})}const a=qm;return[].concat(n.map((t,e)=>{const r="".concat(jg.TYPENAMES).concat(e);return a.alias(r,a.field("nodes",{ids:a.list(t.map(t=>a.literal(t)))},this._queryTypename()))}),o.map((t,e)=>{let{typename:r,ids:n}=t;const i="".concat(jg.OWN_DATA).concat(e);return a.alias(i,a.field("nodes",{ids:a.list(n.map(t=>a.literal(t)))},[a.inlineFragment(r,this._queryOwnData(r))]))}),(c=s,u=(t,r)=>{let[n,{typename:i,connections:o}]=t;const s="".concat(jg.NODE_CONNECTIONS).concat(r);return a.alias(s,a.field("node",{id:a.literal(n)},[a.field("id"),a.inlineFragment(i,[].concat(...o.map(t=>{let{fieldname:r,endCursor:n}=t;return this._queryConnection(i,r,n,e.connectionPageSize)})))]))},Array.from(c.entries()).map(u)));var c,u}_updateData(t,e){this._db.transaction(()=>{this._nontransactionallyUpdateData(t,e)})()}_nontransactionallyUpdateData(t,e){for(const r of Object.keys(e)){const n=e[r];if(r.startsWith(jg.TYPENAMES)){const t=n;this._nontransactionallyUpdateTypenames(t)}else if(r.startsWith(jg.OWN_DATA)){const e=n;this._nontransactionallyUpdateOwnData(t,e)}else{if(!r.startsWith(jg.NODE_CONNECTIONS))throw new Error("Bad key in query result: "+JSON.stringify(r));{const e=n;for(const r of Object.keys(e))"id"!==r&&this._nontransactionallyUpdateConnection(t,e.id,r,e[r])}}}}_logRequest(t,e,r){const n=Wm.body(t,Hm()),i=U()(e);return this._db.prepare(ge(dg||(dg=xg(["          INSERT INTO network_log (\n              query, query_parameters, request_time_epoch_millis\n          )\n          VALUES (:query, :queryParameters, :requestTimestamp)\n        "],["\\\n          INSERT INTO network_log (\n              query, query_parameters, request_time_epoch_millis\n          )\n          VALUES (:query, :queryParameters, :requestTimestamp)\n        "])))).run({query:n,queryParameters:i,requestTimestamp:+r}).lastInsertRowid}_logResponse(t,e,r){const n=U()(e);Lg(this._db.prepare(ge(fg||(fg=xg(["        UPDATE network_log\n        SET\n            response = :response,\n            response_time_epoch_millis = :responseTimestamp\n        WHERE rowid = :rowid\n      "],["\\\n        UPDATE network_log\n        SET\n            response = :response,\n            response_time_epoch_millis = :responseTimestamp\n        WHERE rowid = :rowid\n      "])))))({response:n,responseTimestamp:+r,rowid:t})}_logRequestUpdateId(t,e){Lg(this._db.prepare(ge(pg||(pg=xg(["        UPDATE network_log\n        SET\n            update_id = :updateId\n        WHERE rowid = :rowid\n      "],["\\\n        UPDATE network_log\n        SET\n            update_id = :updateId\n        WHERE rowid = :rowid\n      "])))))({rowid:t,updateId:e})}async _updateStep(t,e){const r=this._findOutdated(e.since);if(this._isUpToDate(r))return Promise.resolve(!1);const n=this._queryFromPlan(r,{typenamesLimit:e.nodesLimit,nodesLimit:e.nodesLimit,nodesOfTypeLimit:e.nodesOfTypeLimit,connectionPageSize:e.connectionPageSize,connectionLimit:e.connectionLimit}),i=[qm.query("MirrorUpdate",[],n)],o={},s=this._logRequest(i,o,e.now()),a=await t({body:i,variables:o});return this._logResponse(s,a,e.now()),this._db.transaction(()=>{const t=this._createUpdate(e.now());this._logRequestUpdateId(s,t),this._nontransactionallyUpdateData(t,a)})(),Promise.resolve(!0)}async update(t,e){for(;await this._updateStep(t,e););}_queryShallow(t,e){const r=this._schema[t];if(null==r)throw new Error("No such type: "+JSON.stringify(t));const n=qm,i=[];switch(e.type){case"FAITHFUL":i.push(n.field("__typename"));break;case"UNFAITHFUL":break;default:throw new Error(e.type)}switch(r.type){case"SCALAR":throw new Error("Cannot create selections for scalar type: "+JSON.stringify(t));case"ENUM":throw new Error("Cannot create selections for enum type: "+JSON.stringify(t));case"OBJECT":return[...i,n.field("id")];case"UNION":return[...i,...this._schemaInfo.unionTypes[t].clauses.map(t=>n.inlineFragment(t,[n.field("id")]))];default:throw new Error(r.type)}}_getEndCursor(t,e){const r=this._db.prepare(ge(mg||(mg=xg(["          SELECT\n              last_update IS NOT NULL AS initialized,\n              end_cursor AS endCursor\n          FROM connections\n          WHERE object_id = :objectId AND fieldname = :fieldname\n        "],["\\\n          SELECT\n              last_update IS NOT NULL AS initialized,\n              end_cursor AS endCursor\n          FROM connections\n          WHERE object_id = :objectId AND fieldname = :fieldname\n        "])))).get({objectId:t,fieldname:e});if(void 0===r){const r=JSON.stringify;throw new Error("No such connection: ".concat(r(t),".").concat(r(e)))}return r.initialized?r.endCursor:void 0}_queryConnection(t,e,r,n){if(null==this._schema[t])throw new Error("No such type: "+JSON.stringify(t));if("OBJECT"!==this._schema[t].type){const e=JSON.stringify;throw new Error("Cannot query connection on non-object type ".concat(e(t)," ")+"(".concat(this._schema[t].type,")"))}const i=this._schemaInfo.objectTypes[t].fields[e];if(null==i){const r=JSON.stringify;throw new Error("Object type ".concat(r(t)," has no field ").concat(r(e)))}if("CONNECTION"!==i.type){const r=JSON.stringify;throw new Error("Cannot query non-connection field ".concat(r(t),".").concat(r(e)," ")+"(".concat(i.type,")"))}const o=qm,s={first:o.literal(n)};return void 0!==r&&(s.after=o.literal(r)),[o.field(e,s,[o.field("totalCount"),o.field("pageInfo",{},[o.field("endCursor"),o.field("hasNextPage")]),o.field("nodes",{},this._queryShallow(i.elementType,i.fidelity))])]}_updateConnection(t,e,r,n){this._db.transaction(()=>{this._nontransactionallyUpdateConnection(t,e,r,n)})()}_nontransactionallyUpdateConnection(t,e,r,n){const i=this._db,o=this._db.prepare(ge(gg||(gg=xg(["          SELECT rowid FROM connections\n          WHERE object_id = :objectId AND fieldname = :fieldname\n        "],["\\\n          SELECT rowid FROM connections\n          WHERE object_id = :objectId AND fieldname = :fieldname\n        "])))).pluck().get({objectId:e,fieldname:r});if(void 0===o){const t=JSON.stringify;throw new Error("No such connection: ".concat(t(e),".").concat(t(r)))}i.prepare(ge(yg||(yg=xg(["          UPDATE connections\n          SET\n              last_update = :updateId,\n              total_count = :totalCount,\n              has_next_page = :hasNextPage,\n              end_cursor = :endCursor\n          WHERE rowid = :connectionId\n        "],["\\\n          UPDATE connections\n          SET\n              last_update = :updateId,\n              total_count = :totalCount,\n              has_next_page = :hasNextPage,\n              end_cursor = :endCursor\n          WHERE rowid = :connectionId\n        "])))).run({updateId:t,totalCount:n.totalCount,hasNextPage:+n.pageInfo.hasNextPage,endCursor:n.pageInfo.endCursor,connectionId:o});let s=i.prepare(ge(_g||(_g=xg(["          SELECT IFNULL(MAX(idx), 0) + 1 FROM connection_entries\n          WHERE connection_id = :connectionId\n        "],["\\\n          SELECT IFNULL(MAX(idx), 0) + 1 FROM connection_entries\n          WHERE connection_id = :connectionId\n        "])))).pluck().get({connectionId:o});const a=i.prepare(ge(vg||(vg=xg(["        INSERT INTO connection_entries (connection_id, idx, child_id)\n        VALUES (:connectionId, :idx, :childId)\n      "],["\\\n        INSERT INTO connection_entries (connection_id, idx, child_id)\n        VALUES (:connectionId, :idx, :childId)\n      "]))));for(const t of n.nodes){const n=this._nontransactionallyRegisterNodeFieldResult(t,()=>{const t=JSON.stringify;return"when processing "+"".concat(t(r)," connection of object ").concat(t(e))}),i=s++;a.run({connectionId:o,idx:i,childId:n})}}_queryOwnData(t){const e=this._schema[t];if(null==e)throw new Error("No such type: ".concat(JSON.stringify(t)));if("OBJECT"!==e.type)throw new Error("Not an object type: ".concat(JSON.stringify(t)," (").concat(e.type,")"));const r=qm;return[r.field("__typename"),...Object.keys(e.fields).map(t=>{const n=e.fields[t];switch(n.type){case"ID":case"PRIMITIVE":return r.field(t);case"NODE":return r.field(t,{},this._queryShallow(n.elementType,n.fidelity));case"CONNECTION":return null;case"NESTED":return r.field(t,{},Object.keys(n.eggs).map(t=>{const e=n.eggs[t];switch(e.type){case"PRIMITIVE":return r.field(t);case"NODE":return r.field(t,{},this._queryShallow(e.elementType,e.fidelity));default:throw new Error(e.type)}}));default:throw new Error(n.type)}}).filter(Boolean)]}_updateOwnData(t,e){this._db.transaction(()=>{this._nontransactionallyUpdateOwnData(t,e)})()}_nontransactionallyUpdateOwnData(t,e){if(0===e.length)return;const r=e[0].__typename;if(null==this._schema[r])throw new Error("Unknown type: "+JSON.stringify(r));if("OBJECT"!==this._schema[r].type)throw new Error("Cannot update data for non-object type: "+"".concat(JSON.stringify(r)," (").concat(this._schema[r].type,")"));const n=this._db,i=this._schemaInfo.objectTypes[r];{const t=n.prepare("SELECT typename IS NOT NULL FROM objects WHERE id = ?").pluck();for(const n of e){const e=t.get(n.id);if(null==e)throw new Error("Cannot update data for nonexistent node: "+JSON.stringify(n.id));if(!e)throw new Error("Cannot update data before typename known: "+JSON.stringify(n.id));if(n.__typename!==r){const t=JSON.stringify;throw new Error("Result set has inconsistent typenames: "+"".concat(t(r)," vs. ").concat(t(n.__typename)))}}}{const r=(()=>{const e=Lg(n.prepare(ge(bg||(bg=xg(["            UPDATE objects SET last_update = :updateId\n            WHERE id = :objectId\n          "],["\\\n            UPDATE objects SET last_update = :updateId\n            WHERE id = :objectId\n          "])))));return r=>e({objectId:r,updateId:t})})();for(const t of e)r(t.id)}{const t={topLevelField:t=>["t",t].join("_"),nestedField:(t,e)=>["n",String(t.length),t,e].join("_")},o=Lg(n.prepare(ge(wg||(wg=xg(["            UPDATE primitives\n            SET value = :value\n            WHERE object_id = :id AND fieldname = :fieldname\n          "],["\\\n            UPDATE primitives\n            SET value = :value\n            WHERE object_id = :id AND fieldname = :fieldname\n          "])))));for(const n of e){const e={id:n.id};for(const s of i.primitiveFieldNames){const i=n[s];if(void 0===i){const t=JSON.stringify;throw new Error("Missing primitive ".concat(t(s)," on ").concat(t(n.id)," ")+"of type ".concat(t(r)," (got ").concat(i,")"))}const a=JSON.stringify(i);e[t.topLevelField(s)]=a,o({id:n.id,fieldname:s,value:a})}for(const s of i.nestedFieldNames){const a=n[s];if(void 0===a){const t=JSON.stringify;throw new Error("Missing nested field "+"".concat(t(s)," on ").concat(t(n.id)," ")+"of type ".concat(t(r)," (got ").concat(a,")"))}e[t.topLevelField(s)]=null==a?0:1,o({id:n.id,fieldname:s,value:null==a?0:1});const c=i.nestedFields[s].primitives;for(const i of Object.keys(c)){const c=null==a?null:a[i];if(void 0===c){const t=JSON.stringify;throw new Error("Missing nested field "+"".concat(t(s),".").concat(t(i)," ")+"on ".concat(t(n.id)," ")+"of type ".concat(t(r)," (got ").concat(c,")"))}const u=JSON.stringify(c);e[t.nestedField(s,i)]=u,o({id:n.id,fieldname:"".concat(s,".").concat(i),value:u})}}}}{const t=Lg(n.prepare(ge(Eg||(Eg=xg(["            UPDATE links SET child_id = :childId\n            WHERE parent_id = :parentId AND fieldname = :fieldname\n          "],["\\\n            UPDATE links SET child_id = :childId\n            WHERE parent_id = :parentId AND fieldname = :fieldname\n          "])))));for(const n of e){for(const e of i.linkFieldNames){const i=n[e];if(void 0===i){const t=JSON.stringify;throw new Error("Missing node reference ".concat(t(e)," on ").concat(t(n.id)," ")+"of type ".concat(t(r)," (got ").concat(i,")"))}const o=n.id,s=this._nontransactionallyRegisterNodeFieldResult(i,()=>"when setting "+"".concat(r,"[").concat(JSON.stringify(o),"].").concat(e));t({parentId:o,fieldname:e,childId:s})}for(const e of i.nestedFieldNames){const o=n[e],s=i.nestedFields[e].nodes;for(const i of Object.keys(s)){const s=null==o?null:o[i];if(void 0===s){const t=JSON.stringify;throw new Error("Missing nested field "+"".concat(t(e),".").concat(t(i)," ")+"on ".concat(t(n.id)," ")+"of type ".concat(t(r)," (got ").concat(s,")"))}const a="".concat(e,".").concat(i),c=n.id,u=this._nontransactionallyRegisterNodeFieldResult(s,()=>"when setting "+"".concat(r,"[").concat(JSON.stringify(c),"].").concat(a));t({parentId:c,fieldname:a,childId:u})}}}}}_queryTypename(){const t=qm;return[t.field("__typename"),t.field("id")]}_updateTypenames(t){this._db.transaction(()=>{this._nontransactionallyUpdateTypenames(t)})()}_nontransactionallyUpdateTypenames(t){for(const e of t)this._nontransactionallyRegisterObject({id:e.id,typename:e.__typename})}extract(t){const e=this._db;return e.transaction(()=>{e.prepare(ge(Sg||(Sg=xg(["          CREATE TEMPORARY TABLE transitive_dependencies (\n              id TEXT NOT NULL PRIMARY KEY,\n              typename TEXT NOT NULL\n          )\n        "],["\\\n          CREATE TEMPORARY TABLE transitive_dependencies (\n              id TEXT NOT NULL PRIMARY KEY,\n              typename TEXT NOT NULL\n          )\n        "])))).run();try{e.prepare(ge(Tg||(Tg=xg(["            WITH RECURSIVE\n            cte_direct_deps (parent_id, child_id) AS (\n                SELECT parent_id, child_id FROM links\n                WHERE child_id IS NOT NULL\n                UNION\n                SELECT DISTINCT\n                    connections.object_id AS parent_id,\n                    connection_entries.child_id AS child_id\n                FROM connections JOIN connection_entries\n                ON connections.rowid = connection_entries.connection_id\n                WHERE child_id IS NOT NULL\n            ),\n            cte_transitive_deps (id) AS (\n                VALUES (:rootId) UNION\n                SELECT cte_direct_deps.child_id\n                FROM cte_transitive_deps JOIN cte_direct_deps\n                ON cte_transitive_deps.id = cte_direct_deps.parent_id\n            )\n            INSERT INTO transitive_dependencies (id, typename)\n            SELECT objects.id AS id, objects.typename AS typename\n            FROM objects JOIN cte_transitive_deps\n            ON objects.id = cte_transitive_deps.id\n          "],["\\\n            WITH RECURSIVE\n            cte_direct_deps (parent_id, child_id) AS (\n                SELECT parent_id, child_id FROM links\n                WHERE child_id IS NOT NULL\n                UNION\n                SELECT DISTINCT\n                    connections.object_id AS parent_id,\n                    connection_entries.child_id AS child_id\n                FROM connections JOIN connection_entries\n                ON connections.rowid = connection_entries.connection_id\n                WHERE child_id IS NOT NULL\n            ),\n            cte_transitive_deps (id) AS (\n                VALUES (:rootId) UNION\n                SELECT cte_direct_deps.child_id\n                FROM cte_transitive_deps JOIN cte_direct_deps\n                ON cte_transitive_deps.id = cte_direct_deps.parent_id\n            )\n            INSERT INTO transitive_dependencies (id, typename)\n            SELECT objects.id AS id, objects.typename AS typename\n            FROM objects JOIN cte_transitive_deps\n            ON objects.id = cte_transitive_deps.id\n          "])))).run({rootId:t});{const r=e.prepare(ge(Ag||(Ag=xg(["                SELECT objects.id AS id, NULL as fieldname\n                FROM transitive_dependencies\n                JOIN objects USING (id)\n                WHERE objects.last_update IS NULL\n                UNION ALL\n                SELECT objects.id AS id, connections.fieldname AS fieldname\n                FROM transitive_dependencies\n                JOIN objects\n                    USING (id)\n                LEFT OUTER JOIN connections\n                    ON objects.id = connections.object_id\n                WHERE\n                    connections.rowid IS NOT NULL\n                    AND connections.last_update IS NULL\n              "],["\\\n                SELECT objects.id AS id, NULL as fieldname\n                FROM transitive_dependencies\n                JOIN objects USING (id)\n                WHERE objects.last_update IS NULL\n                UNION ALL\n                SELECT objects.id AS id, connections.fieldname AS fieldname\n                FROM transitive_dependencies\n                JOIN objects\n                    USING (id)\n                LEFT OUTER JOIN connections\n                    ON objects.id = connections.object_id\n                WHERE\n                    connections.rowid IS NOT NULL\n                    AND connections.last_update IS NULL\n              "])))).get();if(void 0!==r){const e=r,n=JSON.stringify,i=null==e.fieldname?"own data":"".concat(n(e.fieldname)," connection");throw new Error("".concat(n(t)," transitively depends on ").concat(n(e.id),", ")+"but that object's ".concat(i," has never been fetched"))}}const r=new Map;{const t=e.prepare("SELECT id AS id, typename AS typename FROM transitive_dependencies");for(const e of t.iterate())r.set(e.id,{id:e.id,__typename:e.typename})}{const t=e.prepare(ge(Og||(Og=xg(['              SELECT\n                object_id AS objectId,\n                fieldname AS name,\n                value AS value\n              FROM transitive_dependencies JOIN primitives\n              ON transitive_dependencies.id = primitives.object_id\n              -- Order by field name to ensure that nested fields appear\n              -- before their eggs: e.g., "author" before "author.user".\n              ORDER BY fieldname ASC\n            '],['\\\n              SELECT\n                object_id AS objectId,\n                fieldname AS name,\n                value AS value\n              FROM transitive_dependencies JOIN primitives\n              ON transitive_dependencies.id = primitives.object_id\n              -- Order by field name to ensure that nested fields appear\n              -- before their eggs: e.g., "author" before "author.user".\n              ORDER BY fieldname ASC\n            ']))));for(const e of t.iterate()){const t=vt(r.get(e.objectId));if(0===e.value)t[e.name]=null;else if(1===e.value)t[e.name]={};else{const r=JSON.parse(e.value),n=e.name.split(".");switch(n.length){case 1:t[e.name]=r;break;case 2:{const[e,i]=n;null!==t[e]&&(t[e][i]=r);break}default:throw new Error("Corruption: bad field name: ".concat(JSON.stringify(e.name)))}}}}{const t=e.prepare(ge(Mg||(Mg=xg(["              SELECT\n                parent_id AS parentId,\n                fieldname AS fieldname,\n                child_id AS childId\n              FROM transitive_dependencies JOIN links\n              ON transitive_dependencies.id = links.parent_id\n            "],["\\\n              SELECT\n                parent_id AS parentId,\n                fieldname AS fieldname,\n                child_id AS childId\n              FROM transitive_dependencies JOIN links\n              ON transitive_dependencies.id = links.parent_id\n            "]))));for(const e of t.iterate()){const t=vt(r.get(e.parentId)),n=null==e.childId?null:vt(r.get(e.childId)),{fieldname:i}=e,o=i.split(".");switch(o.length){case 1:t[i]=n;break;case 2:{const[e,r]=o;null!==t[e]&&(t[e][r]=n);break}default:throw new Error("Corruption: bad link name: ".concat(JSON.stringify(i)))}}}{const t=e.prepare(ge(kg||(kg=xg(["              SELECT\n                  objects.id AS parentId,\n                  connections.fieldname AS fieldname,\n                  connection_entries.connection_id IS NOT NULL AS hasContents,\n                  connection_entries.child_id AS childId\n              FROM transitive_dependencies\n              JOIN objects\n                  USING (id)\n              JOIN connections\n                  ON objects.id = connections.object_id\n              LEFT OUTER JOIN connection_entries\n                  ON connections.rowid = connection_entries.connection_id\n              ORDER BY\n                  objects.id, connections.fieldname, connection_entries.idx ASC\n            "],["\\\n              SELECT\n                  objects.id AS parentId,\n                  connections.fieldname AS fieldname,\n                  connection_entries.connection_id IS NOT NULL AS hasContents,\n                  connection_entries.child_id AS childId\n              FROM transitive_dependencies\n              JOIN objects\n                  USING (id)\n              JOIN connections\n                  ON objects.id = connections.object_id\n              LEFT OUTER JOIN connection_entries\n                  ON connections.rowid = connection_entries.connection_id\n              ORDER BY\n                  objects.id, connections.fieldname, connection_entries.idx ASC\n            "]))));for(const e of t.iterate()){const t=vt(r.get(e.parentId));if(void 0===t[e.fieldname]&&(t[e.fieldname]=[]),e.hasContents){const n=null==e.childId?null:vt(r.get(e.childId));t[e.fieldname].push(n)}}}const n=r.get(t);if(void 0===n)throw new Error("No such object: "+JSON.stringify(t));return n}finally{this._db.prepare("DROP TABLE temp.transitive_dependencies").run()}})()}}const jg=j()({TYPENAMES:"typenames_",OWN_DATA:"owndata_",NODE_CONNECTIONS:"node_"});function Lg(t){if(t.reader)throw new Error("Cannot create update function for statement that returns data: "+t.source);return e=>{const r=t.run(e);if(1!==r.changes)throw new Error("Bad change count: "+JSON.stringify({source:t.source,args:e,changes:r.changes}))}}function Pg(){const t=I,e={DateTime:t.scalar("string"),GitObjectID:t.scalar("string"),GitTimestamp:t.scalar("string"),Int:t.scalar("number"),String:t.scalar("string"),URI:t.scalar("string"),PullRequestReviewState:t.enum(["PENDING","COMMENTED","APPROVED","CHANGES_REQUESTED","DISMISSED"]),ReactionContent:t.enum(["THUMBS_UP","THUMBS_DOWN","LAUGH","HOORAY","CONFUSED","HEART","ROCKET","EYES"]),Repository:t.object({id:t.id(),url:t.primitive(t.nonNull("URI")),name:t.primitive(t.nonNull("String")),owner:t.node("RepositoryOwner"),issues:t.connection("Issue"),pullRequests:t.connection("PullRequest"),defaultBranchRef:t.node("Ref"),createdAt:t.primitive(t.nonNull("DateTime"))}),Issue:t.object({id:t.id(),url:t.primitive(t.nonNull("URI")),title:t.primitive(t.nonNull("String")),body:t.primitive(t.nonNull("String")),number:t.primitive(t.nonNull("Int")),author:t.node("Actor"),comments:t.connection("IssueComment"),reactions:t.connection("Reaction"),createdAt:t.primitive(t.nonNull("DateTime"))}),PullRequest:t.object({id:t.id(),url:t.primitive(t.nonNull("URI")),title:t.primitive(t.nonNull("String")),body:t.primitive(t.nonNull("String")),number:t.primitive(t.nonNull("Int")),mergeCommit:t.node("Commit"),additions:t.primitive(t.nonNull("Int")),deletions:t.primitive(t.nonNull("Int")),author:t.node("Actor"),comments:t.connection("IssueComment"),reviews:t.connection("PullRequestReview"),reactions:t.connection("Reaction"),createdAt:t.primitive(t.nonNull("DateTime")),baseRefName:t.primitive(t.nonNull("String"))}),IssueComment:t.object({id:t.id(),url:t.primitive(t.nonNull("URI")),body:t.primitive(t.nonNull("String")),author:t.node("Actor"),reactions:t.connection("Reaction"),createdAt:t.primitive(t.nonNull("DateTime"))}),PullRequestReview:t.object({id:t.id(),url:t.primitive(t.nonNull("URI")),body:t.primitive(t.nonNull("String")),author:t.node("Actor"),state:t.primitive(t.nonNull("PullRequestReviewState")),comments:t.connection("PullRequestReviewComment"),createdAt:t.primitive(t.nonNull("DateTime"))}),PullRequestReviewComment:t.object({id:t.id(),url:t.primitive(t.nonNull("URI")),body:t.primitive(t.nonNull("String")),author:t.node("Actor"),reactions:t.connection("Reaction"),createdAt:t.primitive(t.nonNull("DateTime"))}),Reaction:t.object({id:t.id(),content:t.primitive(t.nonNull("ReactionContent")),user:t.node("User",t.unfaithful(["User","Organization"])),createdAt:t.primitive(t.nonNull("DateTime"))}),Ref:t.object({id:t.id(),target:t.node("GitObject")}),GitObject:t.union(["Blob","Commit","Tag","Tree"]),Blob:t.object({id:t.id(),oid:t.primitive(t.nonNull("GitObjectID"))}),Commit:t.object({id:t.id(),url:t.primitive(t.nonNull("URI")),oid:t.primitive(t.nonNull("GitObjectID")),message:t.primitive(t.nonNull("String")),author:t.nested({date:t.primitive(t.nullable("GitTimestamp")),user:t.node("User",t.unfaithful(["User","Bot"]))}),parents:t.connection("Commit"),authoredDate:t.primitive(t.nonNull("GitTimestamp"))}),Tag:t.object({id:t.id(),oid:t.primitive(t.nonNull("GitObjectID"))}),Tree:t.object({id:t.id(),oid:t.primitive(t.nonNull("GitObjectID"))}),Actor:t.union(["User","Bot","Organization"]),RepositoryOwner:t.union(["User","Organization"]),User:t.object({id:t.id(),url:t.primitive(t.nonNull("URI")),login:t.primitive(t.nonNull("String"))}),Bot:t.object({id:t.id(),url:t.primitive(t.nonNull("URI")),login:t.primitive(t.nonNull("String"))}),Organization:t.object({id:t.id(),url:t.primitive(t.nonNull("URI")),login:t.primitive(t.nonNull("String"))})};return t.schema(e)}function Dg(t){const e=t.owner.toLowerCase(),r=t.name.toLowerCase();if(e.includes("_"))throw new Error("unexpected underscore in GitHub owner name would be ambiguous: "+kh(t));return"github_".concat(e,"_").concat(r)}function Fg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Bg(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Fg(Object(r),!0).forEach((function(e){Ug(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fg(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ug(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const qg={now:()=>new Date,sleepMs:t=>new Promise(e=>{setTimeout(e,t)}),rollJitter:t=>1+Math.random()*(t-1)};async function Hg(t,e){let{token:r,cache:n}=e;const i=await Jg(t=>Kg(t,r),t),o=await n.database(Dg(t));return new Cg(o,Pg(),{guessTypename:Wg}).extract(i)}async function Gg(t,e){let{token:r,cache:n}=e;const i=t=>Kg(t,r),o=await Jg(i,t),s=await n.database(Dg(t)),a=new Cg(s,Pg(),{guessTypename:Wg});a.registerObject({typename:"Repository",id:o});return await a.update(i,{since:new Date(Date.now()-432e5),now:()=>new Date,nodesLimit:100,connectionLimit:100,nodesOfTypeLimit:100,connectionPageSize:100}),a.extract(o)}const zg=/^[0-9]*:([a-z0-9_-]*[a-z_-])[0-9]+(?:[^a-z0-9_-].*)?$/i;function Wg(t){const e=Buffer.from(t,"base64").toString("utf-8").match(zg);return e?e[1]:null}function $g(t,e){const r={method:"POST",body:t,headers:{Authorization:"bearer ".concat(e)}};return Sm()("https://api.github.com/graphql",r).then(t=>t.json().then(t=>t.errors?1===t.errors.length&&t.errors[0].message.includes("it could be a GitHub bug")?Promise.reject({type:"GITHUB_INTERNAL_EXECUTION_ERROR",error:t}):1===t.errors.length&&"RATE_LIMITED"===t.errors[0].type?Promise.reject({type:"RATE_LIMIT_EXCEEDED",error:t}):Promise.reject({type:"GRAPHQL_ERROR",error:t}):void 0===t.data?t.message&&t.message.includes("Bad credentials")?Promise.reject({type:"BAD_CREDENTIALS",error:t}):Promise.reject({type:"NO_DATA",error:t}):Promise.resolve(t.data)),t=>Promise.reject({type:"FETCH_ERROR",error:t}))}async function Vg(t,e){if("FETCH_ERROR"===t.type||"GRAPHQL_ERROR"===t.type||"BAD_CREDENTIALS"===t.type)return{type:"FATAL",err:t};if("GITHUB_INTERNAL_EXECUTION_ERROR"===t.type||"NO_DATA"===t.type)return{type:"RETRY",err:t};if("RATE_LIMIT_EXCEEDED"===t.type)try{const r=await async function(t){const e=qm,r=e.query("RateLimitReset",[],[e.field("rateLimit",{},[e.field("resetAt")])]),n=JSON.stringify({query:Wm.body([r],Hm()),variables:{}}),i=await $g(n,t),o=i.rateLimit.resetAt,s=new Date(o);if(isNaN(s))throw"got NaN quota reset time: "+JSON.stringify(i);return s}(e),n=function(t,e){let r=+e-+t;const[n,i]=[0,36e5];if(r<n||r>i){const t=Math.max(n,Math.min(r,i));console.warn("clamping refresh delay from ".concat(r," ms to ").concat(t," ms")),r=t}return r+=6e4,new Date(+t+r)}(new Date,r);return console.warn("GitHub rate limit exceeded; waiting for refresh at "+n.toISOString()),{type:"WAIT",until:n,err:t}}catch(e){console.warn("GitHub rate limit exceeded; waiting 15 minutes");const r=9e5;return{type:"WAIT",until:new Date(Date.now()+r),err:t}}throw new Error(t.type)}async function Yg(t,e){const r=await async function(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qg;const n=Bg(Bg({},{initialDelayMs:1e3,backoffRatio:2,jitterRatio:1.2,maxRetries:3,maxWaits:1}),e);let i=n.initialDelayMs,o=0,s=0;for(;;){const e=await t();switch(e.type){case"DONE":return{type:"DONE",value:e.value};case"FATAL":return{type:"FAILED",err:e.err};case"RETRY":{if(o>=n.maxRetries)return{type:"FAILED",err:e.err};o++;const t=i*r.rollJitter(n.jitterRatio);await r.sleepMs(t),i*=n.backoffRatio;break}case"WAIT":{if(s>=n.maxWaits)return{type:"FAILED",err:e.err};s++;const t=r.now(),i=e.until-t;if(i<0){const r=t=>"@".concat((+t/1e3).toFixed(3));throw new Error("wait-until time in the past: ".concat(r(e.until)," < ").concat(r(t)))}await r.sleepMs(i);break}default:throw new Error(e.type)}}throw new Error("unreachable")}(async()=>{try{return{type:"DONE",value:await $g(t,e)}}catch(t){const r=t;return await Vg(r,e)}},{maxRetries:5,jitterRatio:1.2,maxWaits:4});switch(r.type){case"DONE":return r.value;case"FAILED":throw r.err;default:throw new Error(r.type)}}async function Kg(t,e){let{body:r,variables:n}=t;const i=JSON.stringify({query:Wm.body(r,Hm()),variables:n});return Yg(i,e).catch(t=>{switch(t.type){case"GITHUB_INTERNAL_EXECUTION_ERROR":case"NO_DATA":console.error("GitHub query failed! We're tracking these issues at https://github.com/sourcecred/sourcecred/issues/350.\nIf the error is a timeout or abuse rate limit, you can try loading a smaller repo, or trying again in a few minutes.\nThe actual failed response can be found below:\n================================================="),console.error(t.error);break;case"GRAPHQL_ERROR":t.error.errors.forEach(t=>{"NOT_FOUND"===t.type?console.error("Unable to find the specified repository. Please check for typos in the repository owner and name and confirm that you are using the correct token in $SOURCECRED_GITHUB_TOKEN"):console.error("Unexpected GraphQL error: "+JSON.stringify({postBody:i,error:t}))});break;case"RATE_LIMIT_EXCEEDED":console.error("You've exceeded your hourly GitHub rate limit.\nYou'll need to wait until it resets.");break;case"FETCH_ERROR":break;case"BAD_CREDENTIALS":console.error("An invalid token was supplied ($SOURCECRED_GITHUB_TOKEN). This is mostly likely caused by supplying a revoked token.");break;default:console.error("Unexpected GitHub Error: "+JSON.stringify({postBody:i,error:t}))}return Promise.reject(t)})}async function Jg(t,e){const r=qm,n={body:[r.query("ResolveRepositoryId",[r.param("owner","String!"),r.param("name","String!")],[r.field("repository",{owner:r.variable("owner"),name:r.variable("name")},[r.field("id")])])],variables:{owner:e.owner,name:e.name}},i=await t(n);if(null==i.repository)throw new Error("No such repository: ".concat(kh(e)," ")+"(response data: ".concat(JSON.stringify(i),")"));return i.repository.id}var Zg=r(57),Xg=r(12);function Qg(t){const e=(new Zg.Parser).parse(t);!function(t){const e=t.walker();let r=0;const n=/^<code(?:$|[ >])/i,i=new RegExp("^(?:".concat(Xg.OPENTAG,")")),o=new RegExp("^(?:".concat(Xg.CLOSETAG,")"));for(let t;t=e.next();){const e=t.node,s=e.type;if(r>0&&("html_inline"===s&&(i.test(e.literal)?r++:o.test(e.literal)&&r--),!t.entering||null==e.firstChild))e.unlink();else switch(s){case"text":break;case"softbreak":{const t=new Zg.Node("text",e.sourcepos);t.literal=" ",e.insertBefore(t),e.unlink();break}case"linebreak":break;case"emph":case"strong":case"link":case"image":if(!t.entering){for(;e.firstChild;)e.insertBefore(e.firstChild);e.unlink()}break;case"html_inline":n.test(e.literal)&&r++,e.unlink();break;case"code":case"document":case"paragraph":case"block_quote":case"item":case"list":case"heading":case"code_block":case"html_block":case"thematic_break":case"custom_inline":case"custom_block":break;default:throw new Error("unexpected type: "+s)}}}(e),function(t){const e=t.walker();let r,n=[],i=null;for(;r=e.next();){const t=r.node;"text"===t.type?(n.push(t.literal),null==i?i=t:t.unlink()):null!=i&&(i.literal=n.join(""),n=[],i=null)}}(e);const r=e.walker(),n=[];for(let t;t=r.next();){const e=t.node;"text"===e.type&&n.push(e.literal)}return n}function ty(t){const e=Qg(t);return[].concat.apply([],e.map(ey))}function ey(t){return[...ny(t),...ry(t),...oy(t),...iy(t),...sy(t)]}function ry(t){return ay(new RegExp("(?:\\W|^)((?:".concat("[A-Za-z0-9-]+",")/(?:").concat("[A-Za-z0-9-._]+",")#\\d+)(?=\\W|$)"),"gm"),t).map(t=>({refType:"BASIC",ref:t[1]}))}function ny(t){return ay(/(?:\W|^)(#\d+)(?=\W|$)/gm,t).map(t=>({refType:"BASIC",ref:t[1]}))}function iy(t){const e="(?:\\W|^)(?:P|p)aired(?:-| )(?:w|W)ith:? "+"(@(?:".concat("[A-Za-z0-9-]+","))(?=\\W|$)"),r="(?:\\W|^)(@(?:".concat("[A-Za-z0-9-]+","))(?=\\W|$)"),n=ay(new RegExp(e,"gm"),t).map(t=>({ref:t[1],refType:"PAIRED_WITH"})),i=ay(new RegExp(r,"gm"),t).map(t=>({ref:t[1],refType:"BASIC"}));for(const{ref:t}of n){const e=i.findIndex(e=>e.ref===t);if(-1===e)throw new Error("Couldn't find BASIC ref for paired with ref: ".concat(t));i.splice(e,1)}return[...n,...i]}function oy(t){return ay(new RegExp(/(?:\W|^)/.source+"("+/http(?:s)?:\/\/github.com\//.source+"(?:".concat("[A-Za-z0-9-]+",")")+"(?:"+/\//.source+"(?:".concat("[A-Za-z0-9-._]+",")")+/\/(?:issues|pull)\//.source+/(?:\d+)/.source+/(?:#(?:issue|issuecomment|pullrequestreview|discussion_r)-?(?:\d+))?/.source+")?)"+/(?=[^\w/-]|$)/.source,"gm"),t).map(t=>({refType:"BASIC",ref:t[1]}))}function sy(t){const e=ay(/(?:\W|^)([a-fA-F0-9]{40,})(?=\W|$)/gm,t).map(t=>({refType:"BASIC",ref:t[1].toLowerCase()})),r=ay(new RegExp(/(?:\W|^)/.source+"("+/https?:\/\/github.com\//.source+"(?:".concat("[A-Za-z0-9-]+",")")+/\//.source+"(?:".concat("[A-Za-z0-9-._]+",")")+/\/commit\/([a-fA-F0-9]{40,})/.source+")"+/(?=[^\w/]|$)/.source,"gm"),t).map(t=>({url:t[1].toLowerCase(),hash:t[2].toLowerCase()}));for(const{url:t,hash:n}of r){const r=e.findIndex(t=>{let{ref:e}=t;return e===n});if(-1===r)throw new Error("No matching hash for url reference: ".concat(t));e.splice(r,1)}const n=r.map(t=>({refType:"BASIC",ref:t.url}));return[...e,...n]}function ay(t,e){let r;const n=[];do{r=t.exec(e),r&&n.push(r)}while(r);return n}const cy="".concat("^https?://github\\.com","/(?:").concat("[A-Za-z0-9-]+",")/(?:").concat("[A-Za-z0-9-._]+",")/");function uy(t){const e=new RegExp(cy+/pull\/\d+#pullrequestreview-(\d+)$/.source).exec(t);if(null==e)throw new Error("Error parsing review url ".concat(t));return e[1]}var ly,hy;function dy(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function fy(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function py(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?fy(Object(r),!0).forEach((function(e){my(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fy(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function my(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const gy={type:"sourcecred/github/relationalView",version:"0.3.0"};class yy{constructor(){my(this,"_repos",void 0),my(this,"_issues",void 0),my(this,"_pulls",void 0),my(this,"_comments",void 0),my(this,"_commits",void 0),my(this,"_reviews",void 0),my(this,"_userlikes",void 0),my(this,"_mapReferences",void 0),my(this,"_mapReferencedBy",void 0),this._repos=new Map,this._issues=new Map,this._pulls=new Map,this._comments=new Map,this._commits=new Map,this._reviews=new Map,this._userlikes=new Map,this._mapReferences=new Map,this._mapReferencedBy=new Map}addRepository(t){this._addRepo(t),this._addReferences()}compressByRemovingBody(){for(const[t,e]of this._issues.entries()){const r=py(py({},e),{},{body:""});this._issues.set(t,r)}for(const[t,e]of this._pulls.entries()){const r=py(py({},e),{},{body:""});this._pulls.set(t,r)}for(const[t,e]of this._comments.entries()){const r=py(py({},e),{},{body:""});this._comments.set(t,r)}for(const[t,e]of this._reviews.entries()){const r=py(py({},e),{},{body:""});this._reviews.set(t,r)}for(const[t,e]of this._commits.entries()){const r=py(py({},e),{},{message:""});this._commits.set(t,r)}}*repos(){for(const t of this._repos.values())yield new vy(this,t)}repo(t){const e=this._repos.get(Zr(t));return null==e?e:new vy(this,e)}*issues(){for(const t of this._issues.values())yield new by(this,t)}issue(t){const e=this._issues.get(Zr(t));return null==e?e:new by(this,e)}*pulls(){for(const t of this._pulls.values())yield new wy(this,t)}pull(t){const e=this._pulls.get(Zr(t));return null==e?e:new wy(this,e)}*comments(){for(const t of this._comments.values())yield new Sy(this,t)}comment(t){const e=this._comments.get(Zr(t));return null==e?e:new Sy(this,e)}*commits(){for(const t of this._commits.values())yield new Ty(this,t)}commit(t){const e=this._commits.get(Zr(t));return null==e?e:new Ty(this,e)}*reviews(){for(const t of this._reviews.values())yield new Ey(this,t)}review(t){const e=this._reviews.get(Zr(t));return null==e?e:new Ey(this,e)}*userlikes(){for(const t of this._userlikes.values())yield new Ay(this,t)}userlike(t){const e=this._userlikes.get(Zr(t));return null==e?e:new Ay(this,e)}entity(t){switch(t.type){case"REPO":return this.repo(t);case"ISSUE":return this.issue(t);case"PULL":return this.pull(t);case"REVIEW":return this.review(t);case"COMMENT":return this.comment(t);case"USERLIKE":return this.userlike(t);case"COMMIT":return this.commit(t);default:throw new Error("Unexpected address type: ".concat(t.type))}}*referentEntities(){yield*this.repos(),yield*this.issues(),yield*this.pulls(),yield*this.reviews(),yield*this.comments(),yield*this.commits(),yield*this.userlikes()}*textContentEntities(){yield*this.issues(),yield*this.pulls(),yield*this.reviews(),yield*this.comments(),yield*this.commits()}*parentEntities(){yield*this.repos(),yield*this.issues(),yield*this.pulls(),yield*this.reviews()}*childEntities(){yield*this.issues(),yield*this.pulls(),yield*this.reviews(),yield*this.comments()}*authoredEntities(){yield*this.issues(),yield*this.pulls(),yield*this.reviews(),yield*this.comments(),yield*this.commits()}*entities(){yield*this.repos(),yield*this.issues(),yield*this.pulls(),yield*this.reviews(),yield*this.comments(),yield*this.commits(),yield*this.userlikes()}*reactableEntities(){yield*this.issues(),yield*this.pulls(),yield*this.comments()}toJSON(){const t={repos:q(this._repos),issues:q(this._issues),pulls:q(this._pulls),reviews:q(this._reviews),comments:q(this._comments),commits:q(this._commits),userlikes:q(this._userlikes),references:q(this._mapReferences),referencedBy:q(this._mapReferencedBy)};return mt(gy,t)}static fromJSON(t){const e=gt(gy,t),r=new yy;return r._repos=H(e.repos),r._issues=H(e.issues),r._pulls=H(e.pulls),r._reviews=H(e.reviews),r._comments=H(e.comments),r._commits=H(e.commits),r._userlikes=H(e.userlikes),r._mapReferences=H(e.references),r._mapReferencedBy=H(e.referencedBy),r}_addRepo(t){const e={type:Br,owner:vt(t.owner).login,name:t.name},r={address:e,url:t.url,issues:ky(t,"issues",t.issues).map(t=>this._addIssue(e,t)),pulls:ky(t,"pullRequests",t.pullRequests).map(t=>this._addPull(e,t)),timestampMs:+new Date(t.createdAt)},n=Zr(e);this._repos.set(n,r),this._addCommitHistory(t)}_addCommitHistory(t){if(null!=t.defaultBranchRef){const e=t.defaultBranchRef.target;if(null!=e&&"Commit"===e.__typename)this._addCommit(e);else if(null!=e)throw new Error(ge(ly||(ly=dy(["            Your repo doesn't have a commit as its defaultBranchRef's target.             Please file a bug reproducing this error.             https://github.com/sourcecred/sourcecred/issues          "],["\\\n            Your repo doesn't have a commit as its defaultBranchRef's target. \\\n            Please file a bug reproducing this error. \\\n            https://github.com/sourcecred/sourcecred/issues\\\n          "]))))}}_addIssue(t,e){const r={type:Ur,number:String(e.number),repo:t},n={address:r,url:e.url,comments:ky(e,"comments",e.comments).map(t=>this._addComment(r,t)),authors:this._addNullableAuthor(e.author),body:e.body,title:e.title,reactions:ky(e,"reactions",e.reactions).map(t=>this._addReaction(t)),timestampMs:+new Date(e.createdAt)};return this._issues.set(Zr(r),n),r}_addCommit(t){const e=[t];let r=null;for(;;){const t=e.pop();if(null==t)break;const n={type:zr,id:t.id},i=Zr(n);if(null==r&&(r=n),this._commits.has(i))continue;const o=null==t.author?[]:this._addNullableAuthor(t.author.user),s={address:n,url:t.url,authors:o,message:t.message,hash:t.oid,timestampMs:+new Date(t.authoredDate)};this._commits.set(Zr(n),s);for(const r of t.parents)null!=r&&e.push(r)}return vt(r)}_addPull(t,e){const r={type:qr,number:String(e.number),repo:t},n=null==e.mergeCommit?null:this._addCommit(e.mergeCommit),i={address:r,url:e.url,comments:ky(e,"comments",e.comments).map(t=>this._addComment(r,t)),reviews:ky(e,"reviews",e.reviews).map(t=>this._addReview(r,t)),authors:this._addNullableAuthor(e.author),body:e.body,title:e.title,mergedAs:n,additions:e.additions,deletions:e.deletions,reactions:ky(e,"reactions",e.reactions).map(t=>this._addReaction(t)),timestampMs:+new Date(e.createdAt)};return this._pulls.set(Zr(r),i),r}_addReview(t,e){const r={type:Hr,id:uy(e.url),pull:t},n={address:r,url:e.url,state:e.state,comments:ky(e,"comments",e.comments).map(t=>this._addComment(r,t)),body:e.body,authors:this._addNullableAuthor(e.author),timestampMs:+new Date(e.createdAt)};return this._reviews.set(Zr(r),n),r}_addComment(t,e){const r=function(){switch(t.type){case Ur:return function(t){const e=new RegExp(cy+/issues\/\d+#issuecomment-(\d+)$/.source).exec(t);if(null==e)throw new Error("Error parsing issue comment url ".concat(t));return e[1]}(e.url);case qr:return function(t){const e=new RegExp(cy+/pull\/\d+#issuecomment-(\d+)$/.source).exec(t);if(null==e)throw new Error("Error parsing pull comment url ".concat(t));return e[1]}(e.url);case Hr:return function(t){const e=new RegExp(cy+/pull\/\d+#discussion_r(\d+)/.source).exec(t);if(null==e)throw new Error("Error parsing review comment url ".concat(t));return e[1]}(e.url);default:throw new Error("Unexpected comment parent type: ".concat(t.type))}}(),n={type:Gr,id:r,parent:t},i={address:n,url:e.url,authors:this._addNullableAuthor(e.author),body:e.body,reactions:ky(e,"reactions",e.reactions).map(t=>this._addReaction(t)),timestampMs:+new Date(e.createdAt)};return this._comments.set(Zr(n),i),n}_addReaction(t){const e=this._addNullableAuthor(t.user);if(1!==e.length)throw new Error("Invariant violation: Reaction with id ".concat(t.id," did not have 1 author"));const r=+new Date(t.createdAt);return{content:t.content,user:e[0],timestampMs:r}}_addNullableAuthor(t){if(null==t)return[];{const e=t.login,r=Pr().has(e)?Vr:$r,n={type:Wr,subtype:r,login:e},i={address:n,url:t.url};return this._userlikes.set(Zr(n),i),[n]}}urlReferenceMap(){const t=new Map;for(const e of this.referentEntities()){const r=Zr(e.address()),n=e.url(),i=t.get(n);if(i&&i!==r)throw new Error(ge(hy||(hy=dy(["          An entry for "," already existed, but with a different NodeAddressT.\n          This is probably a bug with SourceCred. Please report it on GitHub.\n          Old: ","\n          New: ","\n        "],["\\\n          An entry for "," already existed, but with a different NodeAddressT.\n          This is probably a bug with SourceCred. Please report it on GitHub.\n          Old: ","\n          New: ","\n        "])),n,Tt.toString(i),Tt.toString(r)));t.set(n,r)}return t}_addReferences(){this._mapReferences=new Map,this._mapReferencedBy=new Map;const t=new Map;for(const e of this.referentEntities()){const r=e.address();t.set(e.url(),r),e instanceof Ay&&t.set("@".concat(e.login()),r),(e instanceof by||e instanceof wy)&&(t.set("#".concat(e.number()),r),t.set("".concat(e.parent().owner(),"/").concat(e.parent().name(),"#").concat(e.number()),r)),e instanceof Ty&&t.set(e.hash(),r)}for(const e of this.textContentEntities()){const r=e.address(),n=e instanceof Ty?e.message():e.body();for(const{ref:i,refType:o}of ty(n)){const n=t.get(i);if(null!=n)switch(o){case"BASIC":this._addReference(r,n);break;case"PAIRED_WITH":if(n.type!==Wr)throw new Error("Invariant error: @-ref did not refer to userlike: ".concat(U()(n)));const t=this.userlike(n);if(null==t)throw new Error("Invariant error: nonexistent reference: ".concat(U()(n)));this._addExtraAuthor(e,t);break;default:throw new Error("Unexpected refType: ".concat(o))}}}}_addReference(t,e){const r=Zr(t),n=this._mapReferences.get(r);null==n?this._mapReferences.set(r,[e]):n.push(e);const i=Zr(e),o=this._mapReferencedBy.get(i);null==o?this._mapReferencedBy.set(i,[t]):o.push(t)}_addExtraAuthor(t,e){for(const r of t.authors())if(r.login()===e.login())return;t._entry.authors.push(e.address())}*_referencedBy(t){const e=this._mapReferencedBy.get(Zr(t.address()));if(null!=e)for(const t of e){let e;switch(t.type){case"ISSUE":e=this.issue(t);break;case"PULL":e=this.pull(t);break;case"REVIEW":e=this.review(t);break;case"COMMENT":e=this.comment(t);break;case"COMMIT":e=this.commit(t);break;default:throw new Error("Unexpected referrer address type: ".concat(t.type))}if(null==e)throw new Error("Invariant error: Reference from non-existent entity: ".concat(U()(t)));yield e}}*_references(t){const e=this._mapReferences.get(Zr(t.address()));if(null!=e)for(const t of e){let e;switch(t.type){case"REPO":e=this.repo(t);break;case"ISSUE":e=this.issue(t);break;case"PULL":e=this.pull(t);break;case"REVIEW":e=this.review(t);break;case"COMMENT":e=this.comment(t);break;case"COMMIT":e=this.commit(t);break;case"USERLIKE":e=this.userlike(t);break;default:throw new Error("Unexpected referent address type: ".concat(t.type))}if(null==e)throw new Error("Invariant error: Reference to non-existent entity: ".concat(U()(t)));yield e}}}class _y{constructor(t,e){my(this,"_view",void 0),my(this,"_entry",void 0),this._view=t,this._entry=e}address(){return this._entry.address}url(){return this._entry.url}timestampMs(){throw new Error("Not implemented.")}description(){throw new Error("Not implemented.")}}class vy extends _y{constructor(t,e){super(t,e)}name(){return this._entry.address.name}owner(){return this._entry.address.owner}*issues(){for(const t of this._entry.issues){const e=this._view.issue(t);yield Oy(e,t)}}*pulls(){for(const t of this._entry.pulls){const e=this._view.pull(t);yield Oy(e,t)}}referencedBy(){return this._view._referencedBy(this)}timestampMs(){return this._entry.timestampMs}description(){return"[".concat(this.owner(),"/").concat(this.name(),"](").concat(this.url(),")")}}class by extends _y{constructor(t,e){super(t,e)}parent(){const t=this.address().repo;return Oy(this._view.repo(t),t)}number(){return this._entry.address.number}title(){return this._entry.title}body(){return this._entry.body}timestampMs(){return this._entry.timestampMs}description(){return"[#".concat(this.number(),"](").concat(this.url(),"): ").concat(this.title())}*comments(){for(const t of this._entry.comments){const e=this._view.comment(t);yield Oy(e,t)}}authors(){return My(this._view,this._entry)}references(){return this._view._references(this)}referencedBy(){return this._view._referencedBy(this)}reactions(){return this._entry.reactions}}class wy extends _y{constructor(t,e){super(t,e)}parent(){const t=this.address().repo;return Oy(this._view.repo(t),t)}number(){return this._entry.address.number}title(){return this._entry.title}body(){return this._entry.body}additions(){return this._entry.additions}deletions(){return this._entry.deletions}mergedAs(){return this._entry.mergedAs}timestampMs(){return this._entry.timestampMs}description(){return"[#".concat(this.number(),"](").concat(this.url(),"): ").concat(this.title())}*reviews(){for(const t of this._entry.reviews){const e=this._view.review(t);yield Oy(e,t)}}*comments(){for(const t of this._entry.comments){const e=this._view.comment(t);yield Oy(e,t)}}authors(){return My(this._view,this._entry)}references(){return this._view._references(this)}referencedBy(){return this._view._referencedBy(this)}reactions(){return this._entry.reactions}}class Ey extends _y{constructor(t,e){super(t,e)}parent(){const t=this.address().pull;return Oy(this._view.pull(t),t)}body(){return this._entry.body}state(){return this._entry.state}*comments(){for(const t of this._entry.comments){const e=this._view.comment(t);yield Oy(e,t)}}authors(){return My(this._view,this._entry)}timestampMs(){return this._entry.timestampMs}description(){return"[review](".concat(this.url(),") on ").concat(this.parent().description())}references(){return this._view._references(this)}referencedBy(){return this._view._referencedBy(this)}}class Sy extends _y{constructor(t,e){super(t,e)}parent(){const t=this.address().parent;let e;switch(t.type){case"PULL":e=this._view.pull(t);break;case"ISSUE":e=this._view.issue(t);break;case"REVIEW":e=this._view.review(t);break;default:throw new Error("Bad parent address type: ".concat(t.type))}return Oy(e,t)}body(){return this._entry.body}timestampMs(){return this._entry.timestampMs}description(){return"[comment](".concat(this.url(),") on ").concat(this.parent().description())}authors(){return My(this._view,this._entry)}references(){return this._view._references(this)}referencedBy(){return this._view._referencedBy(this)}reactions(){return this._entry.reactions}}class Ty extends _y{constructor(t,e){super(t,e)}authors(){return My(this._view,this._entry)}message(){return this._entry.message}references(){return this._view._references(this)}referencedBy(){return this._view._referencedBy(this)}hash(){return this._entry.hash}timestampMs(){return this._entry.timestampMs}description(){const t=this.hash().slice(0,7),e=this.message().split("\n")[0];return"[".concat(t,"](").concat(this.url(),"): ").concat(e)}}class Ay extends _y{constructor(t,e){super(t,e)}login(){return this.address().login}referencedBy(){return this._view._referencedBy(this)}timestampMs(){return null}description(){return"github/[@".concat(this.login(),"](").concat(this.url(),")")}}function Oy(t,e){if(null==t)throw new Error("Invariant violation: Expected entity for ".concat(U()(e)));return t}function*My(t,e){for(const r of e.authors){const e=t.userlike(r);yield Oy(e,r)}}function ky(t,e,r){const n=[];for(const i of r)null!==i?n.push(i):console.warn("".concat(t.__typename,"[").concat(t.id,"].").concat(e,": ")+"unexpected null value");return n}function xy(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class Ny{constructor(){xy(this,"graph",void 0),xy(this,"weights",void 0),this.graph=new kt,this.weights=He()}addData(t){for(const e of t.entities()){const t=Zr(e.address());this.graph.addNode({address:t,description:e.description(),timestampMs:e.timestampMs()})}for(const e of t.childEntities())this.addHasParent(e);for(const e of t.authoredEntities())this.addAuthors(e);for(const e of t.pulls()){const r=e.mergedAs();if(null!=r){const n=vt(t.commit(r)).timestampMs();this.graph.addEdge(dn.mergedAs(e.address(),r,n))}else{const t=Zr(e.address());this.weights.nodeWeights.set(t,0)}}for(const e of t.commits()){const t={type:"COMMIT",hash:e.hash()};this.graph.addEdge(dn.correspondsToCommit(e.address(),t,e.timestampMs()))}for(const e of t.textContentEntities())for(const t of e.references())this.graph.addEdge(dn.references(e.address(),t.address(),e.timestampMs()));for(const e of t.reactableEntities())for(const{content:t,user:r,timestampMs:n}of e.reactions())t!==en.THUMBS_UP&&t!==en.HEART&&t!==en.HOORAY&&t!==en.ROCKET||this.graph.addEdge(dn.reacts(t,r,e.address(),n))}addAuthors(t){for(const e of t.authors())this.graph.addEdge(dn.authors(e.address(),t.address(),t.timestampMs()))}addHasParent(t){this.graph.addEdge(dn.hasParent(t.address(),t.parent().address(),t.timestampMs()))}}class Ry{constructor(t){var e,r,n;n=void 0,(r="map")in(e=this)?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,this.map=t}addressFromUrl(t){return this.map.get(t)}}var Iy;function Cy(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const jy=Ry,Ly=(()=>{const t=n;return t.object({repoIds:t.rename("repositories",t.array(t.fmap(t.string,Mh)))})})();function Py(t){const e={description:t.description(),address:Zr(t.address())};return{pluginName:pr("github"),name:gr(t.login()),type:function(t){const e=t.address().subtype;switch(e){case"USER":return"USER";case"BOT":return"BOT";default:throw new Error("unknown userlike subtype: ".concat(e))}}(t),alias:e}}function Dy(t){return Array.from(t.userlikes()).map(Py)}class Fy{constructor(t){var e,r,n;n=void 0,(r="_basePath")in(e=this)?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,this._basePath=Up(t)}async get(t){const e=this._checkPathPrefix(t);return _m.a.readFile(e)}async set(t,e){const r=this._checkPathPrefix(t);return _m.a.writeFile(r,e)}_checkPathPrefix(t){const e=Up(Object(ps.join)(this._basePath,t));if(!e.startsWith(this._basePath)&&"."!==this._basePath)throw new Error("Path construction error; possible path traversal attack");return e}}async function By(t){const e=t.configDirectory();return ks(new Fy(e),"config.json",Ly)}class Uy{constructor(t){var e,r,n;n=void 0,(r="_dirContext")in(e=this)?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,this._dirContext=t}database(t){const e=Object(ps.join)(this._dirContext.cacheDirectory(),"".concat(t,".db"));return Promise.resolve(new wm.a(e))}}function qy(){const t=process.env.SOURCECRED_GITHUB_TOKEN;if(null==t)throw new Error("No GitHub token provided: set ".concat("SOURCECRED_GITHUB_TOKEN"));return function(t){if(/^gh[pousr]_[A-Za-z0-9_]*$/.test(t)||/^[A-Fa-f0-9]{40}$/.test(t))return t;const e=/^(v\d+)\.([A-Za-z0-9_]+)$/.exec(t);if(null!=e){const[r,n,i]=e;return"v1"!==n&&console.warn('Warning: GitHub installation access token has an unexpected version "'.concat(n,'".')),40!==i.length&&console.warn("Warning: GitHub installation access token has an unexpected hexadecimal component "+"length of ".concat(i.length,".")),t}throw new Error("The token supplied to $SOURCECRED_GITHUB_TOKEN doesn't match any format known to work.\n"+'Please verify the token "'.concat(t,'" is correct, or report a bug if you think it should work.'))}(t)}class Hy{async declaration(){return Vn}async load(t,e){const r=new Uy(t),n=qy(),i=await By(t);for(const t of i.repoIds){const i=kh(t),o="github: loading ".concat(i);e.start(o),await Gg(t,{token:n,cache:r}),e.finish(o)}}async graph(t,e){const r=new Uy(t),n=qy(),i=await By(t),o=[];for(const t of i.repoIds)o.push(await Hg(t,{token:n,cache:r}));const s=bs(o.map(t=>{const e=new yy;return e.addRepository(t),function(t){const e=new Ny;return e.addData(t),{graph:e.graph,weights:e.weights}}(e)})),a=hi(Vn),c=ze([s.weights,a]);return{graph:s.graph,weights:c}}async referenceDetector(t){const e=new Uy(t),r=qy(),n=await By(t),i=[];for(const t of n.repoIds){const n=await Hg(t,{token:r,cache:e}),o=new yy;o.addRepository(n),i.push(o)}return function(t){const e=new Map;for(const r of t)for(const[t,n]of r.urlReferenceMap().entries()){const r=e.get(t);if(r&&r!==n)throw new Error(ge(Iy||(Iy=Cy(["          An entry for "," already existed, but with a different NodeAddressT.\n          This is probably a bug with SourceCred. Please report it on GitHub.\n          Old: ","\n          New: ","\n        "],["\\\n          An entry for "," already existed, but with a different NodeAddressT.\n          This is probably a bug with SourceCred. Please report it on GitHub.\n          Old: ","\n          New: ","\n        "])),t,Tt.toString(r),Tt.toString(n)));e.set(t,n)}return new jy(e)}(i)}async identities(t){const e=new Uy(t),r=qy(),n=await By(t);let i=[];for(const t of n.repoIds){const n=await Hg(t,{token:r,cache:e}),o=new yy;o.addRepository(n),i=[...i,...Dy(o)]}return i}}const Gy=r(170);function zy(t){const e="(?:".concat("(https?://[\\w.-]+)",")/t/[\\w-]+/(\\d+)"),r="(?:".concat(e,")/(\\d+)"),n="(?:\\?[\\w-=]+)?",i=new RegExp("^(?:".concat(e,")(?:").concat(n,")/?$")),o=new RegExp("^(?:".concat(r,")(?:").concat(n,")/?$")),s=new RegExp("^(?:".concat("(https?://[\\w.-]+)",")/u/([\\w-]+)(?:").concat(n,")/?$")),a=[];for(const e of t){let t,r=null;try{t=decodeURI(e)}catch(t){console.error("".concat(t,"\nFor URL: ").concat(e));continue}(r=t.match(o))?a.push({type:"POST",topicId:+r[2],serverUrl:r[1],postIndex:+r[3]}):(r=t.match(i))?a.push({type:"TOPIC",topicId:+r[2],serverUrl:r[1]}):(r=t.match(s))&&a.push({type:"USER",username:r[2],serverUrl:r[1]})}return a}function Wy(t,e){return{address:At.append(qt.prefix,t,String(e.topicId),String(e.id)),timestampMs:e.timestampMs,src:Zt(t,e.topicId),dst:Xt(t,e.id)}}const $y=ut({},{defaultCategoryWeight:J,defaultTagWeight:J,categoryWeights:dt(J,nt(ft("//"),(function(t){const e=parseInt(t,10);if(Number.isNaN(e)||e.toString()!==t)throw new Error("CategoryId should be a string integer; got ".concat(t));return t}))),tagWeights:dt(J,nt(K,(function(t){return t})))}),Vy=nt($y,(function(t){return{defaultTagWeight:bt(t.defaultTagWeight,1),defaultCategoryWeight:bt(t.defaultCategoryWeight,1),tagWeights:H(t.tagWeights||{}),categoryWeights:H(t.categoryWeights||{})}}));function Yy(t,e,r,n){return(null==e?0:function(t){if(null==t)return Ky[0];const e=String(t),r=Ky[e];if(null==r)throw new Error("invalid trust level: ".concat(String(e)));return r}(e.trustLevel))*(null==r?1:function(t,e){let{categoryWeights:r,defaultCategoryWeight:n}=e;const i=r.get(t);return null==i?n:i}(r,t))*(null==n?1:function(t,e){let{tagWeights:r,defaultTagWeight:n}=e;return t.reduce((t,e)=>{return t*(i=e,bt(r.get(i),n));var i},1)}(n,t))}const Ky=Object.freeze({0:0,1:.1,2:1,3:1.25,4:1.5});function Jy(t,e){const{serverUrl:r}=t,n=e.users().map(t=>function(t,e){const r="".concat(t,"/u/").concat(e,"/"),n="discourse/[@".concat(e,"](").concat(r,")");return{address:Qt(t,e),description:n,timestampMs:null}}(r,t.username)),i=new Map,o=new Map,s=e.topics().map(t=>{const e=function(t,e){const r="".concat(t,"/t/").concat(String(e.id)),n="[".concat(e.title,"](").concat(r,")");return{address:Zt(t,e.id),description:n,timestampMs:e.timestampMs}}(r,t);i.set(t.id,t.categoryId),o.set(t.id,t.tags);return{node:e,hasAuthor:function(t,e){return{address:At.append(Gt.prefix,t,e.authorUsername,String(e.id)),timestampMs:e.timestampMs,src:Qt(t,e.authorUsername),dst:Zt(t,e.id)}}(r,t)}}),a=e.findPostInTopic.bind(e),c=new Map,u=e.posts().map(t=>{const n=e.topicById(t.topicId),i=null!=n?n.title:"[unknown topic]",o=r+"/t/"+t.topicId+"/"+t.indexWithinTopic,s="[#".concat(t.indexWithinTopic," on ").concat(i,"](").concat(o,")");c.set(t.id,s);const u=function(t,e,r){const n=Xt(t,e.id);return{timestampMs:e.timestampMs,address:n,description:r}}(r,t,s),l=function(t,e){return{address:At.append(zt.prefix,t,e.authorUsername,String(e.id)),timestampMs:e.timestampMs,src:Qt(t,e.authorUsername),dst:Xt(t,e.id)}}(r,t),h=function(t,e,r,n){const i=zy(n||function(t,e){const r=[],n=/^https?:\/\//;if("/"===e[e.length-1]&&(e=e.slice(0,e.length-1)),!e.match(n))throw new Error("Invalid server url ".concat(e));const i=new Gy.Parser({onopentag(t,i){if("a"===t){const t=i.href;null!=t&&(t.match(n)&&r.push(t),"/"===t[0]&&r.push(e+t))}}});return i.write(t),i.end(),r}(e.cooked,t)),o=[];for(const n of i){const i=Xy(t,e,n,r);null!=i&&o.push(i)}return o}(r,t,a);let d=null,f=t.replyToPostIndex;if(null==f&&t.indexWithinTopic>1&&(f=1),null!=f){const n=e.findPostInTopic(t.topicId,f);null!=n&&(d=function(t,e,r){return{address:At.append(Ht.prefix,t,String(e.id),String(r)),timestampMs:e.timestampMs,src:Xt(t,e.id),dst:Xt(t,r)}}(r,t,n))}return{node:u,hasAuthor:l,references:h,postReplies:d,topicContains:function(t,e){return{address:At.append(Ut.prefix,t,String(e.topicId),String(e.id)),timestampMs:e.timestampMs,src:Zt(t,e.topicId),dst:Xt(t,e.id)}}(r,t)}}),l=new Map,h=e.likes().map(n=>{const s=c.get(n.postId)||"[unknown post]",a=function(t,e,r){const n=te(t,e),i=" by ".concat(e.username," on ").concat(r);return{timestampMs:e.timestampMs,address:n,description:i}}(r,n,s),u=function(t,e){return{address:At.append(Wt.prefix,t,e.username,String(e.postId)),timestampMs:e.timestampMs,src:Qt(t,e.username),dst:te(t,e)}}(r,n),h=function(t,e){return{address:At.append($t.prefix,t,e.username,String(e.postId)),timestampMs:e.timestampMs,src:te(t,e),dst:Xt(t,e.postId)}}(r,n),d=e.findUser(n.username),f=e.postById(n.postId),p=f?f.topicId:null;let m=0;if(p){const e=i.get(p),r=o.get(p);m=Yy(t.weights,d,e,r)}else m=Yy(t.weights,d);const g=l.get(n.postId)||0;return l.set(n.postId,g+m),{node:a,createsLike:u,likes:h,weight:m}}),d=[];for(const[t,n]of l.entries()){if(0===n)continue;const i=e.postById(t);if(null==i)continue;const o=Wy(r,i);d.push({edge:o,weight:n})}return{users:n,topics:s,posts:u,likes:h,topicHasLikedPosts:d}}function Zy(t,e){return function(t){let{users:e,topics:r,posts:n,likes:i,topicHasLikedPosts:o}=t;const s=new kt,a=hi(Jt);for(const t of e)s.addNode(t);for(const t of r)s.addNode(t.node),s.addEdge(t.hasAuthor);for(const t of n){s.addNode(t.node),s.addEdge(t.topicContains),s.addEdge(t.hasAuthor),null!=t.postReplies&&s.addEdge(t.postReplies);for(const e of t.references)s.addEdge(e)}for(const t of i)s.addNode(t.node),s.addEdge(t.createsLike),s.addEdge(t.likes),a.nodeWeights.set(t.node.address,t.weight);for(const{edge:t,weight:e}of o)s.addEdge(t),a.edgeWeights.set(t.address,{forwards:e,backwards:0});return{graph:s,weights:a}}(Jy(t,e))}function Xy(t,e,r,n){if(null!=r.serverUrl&&r.serverUrl.toLowerCase()!==t.toLowerCase())return null;switch(r.type){case"TOPIC":return function(t,e,r){const n=At.append(Yt.prefix,t,String(e.id),String(r.topicId));return{src:Xt(t,e.id),dst:Zt(t,r.topicId),timestampMs:e.timestampMs,address:n}}(t,e,r);case"POST":{const i=n(r.topicId,r.postIndex);return null==i?null:function(t,e,r){const n=At.append(Vt.prefix,t,String(e.id),String(r));return{src:Xt(t,e.id),dst:Xt(t,r),timestampMs:e.timestampMs,address:n}}(t,e,i)}case"USER":return function(t,e,r){const n=At.append(Kt.prefix,t,String(e.id),r.username);return{src:Xt(t,e.id),dst:Qt(t,r.username),timestampMs:e.timestampMs,address:n}}(t,e,r);default:throw new Error("Unexpected reference type: ".concat(r.type))}}var Qy,t_,e_,r_,n_,i_,o_,s_,a_,c_,u_,l_,h_,d_,f_,p_,m_,g_,y_,__,v_,b_,w_,E_;function S_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function T_(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?S_(Object(r),!0).forEach((function(e){O_(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S_(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function A_(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function O_(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M_(t){let{changes:e,lastInsertRowid:r}=t;return{changes:e,lastInsertRowid:r}}class k_{constructor(t,e){if(O_(this,"_db",void 0),null==t)throw new Error("db: "+String(t));this._db=t,this._transaction(()=>{this._initialize(e)})}_transaction(t){const e=this._db;if(e.inTransaction)throw new Error("already in transaction");try{e.prepare("BEGIN").run(),t(),e.inTransaction&&e.prepare("COMMIT").run()}finally{e.inTransaction&&e.prepare("ROLLBACK").run()}}_initialize(t){const e=this._db;e.prepare(ge(Qy||(Qy=A_(["        CREATE TABLE IF NOT EXISTS meta (\n            zero INTEGER PRIMARY KEY,\n            config TEXT NOT NULL\n        )\n      "],["\\\n        CREATE TABLE IF NOT EXISTS meta (\n            zero INTEGER PRIMARY KEY,\n            config TEXT NOT NULL\n        )\n      "])))).run();const r=U()({version:"discourse_mirror_v6",serverUrl:t}),n=e.prepare("SELECT config FROM meta").pluck().get();if(n===r)return;if(void 0!==n)throw new Error("Database already populated with incompatible server or version");e.prepare("INSERT INTO meta (zero, config) VALUES (0, ?)").run(r);const i=[ge(t_||(t_=A_(["        CREATE TABLE sync_heads (\n          key TEXT PRIMARY KEY,\n          timestamp_ms INTEGER NOT NULL\n        )"],["\\\n        CREATE TABLE sync_heads (\n          key TEXT PRIMARY KEY,\n          timestamp_ms INTEGER NOT NULL\n        )"]))),ge(e_||(e_=A_(["        CREATE TABLE users (\n          username TEXT PRIMARY KEY,\n          trust_level INTEGER\n        )"],["\\\n        CREATE TABLE users (\n          username TEXT PRIMARY KEY,\n          trust_level INTEGER\n        )"]))),ge(r_||(r_=A_(["        CREATE TABLE topics (\n            id INTEGER PRIMARY KEY,\n            category_id TEXT NOT NULL,\n            title TEXT NOT NULL,\n            timestamp_ms INTEGER NOT NULL,\n            bumped_ms INTEGER NOT NULL,\n            author_username TEXT NOT NULL,\n            FOREIGN KEY(author_username) REFERENCES users(username)\n        )\n      "],["\\\n        CREATE TABLE topics (\n            id INTEGER PRIMARY KEY,\n            category_id TEXT NOT NULL,\n            title TEXT NOT NULL,\n            timestamp_ms INTEGER NOT NULL,\n            bumped_ms INTEGER NOT NULL,\n            author_username TEXT NOT NULL,\n            FOREIGN KEY(author_username) REFERENCES users(username)\n        )\n      "]))),ge(n_||(n_=A_(["        CREATE TABLE topic_tags (\n            topic_id INTEGER NOT NULL,\n            tag_name TEXT NOT NULL,\n            PRIMARY KEY(topic_id, tag_name),\n            FOREIGN KEY(topic_id) REFERENCES topics(id)\n      )\n      "],["\\\n        CREATE TABLE topic_tags (\n            topic_id INTEGER NOT NULL,\n            tag_name TEXT NOT NULL,\n            PRIMARY KEY(topic_id, tag_name),\n            FOREIGN KEY(topic_id) REFERENCES topics(id)\n      )\n      "]))),ge(i_||(i_=A_(["        CREATE TABLE posts (\n            id INTEGER PRIMARY KEY,\n            timestamp_ms INTEGER NOT NULL,\n            author_username TEXT NOT NULL,\n            topic_id INTEGER NOT NULL,\n            trust_level INTEGER NOT NULL,\n            index_within_topic INTEGER NOT NULL,\n            reply_to_post_index INTEGER,\n            cooked TEXT NOT NULL,\n            FOREIGN KEY(topic_id) REFERENCES topics(id),\n            FOREIGN KEY(author_username) REFERENCES users(username)\n        )\n      "],["\\\n        CREATE TABLE posts (\n            id INTEGER PRIMARY KEY,\n            timestamp_ms INTEGER NOT NULL,\n            author_username TEXT NOT NULL,\n            topic_id INTEGER NOT NULL,\n            trust_level INTEGER NOT NULL,\n            index_within_topic INTEGER NOT NULL,\n            reply_to_post_index INTEGER,\n            cooked TEXT NOT NULL,\n            FOREIGN KEY(topic_id) REFERENCES topics(id),\n            FOREIGN KEY(author_username) REFERENCES users(username)\n        )\n      "]))),ge(o_||(o_=A_(["        CREATE TABLE likes (\n          username TEXT NOT NULL,\n          post_id INTEGER NOT NULL,\n          timestamp_ms INTEGER NOT NULL,\n          CONSTRAINT username_post PRIMARY KEY (username, post_id),\n          FOREIGN KEY(post_id) REFERENCES posts(id),\n          FOREIGN KEY(username) REFERENCES users(username)\n        )"],["\\\n        CREATE TABLE likes (\n          username TEXT NOT NULL,\n          post_id INTEGER NOT NULL,\n          timestamp_ms INTEGER NOT NULL,\n          CONSTRAINT username_post PRIMARY KEY (username, post_id),\n          FOREIGN KEY(post_id) REFERENCES posts(id),\n          FOREIGN KEY(username) REFERENCES users(username)\n        )"])))];for(const t of i)e.prepare(t).run()}syncHeads(){const t=this._db.prepare(ge(s_||(s_=A_(["          SELECT\n              (SELECT IFNULL(MAX(bumped_ms), 0) FROM topics) AS max_topic_bump,\n              (SELECT timestamp_ms FROM sync_heads WHERE key = :DEFINITION_CHECK_KEY) AS definition_check\n          "],["\\\n          SELECT\n              (SELECT IFNULL(MAX(bumped_ms), 0) FROM topics) AS max_topic_bump,\n              (SELECT timestamp_ms FROM sync_heads WHERE key = :DEFINITION_CHECK_KEY) AS definition_check\n          "])))).get({DEFINITION_CHECK_KEY:"definition_check"});return{definitionCheckMs:t.definition_check||0,topicBumpMs:t.max_topic_bump}}topics(){return this._db.transaction(()=>{const t=this._db.prepare(ge(a_||(a_=A_(["            SELECT\n              id,\n              category_id,\n              title,\n              timestamp_ms,\n              bumped_ms,\n              author_username\n            FROM topics\n        "],["\\\n            SELECT\n              id,\n              category_id,\n              title,\n              timestamp_ms,\n              bumped_ms,\n              author_username\n            FROM topics\n        "])))).all().map(t=>({id:t.id,categoryId:t.category_id,title:t.title,timestampMs:t.timestamp_ms,bumpedMs:t.bumped_ms,authorUsername:t.author_username})),e=this._db.prepare(ge(c_||(c_=A_(["            SELECT\n              tag_name AS tagName,\n              topic_id AS topicId\n            FROM topic_tags\n            ORDER BY tagName\n        "],["\\\n            SELECT\n              tag_name AS tagName,\n              topic_id AS topicId\n            FROM topic_tags\n            ORDER BY tagName\n        "])))).all(),r=new Map;for(const{tagName:t,topicId:n}of e)G(r,n,t);return t.map(t=>{const e=r.get(t.id)||[];return T_(T_({},t),{},{tags:e})})})()}topicById(t){const e=this._db.prepare(ge(u_||(u_=A_(["          SELECT\n            id,\n            category_id,\n            title,\n            timestamp_ms,\n            bumped_ms,\n            author_username,\n            topic_tags.tag_name AS tagName\n          FROM topics\n          LEFT OUTER JOIN topic_tags\n            ON topics.id = topic_tags.topic_id\n          WHERE id = :id\n          ORDER BY tagName\n        "],["\\\n          SELECT\n            id,\n            category_id,\n            title,\n            timestamp_ms,\n            bumped_ms,\n            author_username,\n            topic_tags.tag_name AS tagName\n          FROM topics\n          LEFT OUTER JOIN topic_tags\n            ON topics.id = topic_tags.topic_id\n          WHERE id = :id\n          ORDER BY tagName\n        "])))).all({id:t});if(0===e.length)return null;const r=e[0],n=null==r.tagName?[]:e.map(t=>t.tagName);return{id:r.id,categoryId:r.category_id,tags:n,title:r.title,timestampMs:r.timestamp_ms,bumpedMs:r.bumped_ms,authorUsername:r.author_username}}posts(){return this._db.prepare(ge(l_||(l_=A_(["          SELECT\n            id,\n            timestamp_ms,\n            author_username,\n            topic_id,\n            trust_level,\n            index_within_topic,\n            reply_to_post_index,\n            cooked\n          FROM posts"],["\\\n          SELECT\n            id,\n            timestamp_ms,\n            author_username,\n            topic_id,\n            trust_level,\n            index_within_topic,\n            reply_to_post_index,\n            cooked\n          FROM posts"])))).all().map(t=>({id:t.id,timestampMs:t.timestamp_ms,authorUsername:t.author_username,topicId:t.topic_id,trustLevel:t.trust_level,indexWithinTopic:t.index_within_topic,replyToPostIndex:t.reply_to_post_index,cooked:t.cooked}))}postById(t){const e=this._db.prepare(ge(h_||(h_=A_(["          SELECT\n            id,\n            timestamp_ms,\n            author_username,\n            topic_id,\n            trust_level,\n            index_within_topic,\n            reply_to_post_index,\n            cooked\n          FROM posts\n          WHERE id = :id"],["\\\n          SELECT\n            id,\n            timestamp_ms,\n            author_username,\n            topic_id,\n            trust_level,\n            index_within_topic,\n            reply_to_post_index,\n            cooked\n          FROM posts\n          WHERE id = :id"])))).get({id:t});return e?{id:e.id,timestampMs:e.timestamp_ms,authorUsername:e.author_username,topicId:e.topic_id,trustLevel:e.trust_level,indexWithinTopic:e.index_within_topic,replyToPostIndex:e.reply_to_post_index,cooked:e.cooked}:null}users(){return this._db.prepare("SELECT username, trust_level FROM users").all().map(t=>({username:t.username,trustLevel:t.trust_level}))}findUser(t){const e=this._db.prepare(ge(d_||(d_=A_(["          SELECT username, trust_level\n          FROM users\n          WHERE username = :username COLLATE NOCASE\n        "],["\\\n          SELECT username, trust_level\n          FROM users\n          WHERE username = :username COLLATE NOCASE\n        "])))).get({username:t});return null==e?null:{username:e.username,trustLevel:e.trust_level}}likes(){return this._db.prepare("SELECT post_id, username, timestamp_ms FROM likes").all().map(t=>({postId:t.post_id,timestampMs:t.timestamp_ms,username:t.username}))}findPostInTopic(t,e){return this._db.prepare(ge(f_||(f_=A_(["          SELECT id\n          FROM posts\n          WHERE topic_id = :topic_id AND index_within_topic = :index_within_topic\n        "],["\\\n          SELECT id\n          FROM posts\n          WHERE topic_id = :topic_id AND index_within_topic = :index_within_topic\n        "])))).pluck().get({topic_id:t,index_within_topic:e})}bumpDefinitionTopicCheck(t){this._db.prepare(ge(p_||(p_=A_(["          REPLACE INTO sync_heads (\n              key,\n              timestamp_ms\n          ) VALUES (\n              :key,\n              :timestamp_ms\n          )\n        "],["\\\n          REPLACE INTO sync_heads (\n              key,\n              timestamp_ms\n          ) VALUES (\n              :key,\n              :timestamp_ms\n          )\n        "])))).run({key:"definition_check",timestamp_ms:t})}addLike(t){this.addUserIfNotExists({username:t.username,trustLevel:null});return M_(this._db.prepare(ge(m_||(m_=A_(["          INSERT OR IGNORE INTO likes (\n              post_id,\n              timestamp_ms,\n              username\n          ) VALUES (\n              :post_id,\n              :timestamp_ms,\n              :username\n          )\n        "],["\\\n          INSERT OR IGNORE INTO likes (\n              post_id,\n              timestamp_ms,\n              username\n          ) VALUES (\n              :post_id,\n              :timestamp_ms,\n              :username\n          )\n        "])))).run({post_id:t.postId,timestamp_ms:t.timestampMs,username:t.username}))}replaceTopicTransaction(t,e){this._transaction(()=>{this.addTopic(t);for(const t of e)this.addPost(t);this.deleteUnexpectedPosts(t.id,e.map(t=>t.id))})}deleteUnexpectedPosts(t,e){return this._db.prepare(ge(g_||(g_=A_(["          DELETE FROM posts\n          WHERE topic_id = ?\n          AND id NOT IN (",")\n        "],["\\\n          DELETE FROM posts\n          WHERE topic_id = ?\n          AND id NOT IN (",")\n        "])),e.map(t=>"?").join(","))).run(t,...e).changes}bumpedMsForTopic(t){const e=this._db.prepare("SELECT bumped_ms FROM topics WHERE id = :id").get({id:t});return null!=e?e.bumped_ms:null}addPost(t){this.addOrReplaceUser({username:t.authorUsername,trustLevel:t.trustLevel});return M_(this._db.prepare(ge(y_||(y_=A_(["          REPLACE INTO posts (\n              id,\n              timestamp_ms,\n              author_username,\n              topic_id,\n              trust_level,\n              index_within_topic,\n              reply_to_post_index,\n              cooked\n          ) VALUES (\n              :id,\n              :timestamp_ms,\n              :author_username,\n              :topic_id,\n              :trust_level,\n              :index_within_topic,\n              :reply_to_post_index,\n              :cooked\n          )\n        "],["\\\n          REPLACE INTO posts (\n              id,\n              timestamp_ms,\n              author_username,\n              topic_id,\n              trust_level,\n              index_within_topic,\n              reply_to_post_index,\n              cooked\n          ) VALUES (\n              :id,\n              :timestamp_ms,\n              :author_username,\n              :topic_id,\n              :trust_level,\n              :index_within_topic,\n              :reply_to_post_index,\n              :cooked\n          )\n        "])))).run({id:t.id,timestamp_ms:t.timestampMs,reply_to_post_index:t.replyToPostIndex,index_within_topic:t.indexWithinTopic,topic_id:t.topicId,trust_level:t.trustLevel,author_username:t.authorUsername,cooked:t.cooked}))}addTopic(t){this._db.transaction(()=>{this.addUserIfNotExists({username:t.authorUsername,trustLevel:null}),this._db.prepare(ge(__||(__=A_(["            REPLACE INTO topics (\n                id,\n                category_id,\n                title,\n                timestamp_ms,\n                bumped_ms,\n                author_username\n            ) VALUES (\n                :id,\n                :category_id,\n                :title,\n                :timestamp_ms,\n                :bumped_ms,\n                :author_username\n            )\n        "],["\\\n            REPLACE INTO topics (\n                id,\n                category_id,\n                title,\n                timestamp_ms,\n                bumped_ms,\n                author_username\n            ) VALUES (\n                :id,\n                :category_id,\n                :title,\n                :timestamp_ms,\n                :bumped_ms,\n                :author_username\n            )\n        "])))).run({id:t.id,category_id:t.categoryId,title:t.title,timestamp_ms:t.timestampMs,bumped_ms:t.bumpedMs,author_username:t.authorUsername}),this._db.prepare(ge(v_||(v_=A_(["\n            DELETE FROM topic_tags\n            WHERE topic_id = :id\n      "])))).run({id:t.id});const e=this._db.prepare(ge(b_||(b_=A_(["\n          INSERT INTO topic_tags (\n            tag_name,\n            topic_id\n          ) VALUES (\n            :tagName,\n            :id\n          )\n      "]))));for(const r of t.tags)e.run({id:t.id,tagName:r})})()}addUserIfNotExists(t){const{trustLevel:e,username:r}=t;return M_(this._db.prepare(ge(w_||(w_=A_(["          INSERT OR IGNORE INTO users (\n            username,\n            trust_level\n          ) VALUES (\n            :username,\n            :trust_level\n          )"],["\\\n          INSERT OR IGNORE INTO users (\n            username,\n            trust_level\n          ) VALUES (\n            :username,\n            :trust_level\n          )"])))).run({username:r,trust_level:e}))}addOrReplaceUser(t){const{trustLevel:e,username:r}=t;return M_(this._db.prepare(ge(E_||(E_=A_(["          INSERT OR REPLACE INTO users (\n            username,\n            trust_level\n          ) VALUES (\n            :username,\n            :trust_level\n          )"],["\\\n          INSERT OR REPLACE INTO users (\n            username,\n            trust_level\n          ) VALUES (\n            :username,\n            :trust_level\n          )"])))).run({username:r,trust_level:e}))}}function x_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function N_(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?x_(Object(r),!0).forEach((function(e){R_(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x_(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function R_(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const I_={recheckCategoryDefinitionsAfterMs:J},C_=(ut(I_),lt(I_)),j_={recheckCategoryDefinitionsAfterMs:864e5};function L_(t,e){return t.bumpedMs-e.bumpedMs}class P_{constructor(t,e,r,n){R_(this,"_options",void 0),R_(this,"_repo",void 0),R_(this,"_fetcher",void 0),R_(this,"_serverUrl",void 0),this._repo=t,this._fetcher=e,this._serverUrl=r,this._options=N_(N_({},j_),n||{})}async update(t){t.start("discourse"),await this._updateTopicsV2(t),await this._updateLikes(t),t.finish("discourse")}async _updateTopicsV2(t){t.start("discourse/topics");const{topicBumpMs:e,definitionCheckMs:r}=this._repo.syncHeads(),n=Date.now(),i=n-r>=this._options.recheckCategoryDefinitionsAfterMs,o=await this._fetcher.topicsBumpedSince(e),s=new Map(o.map(t=>[t.id,t.bumpedMs]));o.sort(L_);const a=new Set,c=i?await this._fetcher.categoryDefinitionTopicIds():[],u=[...o.map(t=>t.id),...c].filter(t=>!a.has(t)&&(a.add(t),!0));for(const t of u){const e=await this._fetcher.topicWithPosts(t);if(null!=e){const{topic:r,posts:n}=e,i=s.get(t)||this._repo.bumpedMsForTopic(t)||r.timestampMs;if(null==i)throw new Error("Missing bump date for topic ID: ".concat(r.id));const o=N_(N_({},r),{},{bumpedMs:i});this._repo.replaceTopicTransaction(o,n)}}i&&this._repo.bumpDefinitionTopicCheck(n),t.finish("discourse/topics")}async _updateLikes(t){const e=t=>{try{return{doneWithUser:0===this._repo.addLike(t).changes}}catch(e){return console.warn("Warning: Encountered error '".concat(e.message,"' ")+"on a like by ".concat(t.username," ")+"on post id ".concat(t.postId,".")),{doneWithUser:!1}}};let r=0;t.start("discourse/likes");for(const{username:t}of this._repo.users()){let n=0,i=!1;for(;!i;){const o=await this._fetcher.likesByUser(t,n);if(null==o)break;r=Math.max(o.length,r);for(const t of o)if(e(t).doneWithUser){i=!0;break}(0===o.length||o.length<r)&&(i=!0),n+=o.length}}t.finish("discourse/likes")}}function D_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function F_(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?D_(Object(r),!0).forEach((function(e){B_(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D_(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function B_(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const U_=ut({serverUrl:nt(K,t=>{if(!new RegExp(/^https?:\/\//).test(t))throw new Error("expected server url to start with 'https://' or 'http://'");return t})},{mirrorOptions:C_,weights:$y});const q_=nt(U_,(function(t){return F_(F_({},t),{},{weights:Vy.parseOrThrow(t.weights||{})})}));var H_=r(100),G_=r.n(H_);function z_(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class W_{constructor(t,e,r){z_(this,"options",void 0),z_(this,"_fetchImplementation",void 0),this.options=t;const n=bt(r,6e4/55),i=new G_.a({minTime:n}),o=bt(e,Sm.a);this._fetchImplementation=i.wrap(o)}async _fetchWithRetryOn520(t,e){let r=3;for(;r>0;){r--;const n=await this._fetchImplementation(t,e);if(520!==n.status)return n}throw new Error("repeated 520 errors on ".concat(t))}_fetch(t){const{serverUrl:e}=this.options;if(!t.startsWith("/"))throw new Error("invalid endpoint: ".concat(t));if(!e.startsWith("http")||e.endsWith("/"))throw new Error("invalid server url: ".concat(e));const r="".concat(e).concat(t);return this._fetchWithRetryOn520(r,{method:"GET",headers:{Accept:"application/json"}})}async categoryDefinitionTopicIds(){const t=new RegExp("/t/[\\w-]+/(\\d+)$"),e=[],r=[],n=await this._fetch("/categories.json?show_subcategory_list=true");$_(n),V_(n);const{categories:i}=(await n.json()).category_list;for(const t of i)null!=t.topic_url&&e.push(t.topic_url),t.subcategory_ids&&r.push(t.id);for(const t of r){const r=await this._fetch("/categories.json?show_subcategory_list=true&parent_category_id=".concat(t));$_(r),V_(r);const{categories:n}=(await r.json()).category_list;for(const t of n)null!=t.topic_url&&e.push(t.topic_url)}const o=e.map(e=>{const r=t.exec(e);if(null==r)throw new Error("Encountered topic URL we failed to parse it's TopicId from: ".concat(e));return Number(r[1])});return new Set(o)}async topicWithPosts(t){const e=await this._fetch("/t/".concat(t,".json")),{status:r}=e;if(403===r||404===r||410===r)return null;V_(e);const n=await e.json(),{posts_count:i}=n;let o=n.post_stream.posts.map(K_);const s=n.tags||[],a={id:n.id,categoryId:n.category_id.toString(),title:n.title,tags:s,timestampMs:Date.parse(n.created_at),authorUsername:n.details.created_by.username};let c=2;for(;i>o.length;){const e=await this._fetch("/t/".concat(t,".json?page=").concat(c));V_(e);const r=(await e.json()).post_stream.posts.map(K_);o=[...o,...r],c++}return{topic:a,posts:o}}async getUserData(t){const e=await this._fetch("/users/".concat(t,".json"));if(404===e.status)return null;$_(e),V_(e);return function(t){return{username:t.username,trustLevel:t.trust_level}}((await e.json()).user)}async likesByUser(t,e){const r=await this._fetch("/user_actions.json?username=".concat(t,"&filter=1&offset=").concat(e)),{status:n}=r;if(404===n)return null;$_(r),V_(r);return(await r.json()).user_actions.map(J_)}async topicsBumpedSince(t){const e=[];let r=1/0,n=!0,i=0;for(;r>=t&&n;){const o=await this._fetch("/latest.json?order=activity&ascending=false&page=".concat(i));$_(o),V_(o);const{topic_list:s}=await o.json();n=s.per_page===s.topics.length;for(const n of s.topics){const i=Y_(n);i.bumpedMs>t&&e.push(i),n.pinned||(r=Math.min(r,i.bumpedMs))}i++}return e}}function $_(t){if(404===t.status)throw new Error("404 Not Found on: ".concat(t.url,"; maybe bad serverUrl?"));if(403===t.status)throw new Error("403 Forbidden: bad API username or key?");if(410===t.status)throw new Error("410 Gone")}function V_(t){if(!t.ok)throw new Error("not OK status ".concat(t.status," on ").concat(t.url))}function Y_(t){if(null==t.bumped_at)throw new Error("Unexpected missing bumped_at field for /latest.json request for topic ID ".concat(t.id,"."));return{id:t.id,categoryId:t.category_id.toString(),tags:t.tags,title:t.title,timestampMs:Date.parse(t.created_at),bumpedMs:Date.parse(t.bumped_at)}}function K_(t){return{id:t.id,timestampMs:Date.parse(t.created_at),indexWithinTopic:t.post_number,replyToPostIndex:t.reply_to_post_number,topicId:t.topic_id,trustLevel:t.trust_level,authorUsername:t.username,cooked:t.cooked}}function J_(t){return{username:t.target_username,postId:t.post_id,timestampMs:Date.parse(t.created_at)}}class Z_{constructor(t){var e,r,n;n=void 0,(r="data")in(e=this)?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,this.data=t}addressFromUrl(t){const[e]=zy([t]);if(!e)return null;switch(e.type){case"TOPIC":if(this.data.topicById(e.topicId))return Zt(e.serverUrl,e.topicId);break;case"POST":{const t=this.data.findPostInTopic(e.topicId,e.postIndex);if(t)return Xt(e.serverUrl,t);break}case"USER":{const t=this.data.findUser(e.username);if(t)return Qt(e.serverUrl,t.username);break}default:throw new Error("Unexpected reference type: ".concat(e.type))}}}function X_(t){return"system"===t||"discobot"===t?"BOT":"USER"}function Q_(t,e){return e.users().map(e=>function(t,e){const{username:r}=e,n="".concat(t,"/u/").concat(r,"/"),i={description:"discourse/[@".concat(r,"](").concat(n,")"),address:Qt(t,r)};return{pluginName:pr("discourse"),name:gr(r),type:X_(r),alias:i}}(t,e))}async function tv(t){const e=t.configDirectory();return ks(new Fy(e),"config.json",q_)}async function ev(t,e){const r=Object(ps.join)(t.cacheDirectory(),"discourseMirror.db"),n=await new wm.a(r);return new k_(n,e)}class rv{async declaration(){return Jt}async load(t,e){const{serverUrl:r,mirrorOptions:n}=await tv(t),i=await ev(t,r),o=new W_({serverUrl:r}),s=new P_(i,o,r,n);await s.update(e)}async graph(t,e){const r=await tv(t);return Zy(r,await ev(t,r.serverUrl))}async referenceDetector(t){const e=await tv(t),r=await ev(t,e.serverUrl);return new Z_(r)}async identities(t){const e=await tv(t),r=await ev(t,e.serverUrl);return Q_(e.serverUrl,r)}}const nv=nt(st(ut({guildId:ft("//"),reactionWeightConfig:ut({weights:dt(J),defaultWeight:J,applyAveraging:X},{confidenceDampener:J})},{roleWeightConfig:ut({defaultWeight:J,weights:dt(J,ft("//"))}),channelWeightConfig:ut({defaultWeight:J,weights:dt(J,ft("//"))}),propsChannels:st(K),includeNsfwChannels:X,simplifyGraph:X})),(function(t){const e={defaultWeight:1,weights:{},applyAveraging:!1},r={defaultWeight:1,weights:{}},n={defaultWeight:1,weights:{}};return t.map(t=>({guildId:t.guildId,weights:{roleWeights:bt(t.roleWeightConfig,r),emojiWeights:bt(t.reactionWeightConfig,e),channelWeights:bt(t.channelWeightConfig,n)},propsChannels:t.propsChannels||[],includeNsfwChannels:t.includeNsfwChannels||!1,simplifyGraph:t.simplifyGraph||!1}))}));function iv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ov(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?iv(Object(r),!0).forEach((function(e){sv(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iv(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function sv(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const av={apiUrl:"https://discordapp.com/api",token:null,fetch:Sm.a};class cv{constructor(t){if(sv(this,"_options",void 0),sv(this,"_timeout",void 0),this._options=ov(ov({},av),t),!this._options.token)throw new Error("A BotToken is required");this._timeout=0}_fetch(t){const{apiUrl:e,token:r}=this._options;if(!r)throw new Error("A BotToken is required");const n={method:"GET",headers:{Accept:"application/json",Authorization:"Bot ".concat(r)}},i=new URL("".concat(e).concat(t)).href;return this._options.fetch(i,n)}async _wait(){const t=Date.now();if(t<this._timeout){const e=new Date(this._timeout),r=this._timeout-t;console.warn("Discord Rate limit reached. Waiting for ".concat(r/1e3," seconds (until ").concat(e.toLocaleString(),")")),await new Promise(t=>setTimeout(t,r))}}_checkRateLimit(t){const e=Number(t.headers.get("x-ratelimit-remaining")),r=1e3*Number(t.headers.get("x-ratelimit-reset"));0===e&&(this._timeout=r)}async _fetchJson(t){await this._wait();const e=await this._fetch(t);return function(t){if(404===t.status)throw new Error("404 Not Found on: ".concat(t.url,"; maybe bad serverUrl?"));if(403===t.status)throw new Error("403 Forbidden: bad API username or key?\n".concat(t.url));if(410===t.status)throw new Error("410 Gone")}(e),function(t){if(!t.ok)throw new Error("not OK status ".concat(t.status," on ").concat(t.url))}(e),this._checkRateLimit(e),await e.json()}async guilds(){return(await this._fetchJson("/users/@me/guilds")).map(t=>({id:t.id,name:t.name,permissions:t.permissions}))}async emojis(t){return(await this._fetchJson("/guilds/".concat(t,"/emojis"))).map(t=>({id:t.id,name:t.name}))}async channels(t){return(await this._fetchJson("/guilds/".concat(t,"/channels"))).map(t=>({id:t.id,parentId:t.parent_id,name:t.name,type:fe(t.type),nsfw:t.nsfw}))}async roles(t){return(await this._fetchJson("/guilds/".concat(t,"/roles"))).map(t=>({id:t.id,name:t.name}))}async members(t){let e=!1,r=[],n="0";for(;!e;){const i=await this._fetchJson("/guilds/".concat(t,"/members?after=").concat(n,"&limit=").concat(1e3));i.length<1e3?e=!0:n=i[i.length-1].user.id,r=[...r,...i]}return r.map(t=>({user:{id:t.user.id,username:t.user.username,discriminator:t.user.discriminator,bot:t.user.bot||t.user.system||!1},nick:t.nick||null,roles:t.roles}))}async messages(t,e,r){return(await this._fetchJson("/channels/".concat(t,"/messages?after=").concat(e,"&limit=").concat(r))).map(e=>({id:e.id,channelId:t,authorId:e.author.id,timestampMs:Date.parse(e.timestamp),content:e.content,reactionEmoji:(e.reactions||[]).map(t=>t.emoji),nonUserAuthor:null!=e.webhook_id||!1,mentions:(e.mentions||[]).map(t=>({userId:t.id,count:Array.from(e.content.matchAll("<@!?".concat(t.id,">"))).length}))}))}async reactions(t,e,r){let n=!1,i=[],o="0";const s=pe(r);for(;!n;){const r=await this._fetchJson("/channels/".concat(t,"/messages/").concat(e,"/reactions/").concat(s,"?after=").concat(o,"&limit=").concat(100));r.length<100?n=!0:o=r[r.length-1].id,i=[...i,...r]}return i.map(n=>({channelId:t,messageId:e,emoji:r,authorId:n.id}))}}function uv(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class lv{constructor(t,e,r){uv(this,"_repo",void 0),uv(this,"_api",void 0),uv(this,"config",void 0),this._repo=t,this._api=e,this.config=r}async update(t){const e=await this.validateGuildId();t.start("discord/".concat(e.name)),await this.addMembers();const r=await this.addTextChannels();for(const i of r){t.start("discord/".concat(e.name,"/#").concat(i.name));try{await this.addMessages(i.id,i.parentId)}catch(t){var n;const e=null!=t&&null!==(n=t.message)&&void 0!==n&&n.includes("403")?"Skipping private channel.":t;console.warn(e)}t.finish("discord/".concat(e.name,"/#").concat(i.name))}t.finish("discord/".concat(e.name))}async validateGuildId(){const t=(await this._api.guilds()).find(t=>t.id===this.config.guildId);if(!t)throw new Error("Couldn't find guild with ID ".concat(this.config.guildId,"\nMaybe the bot has no access to it?"));return t}async addMembers(){const t=await this._api.members(this.config.guildId);for(const e of t)this._repo.addMember(e);return this._repo.members()}async addTextChannels(){const t=await this._api.channels(this.config.guildId);for(const e of t)"GUILD_TEXT"===e.type&&Qe(this.config.weights.channelWeights,e.id,e.parentId)&&(!this.config.includeNsfwChannels&&e.nsfw||this._repo.addChannel(e));return this._repo.channels()}async addMessages(t,e,r){const n=this._repo.nthMessageFromTail(t,50),i=r||100;let o=[],s=n?n.id:"0";do{o=await this._api.messages(t,s,i);for(const e of o){s=s<e.id?e.id:s,this._repo.addMessage(e);for(const r of e.reactionEmoji){const n=await this._api.reactions(t,e.id,r);for(const t of n)this._repo.addReaction(t)}}}while(o.length>=i);return this._repo.messages(t)}}async function hv(t){const e=t.configDirectory();return ks(new Fy(e),"config.json",nv)}class dv{async declaration(){return he}async load(t,e){const r=await hv(t),n=function(){const t=process.env.SOURCECRED_DISCORD_TOKEN;if(null==t)throw new Error("No Discord token provided: set ".concat("SOURCECRED_DISCORD_TOKEN"));return t}(),i=new cv({token:n});for(const n of r){const r=await fv(t,n.guildId),o=new lv(r,i,n);await o.update(e)}}async graph(t,e){const r=await hv(t),n=bs(await Promise.all(r.map(async e=>dr(e,await fv(t,e.guildId))))),i=hi(he),o=ze([n.weights,i]);return{graph:n.graph,weights:o}}async referenceDetector(t){return{addressFromUrl:()=>{}}}async identities(t){const e=await hv(t);return(await Promise.all(e.map(async e=>{let{guildId:r}=e;return vr(await fv(t,r))}))).flat(1)}}async function fv(t,e){const r=Object(ps.join)(t.cacheDirectory(),"discordMirror-".concat(e,".db")),n=await new wm.a(r);return new Ue(n,e)}var pv=r(101),mv=r.n(pv);function gv(t){return String(t).toLowerCase().replace(/[^a-z0-9-_]+/g,"-").replace(/--+/g,"-").replace(/^-/,"").replace(/-$/,"")}function yv(t,e){const{urls:r,entries:n}=t||{};return function(t){const e=function(t){const e=function(t){const e=new Set,r=new Set;for(const n of t)e.has(n)?r.add(n):e.add(n);return r}(t.map(t=>t.key));return new Set(t.filter(t=>e.has(t.key)))}(t.entries);if(e.size){const t=Array.from(e).map(t=>JSON.stringify(t)).join("\n  ");throw new Error("Duplicate entry keys are not allowed, you may need to "+"set keys manually for:\n  ".concat(t))}return t}({urls:r||[],entries:(n||[]).map(t=>function(t,e){if(!t.title)throw new TypeError("Title is required for an entry, received ".concat(JSON.stringify(t)));return{key:t.key||gv(t.title),title:t.title,timestampMs:t.timestampIso?qh(t.timestampIso):e,contributors:t.contributors||[],weight:t.weight||null}}(t,e))})}function _v(t){return Tt.append(Sr.prefix,...t)}function vv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function bv(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?vv(Object(r),!0).forEach((function(e){wv(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vv(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function wv(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Ev=t=>bv(bv({},t),{},{contributions:{urls:t.contributions},dependencies:{urls:t.dependencies},references:{urls:t.references}}),Sv={type:"sourcecred/initiativeFile",version:"0.2.0"};function Tv(t){const e=Tt.append(Sr.prefix,"INITIATIVE_FILE");if(!Tt.hasPrefix(t,e))return null;const r=Tt.toParts(t),n=r[4],i=r[5];return"".concat(n,"/").concat(i)}function Av(t,e){let{remoteUrl:r}=t;return function(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return[t,e,...n]}("INITIATIVE_FILE",r,e)}const Ov=nt(K,Bv),Mv=nt(K,t=>Uh(qh(t))),kv={title:K,timestampIso:Mv,weight:ut({incomplete:J,complete:J}),completed:X},xv=ut({title:K,timestampIso:Mv,contributors:st(K)},{key:K,weight:J}),Nv=ut({},{urls:st(Ov),entries:st(xv)}),Rv=ut(kv,{contributions:Nv,dependencies:Nv,references:Nv,champions:st(K)}),Iv=ut(kv,{contributions:st(Ov),dependencies:st(Ov),references:st(Ov),champions:st(Ov)}),Cv=_t(Sv.type,{"0.2.0":Rv,"0.1.0":nt(Iv,Ev)});function jv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Lv(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?jv(Object(r),!0).forEach((function(e){Pv(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jv(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Pv(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dv(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}async function Fv(t){const e=Bv(t.remoteUrl),r=await async function(t){const e=ms.a.resolve(t);if(!await _m.a.exists(e))throw new Error("Provided initiatives directory does not exist at: ".concat(e));if(!(await _m.a.lstat(e)).isDirectory())throw new Error("Provided initiatives directory is not a directory at: ".concat(e));return e}(t.localPath),n={remoteUrl:e,localPath:r},i=await async function(t){return(await mv()(ms.a.join(t,"*.json"))).map(t=>ms.a.basename(t))}(r),o=function(t,e){const r=[];for(const[n,i]of e.entries()){const{timestampIso:e,champions:o,contributions:s,dependencies:a,references:c}=i,u=Dv(i,["timestampIso","champions","contributions","dependencies","references"]),l=qh(e),h=Lv(Lv({},u),{},{id:Av(t,n),timestampMs:l,champions:o||[],contributions:yv(s,l),dependencies:yv(a,l),references:yv(c,l)});r.push(h)}return r}(n,await async function(t,e){const r=new Map,n=[...e].sort();for(const e of n){const n=new Fy(t),i=await ks(n,e,Cv);r.set(e,i)}return r}(r,i)),s=function(t){const e=new Map;for(const{id:r}of t){const t=_v(r),n=Tv(t);if(!n)throw new Error("BUG: Initiative doesn't return an initiativeFileURL");e.set(n,t)}return e}(o);return{initiatives:{initiatives:()=>o},referenceDetector:new Ry(s)}}function Bv(t){try{const e=new global.URL(t);if(e.search)throw"URL should not have a search component: ".concat(e.search);if(e.hash)throw"URL should not have a hash component: ".concat(e.hash);return e.toString().replace(/\/+$/,"")}catch(e){throw new Error("Provided initiatives directory URL was invalid: ".concat(t,"\n").concat(e))}}const Uv=ut({remoteUrl:nt(K,Bv)});function qv(t){return _v(t.id)}function Hv(t){const e=qv(t),r=Tv(e);return{address:e,timestampMs:t.timestampMs,description:null==r?t.title:"[".concat(t.title,"](").concat(r,")")}}function Gv(t,e,r){return{address:function(t,e,r){return Tt.append(Or[t].prefix,...e,r)}(r,e,t.key),timestampMs:t.timestampMs,description:t.title}}function zv(t){if(t.weight)return t.completed?t.weight.complete:t.weight.incomplete}function Wv(t,e){return(r,n)=>{const i=qv(r),o=e?i:n,s=e?n:i;return{address:At.append(t,...Tt.toParts(qv(r)),...Tt.toParts(n)),timestampMs:r.timestampMs,src:o,dst:s}}}const $v=Wv(Nr.prefix,!0),Vv=Wv(Rr.prefix,!0),Yv=Wv(Ir.prefix,!1),Kv=Wv(jr.prefix,!1);async function Jv(t){return ks(new Fy(t.configDirectory()),"config.json",Uv)}function Zv(t){return Object(ps.join)(t.configDirectory(),"initiatives")}class Xv{async declaration(){return Lr}async load(){}async graph(t,e){const{remoteUrl:r}=await Jv(t),n=Zv(t),{initiatives:i}=await Fv({remoteUrl:r,localPath:n}),{graph:o,weights:s}=function(t,e){const r=ys(),{graph:n,weights:i}=r;for(const r of t.initiatives()){const t=Hv(r),o=zv(r);n.addNode(t),o&&i.nodeWeights.set(t.address,o);const s=(t,i)=>{for(const o of t){const t=e.addressFromUrl(o);t?n.addEdge(i(r,t)):console.warn("initiative ".concat(r.title,": no address for ").concat(o))}},a=(t,o,a)=>{let{urls:c,entries:u}=t;s(c,o);for(const t of u){const s=Gv(t,r.id,a);n.addNode(s),n.addEdge(o(r,s.address)),null!=t.weight&&i.nodeWeights.set(s.address,t.weight);for(const r of t.contributors){const i=e.addressFromUrl(r);i?n.addEdge({address:At.append(Cr.prefix,...Tt.toParts(s.address),...Tt.toParts(i)),timestampMs:t.timestampMs,src:i,dst:s.address}):console.warn("entry ".concat(t.title,": no address for contributor ").concat(r))}}};a(r.dependencies,$v,"DEPENDENCY"),a(r.references,Vv,"REFERENCE"),a(r.contributions,Yv,"CONTRIBUTION"),s(r.champions,Kv)}return r}(i,e);return{graph:o,weights:ze([s,hi(Lr)])}}async referenceDetector(t){const{remoteUrl:e}=await Jv(t),r=Zv(t),{referenceDetector:n}=await Fv({remoteUrl:e,localPath:r});return n}async identities(){return[]}}class Qv{async declaration(){return Zn}async load(){}async graph(t,e){return ys()}async referenceDetector(t){return new Ry(new Map)}async identities(t){return ei(await async function(t){const e=new Fy(t.configDirectory());return await ks(e,"ethereumAddresses.json",oi)}(t))}}function tb(t){const e={"sourcecred/github":new Hy,"sourcecred/discourse":new rv,"sourcecred/discord":new dv,"sourcecred/initiatives":new Xv,"sourcecred/ethereum":new Qv};return e[t.toString()]?e[t.toString()]:"external"===Ru(t)?new qu({pluginId:t,storage:new Fy(process.cwd())}):void 0}const eb=Bp.fmap((function(t){const e=new Map;for(const r of t.bundledPlugins){const t=tb(r);if(null==t)throw new Error("bad bundled plugin: "+JSON.stringify(r));e.set(r,t)}return{bundledPlugins:e}}));function rb(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const nb=["config","dependencies.json"],ib=["config","personalAttributions.json"],ob=["sourcecred.json"],sb=["output","credGraph"],ab=["output","credGrainView"],cb=["graph"],ub=["data","ledger.json"],lb=["output","accounts.json"],hb=["output","neo4j"],db=["output","grainIntegration"];function fb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function pb(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const mb=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?fb(Object(r),!0).forEach((function(e){pb(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fb(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},P()(gm));mb.instance.LocalInstance=class extends pm{constructor(t){const e=new Fy(t);super(e),rb(this,"_baseDirectory",void 0),rb(this,"_writableStorage",void 0),rb(this,"_writableZipStorage",void 0),this._writableStorage=e,this._baseDirectory=t,this._writableZipStorage=new Au(e)}async readGraphInput(){const[t,e]=await Promise.all([this.readInstanceConfig(),this.readLedger()]),r=[];for(const[e,n]of t.bundledPlugins.entries())r.push({pluginId:e,plugin:n,directoryContext:this.pluginDirectoryContext(e)});return{plugins:r,ledger:e}}async writeGraphOutput(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await Promise.all([this.writeLedger(t.ledger),...t.pluginGraphs.map(t=>{let{pluginId:r,weightedGraph:n}=t;return this.writePluginGraph(r,n,e)})])}async writeCredrankOutput(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await Promise.all([this.writeLedger(t.ledger),this.writeCredGraph(t.credGraph,e),this.writeCredGrainView(t.credGrainView,e),this.writeDependenciesConfig(t.dependencies),this.writePersonalAttributionsConfig(t.personalAttributions)])}async writeAnalysisOutput(t){await Promise.all([this.writeCredAccounts(t.accounts),this.writeNeo4jOutput(t.neo4j)])}async writeLedger(t){const e=Object(ps.join)(...ub);return this._writableStorage.set(e,Os(t.serialize()))}async writeGrainIntegrationOutput(t){if(!t.output)return;const{fileName:e,content:r}=t.output;vm(Object(ps.join)(...db));const n=Uh(t.distributionCredTimestamp),i=Object(ps.join)(...db,n+"_"+e);this._writableStorage.set(i,Os(r))}async readInstanceConfig(){const t=Object(ps.join)(...ob);return ks(this._storage,t,eb)}createPluginDirectory(t,e){const r=e.split("/");if(2!==r.length)throw new Error("Bad plugin name: ".concat(e));const[n,i]=r,o=[...t,n,i];let s=this._baseDirectory;for(const t of o)s=Object(ps.join)(s,t),vm(s);return Object(ps.join)(...o)}pluginDirectoryContext(t){const e=this.createPluginDirectory(["cache"],t),r=this.createPluginDirectory(["config","plugins"],t);return{configDirectory:()=>r,cacheDirectory:()=>e}}async writeCredGraph(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=U()(t.toJSON()),n=Object(ps.join)(...sb)+(e?"":".json");return(e?this._writableZipStorage:this._writableStorage).set(n,Os(r))}async writeCredGrainView(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=U()(t.toJSON()),n=Object(ps.join)(...ab)+(e?"":".json");return(e?this._writableZipStorage:this._writableStorage).set(n,Os(r))}async writePluginGraph(t,e){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=Os(U()(_s(e))),i=this.createPluginGraphDirectory(t),o=Object(ps.join)(i,...cb)+(r?"":".json");return(r?this._writableZipStorage:this._writableStorage).set(o,n)}async writeDependenciesConfig(t){const e=Object(ps.join)(...nb);return this._writableStorage.set(e,U()(t,{space:4}))}async writePersonalAttributionsConfig(t){const e=Object(ps.join)(...ib);return this._writableStorage.set(e,U()(t,{space:4}))}async writeCredAccounts(t){const e=Object(ps.join)(...lb);return this._writableStorage.set(e,Os(U()(t)))}async writeNeo4jOutput(t){t&&(vm(Object(ps.join)(...hb)),await Promise.all([this.writeFromIterator(t.nodes,hb,"nodes_",".csv",!1),this.writeFromIterator(t.edges,hb,"edges_",".csv",!1)]))}async writeFromIterator(t,e,r,n,i){const o=[],s=i?this._writableZipStorage:this._writableStorage;let a=1;for(const i of t){const t=Object(ps.join)(...e,r+a+n);o.push(s.set(t,Os(i))),a++}await Promise.all(o)}},mb.plugins.github.GithubPlugin=Hy,mb.plugins.discord.DiscordPlugin=dv,mb.plugins.discourse.DiscoursePlugin=rv,mb.plugins.initiatives.InitiativesPlugin=Xv;e.default=j()(mb)}]).default;